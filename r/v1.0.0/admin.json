{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "shadcn-admin-kit-base",
  "type": "registry:block",
  "title": "Shadcn Admin Kit Base",
  "description": "Shadcn Admin Kit Base Components",
  "dependencies": [
    "@tanstack/react-query",
    "class-variance-authority",
    "clsx",
    "diacritic",
    "inflection",
    "lodash",
    "lucide-react",
    "query-string",
    "ra-core",
    "ra-i18n-polyglot",
    "ra-language-english",
    "react-dropzone",
    "react-hook-form",
    "react-router",
    "tailwind-merge",
    "tw-animate-css",
    "@radix-ui/react-slot",
    "@radix-ui/react-separator",
    "@radix-ui/react-dialog",
    "@radix-ui/react-tooltip",
    "@radix-ui/react-dropdown-menu",
    "@radix-ui/react-avatar",
    "sonner",
    "@radix-ui/react-label",
    "cmdk",
    "@radix-ui/react-popover",
    "@radix-ui/react-switch",
    "vaul",
    "@radix-ui/react-checkbox",
    "@radix-ui/react-select",
    "@radix-ui/react-radio-group",
    "react-error-boundary",
    "@radix-ui/react-accordion"
  ],
  "registryDependencies": [
    "accordion",
    "alert",
    "avatar",
    "badge",
    "breadcrumb",
    "button",
    "card",
    "checkbox",
    "command",
    "drawer",
    "dropdown-menu",
    "input",
    "label",
    "navigation-menu",
    "pagination",
    "popover",
    "radio-group",
    "select",
    "separator",
    "sheet",
    "sidebar",
    "switch",
    "skeleton",
    "sonner",
    "table",
    "textarea",
    "tooltip"
  ],
  "files": [
    {
      "path": "src/components/admin/admin.tsx",
      "content": "import {\n  CoreAdminUI,\n  type CoreAdminUIProps,\n  CoreAdminContext,\n  type CoreAdminContextProps,\n  type CoreAdminProps,\n  localStorageStore,\n} from \"ra-core\";\nimport { i18nProvider as defaultI18nProvider } from \"@/lib/i18nProvider\";\nimport { Layout } from \"@/components/admin/layout\";\nimport { LoginPage } from \"@/components/admin/login-page\";\nimport { Ready } from \"@/components/admin/ready\";\nimport { ThemeProvider } from \"@/components/admin/theme-provider\";\nimport { AuthCallback } from \"@/components/admin/authentication\";\n\nconst defaultStore = localStorageStore();\n\nconst AdminContext = (props: CoreAdminContextProps) => (\n  <CoreAdminContext {...props} />\n);\n\nconst AdminUI = (props: CoreAdminUIProps) => (\n  <ThemeProvider>\n    <CoreAdminUI\n      layout={Layout}\n      loginPage={LoginPage}\n      ready={Ready}\n      authCallbackPage={AuthCallback}\n      {...props}\n    />\n  </ThemeProvider>\n);\n\nexport const Admin = (props: CoreAdminProps) => {\n  const {\n    accessDenied,\n    authCallbackPage = AuthCallback,\n    authenticationError,\n    authProvider,\n    basename,\n    catchAll,\n    children,\n    dashboard,\n    dataProvider,\n    disableTelemetry,\n    error,\n    i18nProvider = defaultI18nProvider,\n    layout = Layout,\n    loading,\n    loginPage = LoginPage,\n    queryClient,\n    ready = Ready,\n    requireAuth,\n    store = defaultStore,\n    title = \"Shadcn Admin\",\n  } = props;\n  return (\n    <AdminContext\n      authProvider={authProvider}\n      basename={basename}\n      dataProvider={dataProvider}\n      i18nProvider={i18nProvider}\n      queryClient={queryClient}\n      store={store}\n    >\n      <AdminUI\n        accessDenied={accessDenied}\n        authCallbackPage={authCallbackPage}\n        authenticationError={authenticationError}\n        catchAll={catchAll}\n        dashboard={dashboard}\n        disableTelemetry={disableTelemetry}\n        error={error}\n        layout={layout}\n        loading={loading}\n        loginPage={loginPage}\n        ready={ready}\n        requireAuth={requireAuth}\n        title={title}\n      >\n        {children}\n      </AdminUI>\n    </AdminContext>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/app-sidebar.tsx",
      "content": "import { createElement } from \"react\";\nimport {\n  useCanAccess,\n  useCreatePath,\n  useGetResourceLabel,\n  useHasDashboard,\n  useResourceDefinitions,\n  useTranslate,\n} from \"ra-core\";\nimport { Link, useMatch } from \"react-router\";\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupContent,\n  SidebarHeader,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  useSidebar,\n} from \"@/components/ui/sidebar\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { House, List, Shell } from \"lucide-react\";\n\nexport function AppSidebar() {\n  const hasDashboard = useHasDashboard();\n  const resources = useResourceDefinitions();\n  const { openMobile, setOpenMobile } = useSidebar();\n  const handleClick = () => {\n    if (openMobile) {\n      setOpenMobile(false);\n    }\n  };\n  return (\n    <Sidebar variant=\"floating\" collapsible=\"icon\">\n      <SidebarHeader>\n        <SidebarMenu>\n          <SidebarMenuItem>\n            <SidebarMenuButton\n              asChild\n              className=\"data-[slot=sidebar-menu-button]:!p-1.5\"\n            >\n              <Link to=\"/\">\n                <Shell className=\"!size-5\" />\n                <span className=\"text-base font-semibold\">Acme Inc.</span>\n              </Link>\n            </SidebarMenuButton>\n          </SidebarMenuItem>\n        </SidebarMenu>\n      </SidebarHeader>\n      <SidebarContent>\n        <SidebarGroup>\n          <SidebarGroupContent>\n            <SidebarMenu>\n              {hasDashboard ? (\n                <DashboardMenuItem onClick={handleClick} />\n              ) : null}\n              {Object.keys(resources)\n                .filter((name) => resources[name].hasList)\n                .map((name) => (\n                  <ResourceMenuItem\n                    key={name}\n                    name={name}\n                    onClick={handleClick}\n                  />\n                ))}\n            </SidebarMenu>\n          </SidebarGroupContent>\n        </SidebarGroup>\n      </SidebarContent>\n      <SidebarFooter />\n    </Sidebar>\n  );\n}\n\nexport const DashboardMenuItem = ({ onClick }: { onClick?: () => void }) => {\n  const translate = useTranslate();\n  const label = translate(\"ra.page.dashboard\", {\n    _: \"Dashboard\",\n  });\n  const match = useMatch({ path: \"/\", end: true });\n  return (\n    <SidebarMenuItem>\n      <SidebarMenuButton asChild isActive={!!match}>\n        <Link to=\"/\" onClick={onClick}>\n          <House />\n          {label}\n        </Link>\n      </SidebarMenuButton>\n    </SidebarMenuItem>\n  );\n};\n\nexport const ResourceMenuItem = ({\n  name,\n  onClick,\n}: {\n  name: string;\n  onClick?: () => void;\n}) => {\n  const { canAccess, isPending } = useCanAccess({\n    resource: name,\n    action: \"list\",\n  });\n  const resources = useResourceDefinitions();\n  const getResourceLabel = useGetResourceLabel();\n  const createPath = useCreatePath();\n  const to = createPath({\n    resource: name,\n    type: \"list\",\n  });\n  const match = useMatch({ path: to, end: false });\n\n  if (isPending) {\n    return <Skeleton className=\"h-8 w-full\" />;\n  }\n\n  if (!resources || !resources[name] || !canAccess) return null;\n\n  return (\n    <SidebarMenuItem>\n      <SidebarMenuButton asChild isActive={!!match}>\n        <Link to={to} state={{ _scrollToTop: true }} onClick={onClick}>\n          {resources[name].icon ? (\n            createElement(resources[name].icon)\n          ) : (\n            <List />\n          )}\n          {getResourceLabel(name, 2)}\n        </Link>\n      </SidebarMenuButton>\n    </SidebarMenuItem>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/array-field.tsx",
      "content": "import { ReactNode } from \"react\";\nimport {\n  ListContextProvider,\n  useList,\n  useFieldValue,\n  RaRecord,\n  UseListOptions,\n  UseFieldValueOptions,\n} from \"ra-core\";\n\nexport const ArrayField = <RecordType extends RaRecord = RaRecord>(\n  props: ArrayFieldProps<RecordType>,\n) => {\n  const { children, resource, perPage, sort, filter } = props;\n  const data = useFieldValue(props) || emptyArray;\n  const listContext = useList({ data, resource, perPage, sort, filter });\n\n  return (\n    <ListContextProvider value={listContext}>{children}</ListContextProvider>\n  );\n};\nexport type ArrayFieldProps<\n  RecordType extends RaRecord = RaRecord,\n  ErrorType = Error,\n> = UseListOptions<RecordType, ErrorType> &\n  UseFieldValueOptions<RecordType> & {\n    children?: ReactNode;\n  };\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst emptyArray: any[] = [];\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/array-input.tsx",
      "content": "import {\n  FieldTitle,\n  InputProps,\n  OptionalResourceContextProvider,\n  SourceContextProvider,\n  type SourceContextValue,\n  composeSyncValidators,\n  isRequired,\n  useApplyInputDefaultValues,\n  useFormGroupContext,\n  useFormGroups,\n  useGetValidationErrorMessage,\n  useSourceContext,\n} from \"ra-core\";\nimport * as React from \"react\";\nimport { useEffect } from \"react\";\nimport { useFieldArray, useFormContext } from \"react-hook-form\";\n\nimport { Label } from \"@/components/ui/label\";\nimport { cn } from \"@/lib/utils\";\nimport { Skeleton } from \"../ui/skeleton\";\nimport { sanitizeInputRestProps } from \"@/lib/sanitizeInputRestProps\";\nimport { ArrayInputContext } from \"@/hooks/array-input-context\";\nimport { InputHelperText } from \"@/components/admin/input-helper-text\";\nimport { FormError, FormField } from \"@/components/admin/form\";\n\nexport const ArrayInput = (props: ArrayInputProps) => {\n  const {\n    className,\n    defaultValue = [],\n    label,\n    isPending,\n    children,\n    helperText,\n    resource: resourceFromProps,\n    source: arraySource,\n    validate,\n    ...rest\n  } = props;\n\n  const formGroupName = useFormGroupContext();\n  const formGroups = useFormGroups();\n  const parentSourceContext = useSourceContext();\n  const finalSource = parentSourceContext.getSource(arraySource);\n\n  const sanitizedValidate = Array.isArray(validate)\n    ? composeSyncValidators(validate)\n    : validate;\n  const getValidationErrorMessage = useGetValidationErrorMessage();\n\n  const { getValues } = useFormContext();\n\n  const fieldProps = useFieldArray({\n    name: finalSource,\n    rules: {\n      validate: async (value) => {\n        if (!sanitizedValidate) return true;\n        const error = await sanitizedValidate(value, getValues(), props);\n\n        if (!error) return true;\n        return getValidationErrorMessage(error);\n      },\n    },\n  });\n\n  useEffect(() => {\n    if (formGroups && formGroupName != null) {\n      formGroups.registerField(finalSource, formGroupName);\n    }\n\n    return () => {\n      if (formGroups && formGroupName != null) {\n        formGroups.unregisterField(finalSource, formGroupName);\n      }\n    };\n  }, [finalSource, formGroups, formGroupName]);\n\n  useApplyInputDefaultValues({\n    inputProps: { ...props, defaultValue },\n    isArrayInput: true,\n    fieldArrayInputControl: fieldProps,\n  });\n\n  // The SourceContext will be read by children of ArrayInput to compute their composed source and label\n  //\n  // <ArrayInput source=\"orders\" /> => SourceContext is \"orders\"\n  //   <SimpleFormIterator> => SourceContext is \"orders.0\"\n  //     <DateInput source=\"date\" /> => final source for this input will be \"orders.0.date\"\n  //   </SimpleFormIterator>\n  // </ArrayInput>\n  //\n  const sourceContext = React.useMemo<SourceContextValue>(\n    () => ({\n      // source is the source of the ArrayInput child\n      getSource: (source: string) => {\n        if (!source) {\n          // SimpleFormIterator calls getSource('') to get the arraySource\n          return parentSourceContext.getSource(arraySource);\n        }\n\n        // We want to support nesting and composition with other inputs (e.g. TranslatableInputs, ReferenceOneInput, etc),\n        // we must also take into account the parent SourceContext\n        //\n        // <ArrayInput source=\"orders\" /> => SourceContext is \"orders\"\n        //   <SimpleFormIterator> => SourceContext is \"orders.0\"\n        //      <DateInput source=\"date\" /> => final source for this input will be \"orders.0.date\"\n        //      <ArrayInput source=\"items\" /> => SourceContext is \"orders.0.items\"\n        //          <SimpleFormIterator> => SourceContext is \"orders.0.items.0\"\n        //              <TextInput source=\"reference\" /> => final source for this input will be \"orders.0.items.0.reference\"\n        //          </SimpleFormIterator>\n        //      </ArrayInput>\n        //   </SimpleFormIterator>\n        // </ArrayInput>\n        return parentSourceContext.getSource(`${arraySource}.${source}`);\n      },\n      // if Array source is items, and child source is name, .0.name => resources.orders.fields.items.name\n      getLabel: (source: string) =>\n        parentSourceContext.getLabel(`${arraySource}.${source}`),\n    }),\n    [parentSourceContext, arraySource],\n  );\n\n  if (isPending) {\n    return <Skeleton className=\"w-full h-9\" />;\n  }\n\n  return (\n    <FormField\n      className={cn(\n        \"ra-input\",\n        `ra-input-${finalSource}`,\n        className,\n        \"w-full flex flex-col gap-2\",\n      )}\n      name={finalSource}\n      {...sanitizeInputRestProps(rest)}\n    >\n      <Label className=\"text-muted-foreground text-sm\">\n        <FieldTitle\n          label={label}\n          source={arraySource}\n          resource={resourceFromProps}\n          isRequired={isRequired(validate)}\n        />\n      </Label>\n      <ArrayInputContext.Provider value={fieldProps}>\n        <OptionalResourceContextProvider value={resourceFromProps}>\n          <SourceContextProvider value={sourceContext}>\n            {children}\n          </SourceContextProvider>\n        </OptionalResourceContextProvider>\n      </ArrayInputContext.Provider>\n\n      <InputHelperText helperText={helperText} />\n      <FormError />\n    </FormField>\n  );\n};\n\nexport interface ArrayInputProps\n  extends Omit<InputProps, \"disabled\" | \"readOnly\"> {\n  className?: string;\n  children: React.ReactNode;\n  isFetching?: boolean;\n  isLoading?: boolean;\n  isPending?: boolean;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/hooks/array-input-context.tsx",
      "content": "import { createContext, useContext, useMemo } from \"react\";\nimport { UseFieldArrayReturn } from \"react-hook-form\";\n\n/**\n * A React context that provides access to an ArrayInput methods as provided by react-hook-form\n * Useful to create custom array input iterators.\n * @deprecated Use ArrayInputContext from `ra-core` once available.\n * @see {ArrayInput}\n * @see {@link https://react-hook-form.com/docs/usefieldarray}\n */\nexport const ArrayInputContext = createContext<\n  ArrayInputContextValue | undefined\n>(undefined);\n\n/**\n * @deprecated Use ArrayInputContextValue from `ra-core` once available.\n */\nexport type ArrayInputContextValue = UseFieldArrayReturn;\n\n/**\n * @deprecated Use useArrayInput from `ra-core` once available.\n */\nexport const useArrayInput = (\n  props?: Partial<ArrayInputContextValue>,\n): ArrayInputContextValue => {\n  const context = useContext(ArrayInputContext);\n  const memo = useMemo(\n    () =>\n      ({\n        append: props?.append,\n        fields: props?.fields,\n        insert: props?.insert,\n        move: props?.move,\n        prepend: props?.prepend,\n        remove: props?.remove,\n        replace: props?.replace,\n        swap: props?.swap,\n        update: props?.update,\n      }) as ArrayInputContextValue,\n    [props],\n  );\n\n  if (props?.fields) {\n    return memo;\n  }\n  if (!context) {\n    throw new Error(\n      \"useArrayInput must be used inside an ArrayInputContextProvider\",\n    );\n  }\n\n  return context;\n};\n",
      "type": "registry:hook"
    },
    {
      "path": "src/components/admin/authentication.tsx",
      "content": "import { Link } from \"react-router\";\nimport { Translate, useHandleAuthCallback, useTranslate } from \"ra-core\";\nimport { CircleAlert, LockIcon } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Loading } from \"@/components/admin/loading\";\n\n/**\n * A standalone page to be used in a route called by external authentication services (e.g. OAuth)\n * after the user has been authenticated.\n *\n * Copy and adapt this component to implement your own login logic\n * (e.g. to show a different waiting screen, start onboarding procedures, etc.).\n *\n * @example\n *     import MyAuthCallbackPage from './MyAuthCallbackPage';\n *     const App = () => (\n *         <Admin authCallbackPage={MyAuthCallbackPage} authProvider={authProvider}>\n *             ...\n *         </Admin>\n *     );\n */\nexport const AuthCallback = () => {\n  const { error } = useHandleAuthCallback();\n  if (error) {\n    return (\n      <AuthError\n        message={(error as Error) ? (error as Error).message : undefined}\n      />\n    );\n  }\n  return <Loading />;\n};\n\nexport interface AuthErrorProps {\n  className?: string;\n  title?: string;\n  message?: string;\n}\n\nexport const AuthError = (props: AuthErrorProps) => {\n  const {\n    className,\n    title = \"ra.page.error\",\n    message = \"ra.message.auth_error\",\n    ...rest\n  } = props;\n\n  const translate = useTranslate();\n  return (\n    <div\n      className={cn(\n        \"flex flex-col justify-center items-center h-full\",\n        className,\n      )}\n      {...rest}\n    >\n      <h1 className=\"flex items-center text-3xl my-5 gap-3\" role=\"alert\">\n        <CircleAlert className=\"w-2em h-2em\" />\n        <Translate i18nKey={title} />\n      </h1>\n      <p className=\"my-5\">{translate(message, { _: message })}</p>\n      <Button asChild>\n        <Link to=\"/login\">\n          <LockIcon /> {translate(\"ra.auth.sign_in\", { _: \"Sign in\" })}\n        </Link>\n      </Button>\n    </div>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/autocomplete-input.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport * as React from \"react\";\nimport { useCallback } from \"react\";\nimport { Check, ChevronsUpDown } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from \"@/components/ui/command\";\nimport {\n  FormControl,\n  FormError,\n  FormField,\n  FormLabel,\n} from \"@/components/admin/form\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n  ChoicesProps,\n  InputProps,\n  useChoices,\n  useChoicesContext,\n  useGetRecordRepresentation,\n  useInput,\n  useTranslate,\n  FieldTitle,\n  useEvent,\n} from \"ra-core\";\nimport { InputHelperText } from \"./input-helper-text\";\nimport {\n  SupportCreateSuggestionOptions,\n  useSupportCreateSuggestion,\n} from \"@/hooks/useSupportCreateSuggestion\";\n\nexport const AutocompleteInput = (\n  props: Omit<InputProps, \"source\"> &\n    Omit<SupportCreateSuggestionOptions, \"handleChange\" | \"filter\"> &\n    Partial<Pick<InputProps, \"source\">> &\n    ChoicesProps & {\n      className?: string;\n      disableValue?: string;\n      filterToQuery?: (searchText: string) => any;\n      translateChoice?: boolean;\n      placeholder?: string;\n      inputText?:\n        | React.ReactNode\n        | ((option: any | undefined) => React.ReactNode);\n    },\n) => {\n  const {\n    filterToQuery = DefaultFilterToQuery,\n    inputText,\n    create,\n    createValue,\n    createLabel,\n    createHintValue,\n    createItemLabel,\n    onCreate,\n    optionText,\n  } = props;\n  const {\n    allChoices = [],\n    source,\n    resource,\n    isFromReference,\n    setFilters,\n  } = useChoicesContext(props);\n  const { id, field, isRequired } = useInput({ ...props, source });\n  const translate = useTranslate();\n  const { placeholder = translate(\"ra.action.search\", { _: \"Search...\" }) } =\n    props;\n\n  const getRecordRepresentation = useGetRecordRepresentation(resource);\n  const { getChoiceText, getChoiceValue } = useChoices({\n    optionText:\n      props.optionText ?? (isFromReference ? getRecordRepresentation : \"name\"),\n    optionValue: props.optionValue ?? \"id\",\n    disableValue: props.disableValue,\n    translateChoice: props.translateChoice ?? !isFromReference,\n  });\n\n  const [filterValue, setFilterValue] = React.useState(\"\");\n\n  const [open, setOpen] = React.useState(false);\n  const selectedChoice = allChoices.find(\n    (choice) => getChoiceValue(choice) === field.value,\n  );\n\n  const getInputText = useCallback(\n    (selectedChoice: any) => {\n      if (typeof inputText === \"function\") {\n        return inputText(selectedChoice);\n      }\n      if (inputText !== undefined) {\n        return inputText;\n      }\n      return getChoiceText(selectedChoice);\n    },\n    [inputText, getChoiceText],\n  );\n\n  const handleOpenChange = useEvent((isOpen: boolean) => {\n    setOpen(isOpen);\n    // Reset the filter when the popover is closed\n    if (!isOpen) {\n      setFilters(filterToQuery(\"\"));\n    }\n  });\n\n  const handleChange = useCallback(\n    (choice: any) => {\n      if (field.value === getChoiceValue(choice) && !isRequired) {\n        field.onChange(\"\");\n        setFilterValue(\"\");\n        if (isFromReference) {\n          setFilters(filterToQuery(\"\"));\n        }\n        setOpen(false);\n        return;\n      }\n      field.onChange(getChoiceValue(choice));\n      setOpen(false);\n    },\n    [\n      field.value,\n      field.onChange,\n      getChoiceValue,\n      isRequired,\n      setFilterValue,\n      isFromReference,\n      setFilters,\n      filterToQuery,\n      setOpen,\n    ],\n  );\n\n  const {\n    getCreateItem,\n    handleChange: handleChangeWithCreateSupport,\n    createElement,\n    getOptionDisabled,\n  } = useSupportCreateSuggestion({\n    create,\n    createLabel,\n    createValue,\n    createHintValue,\n    createItemLabel,\n    onCreate,\n    handleChange,\n    optionText,\n    filter: filterValue,\n  });\n\n  const createItem =\n    (create || onCreate) && (filterValue !== \"\" || createLabel)\n      ? getCreateItem(filterValue)\n      : null;\n  let finalChoices = allChoices;\n  if (createItem) {\n    finalChoices = [...finalChoices, createItem];\n  }\n\n  return (\n    <>\n      <FormField className={props.className} id={id} name={source}>\n        {props.label !== false && (\n          <FormLabel>\n            <FieldTitle\n              label={props.label}\n              source={props.source ?? source}\n              resource={resource}\n              isRequired={isRequired}\n            />\n          </FormLabel>\n        )}\n        <FormControl>\n          <Popover open={open} onOpenChange={handleOpenChange}>\n            <PopoverTrigger asChild>\n              <Button\n                variant=\"outline\"\n                role=\"combobox\"\n                aria-expanded={open}\n                className=\"w-full justify-between h-auto py-1.75 font-normal\"\n              >\n                {selectedChoice ? (\n                  getInputText(selectedChoice)\n                ) : (\n                  <span className=\"text-muted-foreground\">{placeholder}</span>\n                )}\n                <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n              </Button>\n            </PopoverTrigger>\n            <PopoverContent className=\"w-full p-0\">\n              {/* We handle the filtering ourselves */}\n              <Command shouldFilter={!isFromReference}>\n                <CommandInput\n                  placeholder=\"Search...\"\n                  value={filterValue}\n                  onValueChange={(filter) => {\n                    setFilterValue(filter);\n                    // We don't want the ChoicesContext to filter the choices if the input\n                    // is not from a reference as it would also filter out the selected values\n                    if (isFromReference) {\n                      setFilters(filterToQuery(filter));\n                    }\n                  }}\n                />\n                <CommandList>\n                  <CommandEmpty>No matching item found.</CommandEmpty>\n                  <CommandGroup>\n                    {finalChoices.map((choice) => {\n                      const isCreateItem =\n                        !!createItem && choice?.id === createItem.id;\n                      const disabled = getOptionDisabled(choice);\n\n                      return (\n                        <CommandItem\n                          key={getChoiceValue(choice)}\n                          value={\n                            isCreateItem\n                              ? // if it's the create option, include the filter value so it is shown in the command input\n                                // characters before and after the filter value are required\n                                // to show the option when the filter value starts or ends with a space\n                                `?${filterValue}?`\n                              : getChoiceValue(choice)\n                          }\n                          onSelect={() => handleChangeWithCreateSupport(choice)}\n                          disabled={disabled}\n                        >\n                          <Check\n                            className={cn(\n                              \"mr-2 h-4 w-4\",\n                              field.value === getChoiceValue(choice)\n                                ? \"opacity-100\"\n                                : \"opacity-0\",\n                            )}\n                          />\n                          {getChoiceText(isCreateItem ? createItem : choice)}\n                        </CommandItem>\n                      );\n                    })}\n                  </CommandGroup>\n                </CommandList>\n              </Command>\n            </PopoverContent>\n          </Popover>\n        </FormControl>\n        <InputHelperText helperText={props.helperText} />\n        <FormError />\n      </FormField>\n      {createElement}\n    </>\n  );\n};\n\nconst DefaultFilterToQuery = (searchText: string) => ({ q: searchText });\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/autocomplete-array-input.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport * as React from \"react\";\nimport { X } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Command,\n  CommandGroup,\n  CommandItem,\n  CommandList,\n} from \"@/components/ui/command\";\nimport {\n  FormControl,\n  FormError,\n  FormField,\n  FormLabel,\n} from \"@/components/admin/form\";\nimport { Command as CommandPrimitive } from \"cmdk\";\nimport {\n  ChoicesProps,\n  InputProps,\n  useChoices,\n  useChoicesContext,\n  useGetRecordRepresentation,\n  useInput,\n  useTranslate,\n  FieldTitle,\n  useEvent,\n} from \"ra-core\";\nimport { InputHelperText } from \"./input-helper-text\";\nimport { useCallback } from \"react\";\n\nexport const AutocompleteArrayInput = (\n  props: Omit<InputProps, \"source\"> &\n    Partial<Pick<InputProps, \"source\">> &\n    ChoicesProps & {\n      className?: string;\n      disableValue?: string;\n      filterToQuery?: (searchText: string) => any;\n      translateChoice?: boolean;\n      placeholder?: string;\n      inputText?:\n        | React.ReactNode\n        | ((option: any | undefined) => React.ReactNode);\n    },\n) => {\n  const { filterToQuery = DefaultFilterToQuery, inputText } = props;\n  const {\n    allChoices = [],\n    source,\n    resource,\n    isFromReference,\n    setFilters,\n  } = useChoicesContext(props);\n  const { id, field, isRequired } = useInput({ ...props, source });\n  const translate = useTranslate();\n  const { placeholder = translate(\"ra.action.search\", { _: \"Search...\" }) } =\n    props;\n\n  const getRecordRepresentation = useGetRecordRepresentation(resource);\n  const { getChoiceText, getChoiceValue } = useChoices({\n    optionText:\n      props.optionText ?? (isFromReference ? getRecordRepresentation : \"name\"),\n    optionValue: props.optionValue ?? \"id\",\n    disableValue: props.disableValue,\n    translateChoice: props.translateChoice ?? !isFromReference,\n  });\n\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const [open, setOpen] = React.useState(false);\n\n  const handleUnselect = useEvent((choice: any) => {\n    field.onChange(\n      field.value.filter((v: any) => v !== getChoiceValue(choice)),\n    );\n  });\n\n  const handleKeyDown = useEvent((e: React.KeyboardEvent<HTMLDivElement>) => {\n    const input = inputRef.current;\n    if (input) {\n      if (e.key === \"Delete\" || e.key === \"Backspace\") {\n        if (input.value === \"\") {\n          field.onChange(field.value.slice(0, -1));\n        }\n      }\n      // This is not a default behavior of the <input /> field\n      if (e.key === \"Escape\") {\n        input.blur();\n      }\n    }\n  });\n\n  const availableChoices = allChoices.filter(\n    (choice) => !field.value.includes(getChoiceValue(choice)),\n  );\n  const selectedChoices = allChoices.filter((choice) =>\n    field.value.includes(getChoiceValue(choice)),\n  );\n  const [filterValue, setFilterValue] = React.useState(\"\");\n\n  const getInputText = useCallback(\n    (selectedChoice: any) => {\n      if (typeof inputText === \"function\") {\n        return inputText(selectedChoice);\n      }\n      if (inputText !== undefined) {\n        return inputText;\n      }\n      return getChoiceText(selectedChoice);\n    },\n    [inputText, getChoiceText],\n  );\n\n  return (\n    <FormField className={props.className} id={id} name={field.name}>\n      {props.label !== false && (\n        <FormLabel>\n          <FieldTitle\n            label={props.label}\n            source={props.source ?? source}\n            resource={resource}\n            isRequired={isRequired}\n          />\n        </FormLabel>\n      )}\n      <FormControl>\n        <Command\n          onKeyDown={handleKeyDown}\n          shouldFilter={!isFromReference}\n          className=\"overflow-visible bg-transparent\"\n        >\n          <div className=\"group rounded-md bg-transparent dark:bg-input/30 border border-input px-3 py-1.75 text-sm transition-all ring-offset-background focus-within:border-ring focus-within:ring-ring/50 focus-within:ring-[3px]\">\n            <div className=\"flex flex-wrap gap-1\">\n              {selectedChoices.map((choice) => (\n                <Badge key={getChoiceValue(choice)} variant=\"outline\">\n                  {getInputText(choice)}\n                  <button\n                    className=\"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2\"\n                    onKeyDown={(e) => {\n                      if (e.key === \"Enter\") {\n                        handleUnselect(choice);\n                      }\n                    }}\n                    onMouseDown={(e) => {\n                      e.preventDefault();\n                      e.stopPropagation();\n                    }}\n                    onClick={(e) => {\n                      e.preventDefault();\n                      handleUnselect(choice);\n                    }}\n                  >\n                    <span className=\"sr-only\">\n                      {translate(\"ra.action.remove\", {\n                        _: \"Remove\",\n                      })}\n                    </span>\n                    <X className=\"h-3 w-3\" />\n                  </button>\n                </Badge>\n              ))}\n              {/* Avoid having the \"Search\" Icon by not using CommandInput */}\n              <CommandPrimitive.Input\n                ref={inputRef}\n                value={filterValue}\n                onValueChange={(filter) => {\n                  setFilterValue(filter);\n                  // We don't want the ChoicesContext to filter the choices if the input\n                  // is not from a reference as it would also filter out the selected values\n                  if (isFromReference) {\n                    setFilters(filterToQuery(filter), undefined, true);\n                  }\n                }}\n                onBlur={() => setOpen(false)}\n                onFocus={() => setOpen(true)}\n                placeholder={placeholder}\n                className=\"ml-2 flex-1 bg-transparent outline-none placeholder:text-muted-foreground\"\n              />\n            </div>\n          </div>\n          <div className=\"relative\">\n            <CommandList>\n              {open && availableChoices.length > 0 ? (\n                <div className=\"absolute top-2 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in\">\n                  <CommandGroup className=\"h-full overflow-auto\">\n                    {availableChoices.map((choice) => {\n                      return (\n                        <CommandItem\n                          key={getChoiceValue(choice)}\n                          onMouseDown={(e) => {\n                            e.preventDefault();\n                            e.stopPropagation();\n                          }}\n                          onSelect={() => {\n                            setFilterValue(\"\");\n                            if (isFromReference) {\n                              setFilters(filterToQuery(\"\"));\n                            }\n                            field.onChange([\n                              ...field.value,\n                              getChoiceValue(choice),\n                            ]);\n                          }}\n                          className=\"cursor-pointer\"\n                        >\n                          {getChoiceText(choice)}\n                        </CommandItem>\n                      );\n                    })}\n                  </CommandGroup>\n                </div>\n              ) : null}\n            </CommandList>\n          </div>\n        </Command>\n      </FormControl>\n      <InputHelperText helperText={props.helperText} />\n      <FormError />\n    </FormField>\n  );\n};\n\nconst DefaultFilterToQuery = (searchText: string) => ({ q: searchText });\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/badge-field.tsx",
      "content": "import * as React from \"react\";\nimport { RaRecord, useFieldValue, useTranslate } from \"ra-core\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { FieldProps } from \"@/lib/field.type.ts\";\n\ntype BadgeProps = React.ComponentProps<typeof Badge>;\n\nexport const BadgeField = <RecordType extends RaRecord = RaRecord>({\n  defaultValue,\n  source,\n  record,\n  empty,\n  variant = \"outline\",\n  ...rest\n}: BadgeFieldProps<RecordType>) => {\n  const value = useFieldValue({ defaultValue, source, record });\n  const translate = useTranslate();\n\n  if (value == null) {\n    return empty && typeof empty === \"string\"\n      ? translate(empty, { _: empty })\n      : empty;\n  }\n\n  return (\n    <Badge variant={variant} {...rest}>\n      {typeof value !== \"string\" ? value.toString() : value}\n    </Badge>\n  );\n};\n\nexport interface BadgeFieldProps<RecordType extends RaRecord = RaRecord>\n  extends FieldProps<RecordType>,\n    BadgeProps {\n  variant?: \"default\" | \"outline\" | \"secondary\" | \"destructive\";\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/boolean-input.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useCallback } from \"react\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { FormError, FormField, FormLabel } from \"@/components/admin/form\";\nimport { useInput, FieldTitle } from \"ra-core\";\nimport { InputHelperText } from \"./input-helper-text\";\n\nexport const BooleanInput = (props: BooleanInputProps) => {\n  const {\n    className,\n    defaultValue = false,\n    format,\n    label,\n    helperText,\n    onBlur,\n    onChange,\n    onFocus,\n    readOnly,\n    disabled,\n    parse,\n    resource,\n    source,\n    validate,\n    ...rest\n  } = props;\n  const { id, field, isRequired } = useInput({\n    defaultValue,\n    format,\n    parse,\n    resource,\n    source,\n    onBlur,\n    onChange,\n    type: \"checkbox\",\n    validate,\n    disabled,\n    readOnly,\n    ...rest,\n  });\n\n  const handleChange = useCallback(\n    (checked: boolean) => {\n      field.onChange(checked);\n      // Ensure field is considered as touched\n      field.onBlur();\n    },\n    [field],\n  );\n\n  return (\n    <FormField className={className} id={id} name={field.name}>\n      <div className=\"flex items-center space-x-2\">\n        <Switch\n          id={id}\n          checked={Boolean(field.value)}\n          onFocus={onFocus}\n          onCheckedChange={handleChange}\n        />\n        <FormLabel htmlFor={id}>\n          <FieldTitle\n            label={label}\n            source={source}\n            resource={resource}\n            isRequired={isRequired}\n          />\n        </FormLabel>\n      </div>\n      <InputHelperText helperText={helperText} />\n      <FormError />\n    </FormField>\n  );\n};\n\nexport interface BooleanInputProps {\n  className?: string;\n  defaultValue?: boolean;\n  format?: (value: any) => any;\n  helperText?: React.ReactNode;\n  label?: React.ReactNode;\n  onBlur?: (event: React.FocusEvent<HTMLButtonElement>) => void;\n  onChange?: (value: any) => void;\n  onFocus?: (event: React.FocusEvent<HTMLButtonElement>) => void;\n  readOnly?: boolean;\n  disabled?: boolean;\n  parse?: (value: any) => any;\n  resource?: string;\n  source: string;\n  validate?: any;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/breadcrumb.tsx",
      "content": "import * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Breadcrumb as BaseBreadcrumb,\n  BreadcrumbEllipsis,\n  BreadcrumbItem,\n  BreadcrumbPage,\n  BreadcrumbList,\n  BreadcrumbSeparator,\n} from \"@/components/ui/breadcrumb\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Drawer,\n  DrawerClose,\n  DrawerContent,\n  DrawerDescription,\n  DrawerFooter,\n  DrawerHeader,\n  DrawerTitle,\n  DrawerTrigger,\n} from \"@/components/ui/drawer\";\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { Translate } from \"ra-core\";\n\nexport const Breadcrumb = ({ children, ref }: BreadcrumbProps) => {\n  const breadcrumbPortal = document.getElementById(\"breadcrumb\");\n  const isMobile = useIsMobile();\n  const [open, setOpen] = React.useState(false);\n  if (!breadcrumbPortal) return null;\n  return createPortal(\n    <>\n      <Separator\n        decorative\n        orientation=\"vertical\"\n        className=\"data-[orientation=vertical]:h-4 mr-4\"\n      />\n      <BaseBreadcrumb ref={ref}>\n        <BreadcrumbList>\n          {isMobile && React.Children.count(children) > 2 ? (\n            <React.Fragment>\n              <BreadcrumbItem>\n                <Drawer open={open} onOpenChange={setOpen}>\n                  <DrawerTrigger aria-label=\"Toggle Menu\">\n                    <BreadcrumbEllipsis className=\"h-4 w-4\" />\n                  </DrawerTrigger>\n                  <DrawerContent>\n                    <DrawerHeader className=\"text-left\">\n                      <DrawerTitle>\n                        <Translate i18nKey=\"ra.navigation.breadcrumb_drawer_title\">\n                          Navigate to\n                        </Translate>\n                      </DrawerTitle>\n                      <DrawerDescription>\n                        <Translate i18nKey=\"ra.navigation.breadcrumb_drawer_instructions\">\n                          Select a page to navigate to.\n                        </Translate>\n                      </DrawerDescription>\n                    </DrawerHeader>\n                    <ol className=\"grid gap-1 px-4\">\n                      {React.Children.toArray(children)\n                        .slice(0, -1)\n                        .map((item) => item)}\n                    </ol>\n                    <DrawerFooter className=\"pt-4\">\n                      <DrawerClose asChild>\n                        <Button variant=\"outline\">\n                          <Translate i18nKey=\"ra.action.close\">Close</Translate>\n                        </Button>\n                      </DrawerClose>\n                    </DrawerFooter>\n                  </DrawerContent>\n                </Drawer>\n              </BreadcrumbItem>\n              <BreadcrumbSeparator />\n              {React.Children.toArray(children).slice(-1)}\n            </React.Fragment>\n          ) : (\n            React.Children.map(children, (child, index) => (\n              <React.Fragment key={index}>\n                {child}\n                {index < React.Children.count(children) - 1 ? (\n                  <BreadcrumbSeparator />\n                ) : null}\n              </React.Fragment>\n            ))\n          )}\n        </BreadcrumbList>\n      </BaseBreadcrumb>\n    </>,\n    breadcrumbPortal\n  );\n};\n\nexport { BreadcrumbItem, BreadcrumbPage };\n\nexport type BreadcrumbProps = React.ComponentProps<\"nav\">;\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/bulk-actions-toolbar.tsx",
      "content": "import type { ReactNode } from \"react\";\nimport { useListContext, Translate } from \"ra-core\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { BulkDeleteButton } from \"@/components/admin/bulk-delete-button\";\nimport { X } from \"lucide-react\";\nimport { BulkExportButton } from \"./bulk-export-button\";\n\nexport function BulkActionsToolbarChildren() {\n  return (\n    <>\n      <BulkExportButton />\n      <BulkDeleteButton />\n    </>\n  );\n}\n\nexport const BulkActionsToolbar = ({\n  children = <BulkActionsToolbarChildren />,\n}: {\n  children?: ReactNode;\n}) => {\n  const { selectedIds, onUnselectItems } = useListContext();\n  if (!selectedIds?.length) {\n    return null;\n  }\n  const handleUnselectAll = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    onUnselectItems();\n  };\n  return (\n    <Card className=\"flex flex-col gap-2 md:gap-6 md:flex-row items-stretch sm:items-center p-2 px-4 w-[90%] sm:w-fit mx-auto fixed bottom-2 left-0 right-0 z-10 bg-zinc-100 dark:bg-zinc-900\">\n      <div className=\"flex items-center gap-2\">\n        <Button\n          variant=\"ghost\"\n          className=\"has-[>svg]:px-0\"\n          onClick={handleUnselectAll}\n        >\n          <X />\n        </Button>\n        <span className=\"text-sm text-muted-foreground\">\n          <Translate\n            i18nKey=\"ra.action.bulk_actions\"\n            options={{ smart_count: selectedIds.length }}\n          >\n            {selectedIds.length} rows selected\n          </Translate>\n        </span>\n      </div>\n      {children}\n    </Card>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/bulk-delete-button.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Button } from \"@/components/ui/button\";\nimport { Trash } from \"lucide-react\";\nimport {\n  Translate,\n  useDeleteMany,\n  useListContext,\n  useNotify,\n  useRefresh,\n  useResourceContext,\n  useTranslate,\n  type MutationMode,\n  type RaRecord,\n  type UseDeleteManyOptions,\n} from \"ra-core\";\nimport { cn } from \"@/lib/utils\";\nimport { ReactNode } from \"react\";\n\nexport interface BulkDeleteButtonProps<\n  RecordType extends RaRecord = any,\n  MutationOptionsError = unknown,\n> extends React.HTMLAttributes<HTMLButtonElement> {\n  mutationMode?: MutationMode;\n  label?: string;\n  resource?: string;\n  className?: string;\n  icon?: ReactNode;\n  mutationOptions?: UseDeleteManyOptions<RecordType, MutationOptionsError> & {\n    meta?: any;\n  };\n}\n\nexport const BulkDeleteButton = <\n  RecordType extends RaRecord = any,\n  MutationOptionsError = unknown,\n>(\n  props: BulkDeleteButtonProps<RecordType, MutationOptionsError>,\n) => {\n  const {\n    mutationMode = \"undoable\",\n    icon = defaultIcon,\n    label,\n    className,\n    mutationOptions = {},\n  } = props;\n  const { meta: mutationMeta, ...otherMutationOptions } = mutationOptions;\n  const resource = useResourceContext(props);\n  const [deleteMany, { isPending }] = useDeleteMany<\n    RecordType,\n    MutationOptionsError\n  >();\n  const { selectedIds, onUnselectItems } = useListContext();\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const translate = useTranslate();\n  const handleClick = (e: React.MouseEvent) => {\n    stopPropagation(e);\n    deleteMany(\n      resource,\n      { ids: selectedIds, meta: mutationMeta },\n      {\n        mutationMode,\n        onSuccess: () => {\n          onUnselectItems();\n          notify(`resources.${resource}.notifications.deleted`, {\n            messageArgs: {\n              smart_count: selectedIds.length,\n              _: translate(\"ra.notification.deleted\", {\n                smart_count: selectedIds.length,\n                _: `${selectedIds.length} elements deleted`,\n              }),\n            },\n            undoable: mutationMode === \"undoable\",\n          });\n        },\n        onError: (error: MutationOptionsError) => {\n          const errorMessage =\n            typeof error === \"string\" ? error : (error as any)?.message;\n          notify(errorMessage || \"ra.notification.http_error\", {\n            type: \"error\",\n            messageArgs: { _: errorMessage },\n          });\n          refresh();\n        },\n        ...otherMutationOptions,\n      },\n    );\n  };\n  return (\n    <Button\n      variant=\"destructive\"\n      type=\"button\"\n      onClick={handleClick}\n      disabled={isPending}\n      className={cn(\"h-9\", className)}\n    >\n      {icon}\n      <Translate i18nKey={label ?? \"ra.action.delete\"}>\n        {label ?? \"Delete\"}\n      </Translate>\n    </Button>\n  );\n};\n\nconst defaultIcon = <Trash />;\n\n// useful to prevent click bubbling in a datagrid with rowClick\nconst stopPropagation = (e: React.MouseEvent) => e.stopPropagation();\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/bulk-export-button.tsx",
      "content": "import { Download } from \"lucide-react\";\nimport { Translate } from \"ra-core\";\n\nimport { Button } from \"../ui/button\";\nimport {\n  ResourceInformation,\n  useBulkExport,\n  UseBulkExportProps,\n} from \"@/hooks/useBulkExport\";\n\n/**\n * Export the selected rows\n *\n * To be used inside the <DataTable bulkActionsButtons> prop.\n *\n * @example // basic usage\n * import { BulkDeleteButton, BulkExportButton, DataTable, List } from '@/components/admin';\n *\n * export const PostList = () => (\n *   <List>\n *     <DataTable\n *       bulkActionsButtons={\n *         <>\n *           <BulkExportButton />\n *           <BulkDeleteButton />\n *         </>\n *       }\n *     >\n *       ...\n *     </DataTable>\n *   </List>\n * );\n */\nexport const BulkExportButton = <T extends ResourceInformation>({\n  icon = defaultIcon,\n  label = \"ra.action.export\",\n  onClick,\n  ...props\n}: BulkExportButtonProps<T>) => {\n  const { bulkExport } = useBulkExport(props);\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    bulkExport();\n    onClick?.(event);\n  };\n\n  return (\n    <Button\n      onClick={handleClick}\n      role=\"button\"\n      variant=\"outline\"\n      size=\"sm\"\n      className=\"flex items-center gap-2 h-9\"\n      {...sanitizeRestProps(props)}\n    >\n      {icon}\n      {label && <Translate i18nKey={label}>{label}</Translate>}\n    </Button>\n  );\n};\n\nconst defaultIcon = <Download className=\"h-4 w-4\" />;\n\nexport type BulkExportButtonProps<T extends ResourceInformation> =\n  UseBulkExportProps<T> & {\n    icon?: React.ReactNode;\n    label?: string;\n  } & React.ComponentProps<typeof Button>;\n\nconst sanitizeRestProps = <T extends ResourceInformation>({\n  resource: _resource,\n  exporter: _exporter,\n  onClick: _onClick,\n  label: _label,\n  icon: _icon,\n  meta: _meta,\n  ...rest\n}: BulkExportButtonProps<T>) => rest;\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/cancel-button.tsx",
      "content": "import { CircleX } from \"lucide-react\";\nimport { Translate } from \"ra-core\";\nimport { useNavigate } from \"react-router\";\n\nimport { Button } from \"../ui/button\";\n\nexport function CancelButton(props: React.ComponentProps<\"button\">) {\n  const navigate = useNavigate();\n  return (\n    <Button\n      type=\"button\"\n      variant=\"ghost\"\n      onClick={() => navigate(-1)}\n      className=\"cursor-pointer\"\n      {...props}\n    >\n      <CircleX />\n      <Translate i18nKey=\"ra.action.cancel\">Cancel</Translate>\n    </Button>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/count.tsx",
      "content": "import {\n  useResourceContext,\n  useGetList,\n  useTimeout,\n  useCreatePath,\n  SortPayload,\n} from \"ra-core\";\nimport { CircleX, LoaderCircle } from \"lucide-react\";\n\nimport { Link } from \"react-router\";\n\n/**\n * Fetch and render the number of records of a given resource\n *\n * Relies on dataProvider.getList() returning a total property\n *\n * @example // Display the number of records in the current resource (based on ResourceContext)\n * <Count />\n *\n * @example // Display the number of posts\n * <Count resource=\"posts\" />\n *\n * @example // Display the number of published posts\n * <Count resource=\"posts\" filter={{ is_published: true }}/>\n *\n * @example // Display the number of posts, with a custom Typography variant\n * <Count resource=\"posts\" variant=\"h1\" />\n *\n * @see ReferenceManyCount for a similar component which fetches the number of records related to the current one\n */\nexport const Count = (props: CountProps) => {\n  const {\n    filter,\n    sort,\n    link,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    resource: resourceFromProps,\n    timeout = 1000,\n    ...rest\n  } = props;\n  const resource = useResourceContext(props);\n  if (!resource) {\n    throw new Error(\n      \"The Count component must be used inside a ResourceContext or must be passed a resource prop.\"\n    );\n  }\n  const oneSecondHasPassed = useTimeout(timeout);\n  const createPath = useCreatePath();\n\n  const { total, isPending, error } = useGetList(resource, {\n    filter,\n    sort,\n    pagination: { perPage: 1, page: 1 },\n  });\n\n  const body = isPending ? (\n    oneSecondHasPassed ? (\n      <LoaderCircle className=\"animate-spin\" />\n    ) : (\n      \"\"\n    )\n  ) : error ? (\n    <CircleX color=\"error\" />\n  ) : (\n    total\n  );\n\n  return link ? (\n    <Link\n      to={{\n        pathname: createPath({ resource, type: \"list\" }),\n        search: filter ? `filter=${JSON.stringify(filter)}` : undefined,\n      }}\n      onClick={(e) => e.stopPropagation()}\n      {...rest}\n    >\n      {body}\n    </Link>\n  ) : (\n    <span {...rest}>{body}</span>\n  );\n};\n\nexport interface CountProps {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  filter?: any;\n  sort?: SortPayload;\n  link?: boolean;\n  resource?: string;\n  timeout?: number;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/create.tsx",
      "content": "import {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbPage,\n} from \"@/components/admin/breadcrumb\";\nimport {\n  CreateBase,\n  type CreateBaseProps,\n  Translate,\n  useCreateContext,\n  useCreatePath,\n  useGetResourceLabel,\n  useHasDashboard,\n  useResourceContext,\n} from \"ra-core\";\nimport { ReactNode } from \"react\";\nimport { Link } from \"react-router\";\nimport { cn } from \"@/lib/utils\";\n\nexport type CreateProps = CreateViewProps & CreateBaseProps;\n\nexport const Create = ({\n  title,\n  children,\n  actions,\n  className,\n  ...rest\n}: CreateProps) => (\n  <CreateBase {...rest}>\n    <CreateView title={title} actions={actions} className={className}>\n      {children}\n    </CreateView>\n  </CreateBase>\n);\n\nexport type CreateViewProps = {\n  actions?: ReactNode;\n  children: ReactNode;\n  className?: string;\n  title?: ReactNode | string | false;\n};\n\nexport const CreateView = ({\n  actions,\n  title,\n  children,\n  className,\n}: CreateViewProps) => {\n  const context = useCreateContext();\n\n  const resource = useResourceContext();\n  if (!resource) {\n    throw new Error(\n      \"The CreateView component must be used within a ResourceContextProvider\",\n    );\n  }\n  const getResourceLabel = useGetResourceLabel();\n  const listLabel = getResourceLabel(resource, 2);\n  const createPath = useCreatePath();\n  const listLink = createPath({\n    resource,\n    type: \"list\",\n  });\n  const hasDashboard = useHasDashboard();\n\n  return (\n    <>\n      <Breadcrumb>\n        {hasDashboard && (\n          <BreadcrumbItem>\n            <Link to=\"/\">\n              <Translate i18nKey=\"ra.page.dashboard\">Home</Translate>\n            </Link>\n          </BreadcrumbItem>\n        )}\n        <BreadcrumbItem>\n          <Link to={listLink}>{listLabel}</Link>\n        </BreadcrumbItem>\n        <BreadcrumbPage>\n          <Translate i18nKey=\"ra.action.create\">Create</Translate>\n        </BreadcrumbPage>\n      </Breadcrumb>\n      <div\n        className={cn(\n          \"flex justify-between items-start flex-wrap gap-2 my-2\",\n          className,\n        )}\n      >\n        <h2 className=\"text-2xl font-bold tracking-tight\">\n          {title !== undefined ? title : context.defaultTitle}\n        </h2>\n        {actions}\n      </div>\n      <div className=\"my-2\">{children}</div>\n    </>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/create-button.tsx",
      "content": "import React from \"react\";\nimport { buttonVariants } from \"@/components/ui/button\";\nimport { Plus } from \"lucide-react\";\nimport { Translate, useCreatePath, useResourceContext } from \"ra-core\";\nimport { Link } from \"react-router\";\n\nexport type CreateButtonProps = {\n  label?: string;\n  resource?: string;\n};\n\nexport const CreateButton = ({\n  label,\n  resource: targetResource,\n}: CreateButtonProps) => {\n  const resource = useResourceContext();\n  const createPath = useCreatePath();\n  const link = createPath({\n    resource: targetResource ?? resource,\n    type: \"create\",\n  });\n  return (\n    <Link\n      className={buttonVariants({ variant: \"outline\" })}\n      to={link}\n      onClick={stopPropagation}\n    >\n      <Plus />\n      <Translate i18nKey={label ?? \"ra.action.create\"}>\n        {label ?? \"Create\"}\n      </Translate>\n    </Link>\n  );\n};\n\n// useful to prevent click bubbling in a datagrid with rowClick\nconst stopPropagation = (e: React.MouseEvent) => e.stopPropagation();\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/columns-button.tsx",
      "content": "import {\n  useState,\n  useEffect,\n  Children,\n  type ComponentProps,\n  type ReactNode,\n} from \"react\";\nimport { createPortal } from \"react-dom\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport * as diacritic from \"diacritic\";\nimport {\n  useDataTableStoreContext,\n  useStore,\n  useTranslate,\n  useResourceContext,\n  useDataTableColumnRankContext,\n  useDataTableColumnFilterContext,\n  useTranslateLabel,\n  DataTableColumnRankContext,\n  DataTableColumnFilterContext,\n  type RaRecord,\n  type Identifier,\n  type SortPayload,\n  type HintedString,\n  type ExtractRecordPaths,\n} from \"ra-core\";\nimport { Columns, Search } from \"lucide-react\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { FieldToggle } from \"@/components/admin/field-toggle\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { Popover, PopoverTrigger } from \"@/components/ui/popover\";\nimport { cn } from \"@/lib/utils\";\n\n/**\n * Renders a button that lets users show / hide columns in a DataTable\n *\n * @example\n * import { ColumnsButton, DataTable } from 'shadcn-admin-kit';\n *\n * const PostListActions = () => (\n *   <div className=\"flex items-center gap-2\">\n        <ColumnsButton />\n        <FilterButton />\n *   </div>\n * );\n *\n * const PostList = () => (\n *   <List actions={<PostListActions />}>\n *     <DataTable>\n *       <DataTable.Col source=\"title\" />\n *       <DataTable.Col source=\"author\" />\n         ...\n *     </DataTable>\n *   </List>\n * );\n */\nexport const ColumnsButton = (props: ColumnsButtonProps) => {\n  const { className, storeKey: _, ...rest } = props;\n  const resource = useResourceContext(props);\n  const storeKey = props.storeKey || `${resource}.datatable`;\n\n  const [open, setOpen] = useState(false);\n  const isMobile = useIsMobile();\n  const translate = useTranslate();\n\n  const title = translate(\"ra.action.select_columns\", { _: \"Columns\" });\n\n  return (\n    <span className={cn(\"inline-flex\", className)}>\n      <Popover open={open} onOpenChange={setOpen}>\n        <PopoverTrigger asChild>\n          {isMobile ? (\n            <Tooltip>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  aria-label={title}\n                  {...rest}\n                >\n                  <Columns className=\"size-4\" />\n                </Button>\n              </TooltipTrigger>\n              <TooltipContent>{title}</TooltipContent>\n            </Tooltip>\n          ) : (\n            <Button variant=\"outline\" className=\"cursor-pointer\" {...rest}>\n              <Columns />\n              {title}\n            </Button>\n          )}\n        </PopoverTrigger>\n        <PopoverPrimitive.Portal forceMount>\n          <div className={open ? \"block\" : \"hidden\"}>\n            <PopoverPrimitive.Content\n              data-slot=\"popover-content\"\n              sideOffset={4}\n              align=\"start\"\n              className=\"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border shadow-md outline-hidden p-0 min-w-[200px]\"\n            >\n              <div id={`${storeKey}-columnsSelector`} className=\"p-2\" />\n            </PopoverPrimitive.Content>\n          </div>\n        </PopoverPrimitive.Portal>\n      </Popover>\n    </span>\n  );\n};\n\nexport interface ColumnsButtonProps extends ComponentProps<typeof Button> {\n  resource?: string;\n  storeKey?: string;\n}\n\n/**\n * Render DataTable.Col elements in the ColumnsButton selector using a React Portal.\n *\n * @see ColumnsButton\n */\nexport const ColumnsSelector = ({ children }: ColumnsSelectorProps) => {\n  const translate = useTranslate();\n  const { storeKey, defaultHiddenColumns } = useDataTableStoreContext();\n  const [columnRanks, setColumnRanks] = useStore<number[] | undefined>(\n    `${storeKey}_columnRanks`,\n  );\n  const [_hiddenColumns, setHiddenColumns] = useStore<string[]>(\n    storeKey,\n    defaultHiddenColumns,\n  );\n  const elementId = `${storeKey}-columnsSelector`;\n\n  const [container, setContainer] = useState<HTMLElement | null>(() =>\n    typeof document !== \"undefined\" ? document.getElementById(elementId) : null,\n  );\n\n  // on first mount, we don't have the container yet, so we wait for it\n  useEffect(() => {\n    if (\n      container &&\n      typeof document !== \"undefined\" &&\n      document.body.contains(container)\n    )\n      return;\n    // look for the container in the DOM every 100ms\n    const interval = setInterval(() => {\n      const target = document.getElementById(elementId);\n      if (target) setContainer(target);\n    }, 100);\n    // stop looking after 500ms\n    const timeout = setTimeout(() => clearInterval(interval), 500);\n    return () => {\n      clearInterval(interval);\n      clearTimeout(timeout);\n    };\n  }, [elementId, container]);\n\n  const [columnFilter, setColumnFilter] = useState<string>(\"\");\n\n  if (!container) return null;\n\n  const childrenArray = Children.toArray(children);\n  const paddedColumnRanks = padRanks(columnRanks ?? [], childrenArray.length);\n  const shouldDisplaySearchInput = childrenArray.length > 5;\n\n  return createPortal(\n    <ul className=\"max-h-[50vh] p-1 overflow-auto\">\n      {shouldDisplaySearchInput ? (\n        <li className=\"pb-2\" tabIndex={-1}>\n          <div className=\"relative\">\n            <Input\n              value={columnFilter}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                setColumnFilter(e.target.value);\n              }}\n              placeholder={translate(\"ra.action.search_columns\", {\n                _: \"Search columns\",\n              })}\n              className=\"pr-8\"\n            />\n            <Search className=\"absolute right-2 top-2 h-4 w-4 text-muted-foreground\" />\n            {columnFilter && (\n              <button\n                onClick={() => setColumnFilter(\"\")}\n                className=\"absolute right-8 top-2 h-4 w-4 text-muted-foreground\"\n                aria-label=\"Clear\"\n              >\n                \n              </button>\n            )}\n          </div>\n        </li>\n      ) : null}\n      {paddedColumnRanks.map((position, index) => (\n        <DataTableColumnRankContext.Provider value={position} key={index}>\n          <DataTableColumnFilterContext.Provider\n            value={columnFilter}\n            key={index}\n          >\n            {childrenArray[position]}\n          </DataTableColumnFilterContext.Provider>\n        </DataTableColumnRankContext.Provider>\n      ))}\n      <li className=\"text-center mt-2 px-3\">\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => {\n            setColumnRanks(undefined);\n            setHiddenColumns(defaultHiddenColumns);\n          }}\n        >\n          Reset\n        </Button>\n      </li>\n    </ul>,\n    container,\n  );\n};\n\ninterface ColumnsSelectorProps {\n  children?: React.ReactNode;\n}\n\nexport const ColumnsSelectorItem = <\n  RecordType extends RaRecord<Identifier> = RaRecord<Identifier>,\n>({\n  source,\n  label,\n}: ColumnsSelectorItemProps<RecordType>) => {\n  const resource = useResourceContext();\n  const { storeKey, defaultHiddenColumns } = useDataTableStoreContext();\n  const [hiddenColumns, setHiddenColumns] = useStore<string[]>(\n    storeKey,\n    defaultHiddenColumns,\n  );\n  const columnRank = useDataTableColumnRankContext();\n  const [columnRanks, setColumnRanks] = useStore<number[]>(\n    `${storeKey}_columnRanks`,\n  );\n  const columnFilter = useDataTableColumnFilterContext();\n  const translateLabel = useTranslateLabel();\n  if (!source && !label) return null;\n  const fieldLabel = translateLabel({\n    label: typeof label === \"string\" ? label : undefined,\n    resource,\n    source,\n  }) as string;\n  const isColumnHidden = hiddenColumns.includes(source!);\n  const isColumnFiltered = fieldLabelMatchesFilter(fieldLabel, columnFilter);\n\n  const handleMove = (\n    index1: number | string,\n    index2: number | string | null,\n  ) => {\n    const colRanks = !columnRanks\n      ? padRanks([], Math.max(Number(index1), Number(index2 || 0)) + 1)\n      : Math.max(Number(index1), Number(index2 || 0)) > columnRanks.length - 1\n        ? padRanks(\n            columnRanks,\n            Math.max(Number(index1), Number(index2 || 0)) + 1,\n          )\n        : columnRanks;\n    const index1Pos = colRanks.findIndex((index) => index == Number(index1));\n    const index2Pos = colRanks.findIndex((index) => index == Number(index2));\n    if (index1Pos === -1 || index2Pos === -1) {\n      return;\n    }\n    let newColumnRanks;\n    if (index1Pos > index2Pos) {\n      newColumnRanks = [\n        ...colRanks.slice(0, index2Pos),\n        colRanks[index1Pos],\n        ...colRanks.slice(index2Pos, index1Pos),\n        ...colRanks.slice(index1Pos + 1),\n      ];\n    } else {\n      newColumnRanks = [\n        ...colRanks.slice(0, index1Pos),\n        ...colRanks.slice(index1Pos + 1, index2Pos + 1),\n        colRanks[index1Pos],\n        ...colRanks.slice(index2Pos + 1),\n      ];\n    }\n    setColumnRanks(newColumnRanks);\n  };\n\n  return isColumnFiltered ? (\n    <FieldToggle\n      key={columnRank}\n      source={source!}\n      label={fieldLabel}\n      index={String(columnRank)}\n      selected={!isColumnHidden}\n      onToggle={() =>\n        isColumnHidden\n          ? setHiddenColumns(\n              hiddenColumns.filter((column) => column !== source!),\n            )\n          : setHiddenColumns([...hiddenColumns, source!])\n      }\n      onMove={handleMove}\n    />\n  ) : null;\n};\n\n// this is the same interface as DataTableColumnProps\n// but we copied it here to avoid circular dependencies with data-table\nexport interface ColumnsSelectorItemProps<\n  RecordType extends RaRecord<Identifier> = RaRecord<Identifier>,\n> {\n  className?: string;\n  cellClassName?: string;\n  headerClassName?: string;\n  conditionalClassName?: (record: RecordType) => string | false | undefined;\n  children?: ReactNode;\n  render?: (record: RecordType) => React.ReactNode;\n  field?: React.ElementType;\n  source?: NoInfer<HintedString<ExtractRecordPaths<RecordType>>>;\n  label?: React.ReactNode;\n  disableSort?: boolean;\n  sortByOrder?: SortPayload[\"order\"];\n}\n// Function to help with column ranking\nconst padRanks = (ranks: number[], length: number) =>\n  ranks.concat(\n    Array.from({ length: length - ranks.length }, (_, i) => ranks.length + i),\n  );\n\nconst fieldLabelMatchesFilter = (fieldLabel: string, columnFilter?: string) =>\n  columnFilter\n    ? diacritic\n        .clean(fieldLabel)\n        .toLowerCase()\n        .includes(diacritic.clean(columnFilter).toLowerCase())\n    : true;\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/data-table.tsx",
      "content": "import {\n  Children,\n  createElement,\n  isValidElement,\n  useCallback,\n  type ReactNode,\n} from \"react\";\nimport {\n  DataTableBase,\n  DataTableBaseProps,\n  DataTableRenderContext,\n  ExtractRecordPaths,\n  FieldTitle,\n  HintedString,\n  Identifier,\n  RaRecord,\n  RecordContextProvider,\n  SortPayload,\n  useDataTableCallbacksContext,\n  useDataTableConfigContext,\n  useDataTableDataContext,\n  useDataTableRenderContext,\n  useDataTableSelectedIdsContext,\n  useDataTableSortContext,\n  useDataTableStoreContext,\n  useGetPathForRecordCallback,\n  useRecordContext,\n  useResourceContext,\n  useStore,\n  useTranslate,\n  useTranslateLabel,\n} from \"ra-core\";\nimport { useNavigate } from \"react-router\";\nimport { ArrowDownAZ, ArrowUpZA } from \"lucide-react\";\nimport get from \"lodash/get\";\nimport { cn } from \"@/lib/utils\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport {\n  ColumnsSelector,\n  ColumnsSelectorItem,\n} from \"@/components/admin/columns-button\";\nimport { NumberField } from \"@/components/admin/number-field\";\nimport {\n  BulkActionsToolbar,\n  BulkActionsToolbarChildren,\n} from \"@/components/admin/bulk-actions-toolbar\";\n\nconst defaultBulkActionButtons = <BulkActionsToolbarChildren />;\n\nexport function DataTable<RecordType extends RaRecord = RaRecord>(\n  props: DataTableProps<RecordType>\n) {\n  const {\n    children,\n    className,\n    rowClassName,\n    bulkActionButtons = defaultBulkActionButtons,\n    bulkActionsToolbar,\n    ...rest\n  } = props;\n  const hasBulkActions = !!bulkActionsToolbar || bulkActionButtons !== false;\n  const resourceFromContext = useResourceContext(props);\n  const storeKey = props.storeKey || `${resourceFromContext}.datatable`;\n  const [columnRanks] = useStore<number[]>(`${storeKey}_columnRanks`);\n  const columns = columnRanks\n    ? reorderChildren(children, columnRanks)\n    : children;\n\n  return (\n    <DataTableBase<RecordType>\n      hasBulkActions={hasBulkActions}\n      loading={null}\n      empty={<DataTableEmpty />}\n      {...rest}\n    >\n      <div className={cn(\"rounded-md border\", className)}>\n        <Table>\n          <DataTableRenderContext.Provider value=\"header\">\n            <DataTableHead>{columns}</DataTableHead>\n          </DataTableRenderContext.Provider>\n          <DataTableBody<RecordType> rowClassName={rowClassName}>\n            {columns}\n          </DataTableBody>\n        </Table>\n      </div>\n      {bulkActionsToolbar ??\n        (bulkActionButtons !== false && (\n          <BulkActionsToolbar>\n            {isValidElement(bulkActionButtons)\n              ? bulkActionButtons\n              : defaultBulkActionButtons}\n          </BulkActionsToolbar>\n        ))}\n      <DataTableRenderContext.Provider value=\"columnsSelector\">\n        <ColumnsSelector>{children}</ColumnsSelector>\n      </DataTableRenderContext.Provider>\n    </DataTableBase>\n  );\n}\n\nDataTable.Col = DataTableColumn;\nDataTable.NumberCol = DataTableNumberColumn;\n\nconst DataTableHead = ({ children }: { children: ReactNode }) => {\n  const data = useDataTableDataContext();\n  const { hasBulkActions = false } = useDataTableConfigContext();\n  const { onSelect } = useDataTableCallbacksContext();\n  const selectedIds = useDataTableSelectedIdsContext();\n  const handleToggleSelectAll = (checked: boolean) => {\n    if (!onSelect || !data || !selectedIds) return;\n    onSelect(\n      checked\n        ? selectedIds.concat(\n            data\n              .filter((record) => !selectedIds.includes(record.id))\n              .map((record) => record.id)\n          )\n        : []\n    );\n  };\n  const selectableIds = Array.isArray(data)\n    ? data.map((record) => record.id)\n    : [];\n  return (\n    <TableHeader>\n      <TableRow>\n        {hasBulkActions ? (\n          <TableHead className=\"w-8\">\n            <Checkbox\n              onCheckedChange={handleToggleSelectAll}\n              checked={\n                selectedIds &&\n                selectedIds.length > 0 &&\n                selectableIds.length > 0 &&\n                selectableIds.every((id) => selectedIds.includes(id))\n              }\n              className=\"mb-2\"\n            />\n          </TableHead>\n        ) : null}\n        {children}\n      </TableRow>\n    </TableHeader>\n  );\n};\n\nconst DataTableBody = <RecordType extends RaRecord = RaRecord>({\n  children,\n  rowClassName,\n}: {\n  children: ReactNode;\n  rowClassName?: (record: RecordType) => string | undefined;\n}) => {\n  const data = useDataTableDataContext();\n  return (\n    <TableBody>\n      {data?.map((record, rowIndex) => (\n        <RecordContextProvider\n          value={record}\n          key={record.id ?? `row${rowIndex}`}\n        >\n          <DataTableRow className={rowClassName?.(record)}>\n            {children}\n          </DataTableRow>\n        </RecordContextProvider>\n      ))}\n    </TableBody>\n  );\n};\n\nconst DataTableRow = ({\n  children,\n  className,\n}: {\n  children: ReactNode;\n  className?: string;\n}) => {\n  const { rowClick, handleToggleItem } = useDataTableCallbacksContext();\n  const selectedIds = useDataTableSelectedIdsContext();\n  const { hasBulkActions = false } = useDataTableConfigContext();\n\n  const record = useRecordContext();\n  if (!record) {\n    throw new Error(\"DataTableRow can only be used within a RecordContext\");\n  }\n\n  const resource = useResourceContext();\n  if (!resource) {\n    throw new Error(\"DataTableRow can only be used within a ResourceContext\");\n  }\n\n  const navigate = useNavigate();\n  const getPathForRecord = useGetPathForRecordCallback();\n\n  const handleToggle = useCallback(\n    (event: React.MouseEvent) => {\n      event.stopPropagation();\n      if (!handleToggleItem) return;\n      handleToggleItem(record.id, event);\n    },\n    [handleToggleItem, record.id]\n  );\n\n  const handleClick = useCallback(async () => {\n    const temporaryLink =\n      typeof rowClick === \"function\"\n        ? rowClick(record.id, resource, record)\n        : rowClick;\n\n    const link = isPromise(temporaryLink) ? await temporaryLink : temporaryLink;\n\n    const path = await getPathForRecord({\n      record,\n      resource,\n      link,\n    });\n    if (path === false || path == null) {\n      return;\n    }\n    navigate(path, {\n      state: { _scrollToTop: true },\n    });\n  }, [record, resource, rowClick, navigate, getPathForRecord]);\n\n  return (\n    <TableRow\n      key={record.id}\n      onClick={handleClick}\n      className={cn(rowClick !== false && \"cursor-pointer\", className)}\n    >\n      {hasBulkActions ? (\n        <TableCell className=\"flex w-8\" onClick={handleToggle}>\n          <Checkbox\n            checked={selectedIds?.includes(record.id)}\n            onClick={handleToggle}\n          />\n        </TableCell>\n      ) : null}\n      {children}\n    </TableRow>\n  );\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isPromise = (value: any): value is Promise<any> =>\n  value && typeof value.then === \"function\";\n\nconst DataTableEmpty = () => {\n  return (\n    <Alert>\n      <AlertDescription>No results found.</AlertDescription>\n    </Alert>\n  );\n};\n\nexport interface DataTableProps<RecordType extends RaRecord = RaRecord>\n  extends Partial<DataTableBaseProps<RecordType>> {\n  children: ReactNode;\n  className?: string;\n  rowClassName?: (record: RecordType) => string | undefined;\n  bulkActionButtons?: ReactNode;\n  bulkActionsToolbar?: ReactNode;\n}\n\nexport function DataTableColumn<\n  RecordType extends RaRecord<Identifier> = RaRecord<Identifier>\n>(props: DataTableColumnProps<RecordType>) {\n  const renderContext = useDataTableRenderContext();\n  switch (renderContext) {\n    case \"columnsSelector\":\n      return <ColumnsSelectorItem<RecordType> {...props} />;\n    case \"header\":\n      return <DataTableHeadCell {...props} />;\n    case \"data\":\n      return <DataTableCell {...props} />;\n  }\n}\n\n/**\n * Reorder children based on columnRanks\n *\n * Note that columnRanks may be shorter than the number of children\n */\nconst reorderChildren = (children: ReactNode, columnRanks: number[]) =>\n  Children.toArray(children).reduce((acc: ReactNode[], child, index) => {\n    const rank = columnRanks.indexOf(index);\n    if (rank === -1) {\n      // if the column is not in columnRanks, keep it at the same index\n      acc[index] = child;\n    } else {\n      // if the column is in columnRanks, move it to the rank index\n      acc[rank] = child;\n    }\n    return acc;\n  }, []);\n\nfunction DataTableHeadCell<\n  RecordType extends RaRecord<Identifier> = RaRecord<Identifier>\n>(props: DataTableColumnProps<RecordType>) {\n  const {\n    disableSort,\n    source,\n    label,\n    sortByOrder,\n    className,\n    headerClassName,\n  } = props;\n\n  const sort = useDataTableSortContext();\n  const { handleSort } = useDataTableCallbacksContext();\n  const resource = useResourceContext();\n  const translate = useTranslate();\n  const translateLabel = useTranslateLabel();\n  const { storeKey, defaultHiddenColumns } = useDataTableStoreContext();\n  const [hiddenColumns] = useStore<string[]>(storeKey, defaultHiddenColumns);\n  const isColumnHidden = hiddenColumns.includes(source!);\n  if (isColumnHidden) return null;\n\n  const nextSortOrder =\n    sort && sort.field === source\n      ? oppositeOrder[sort.order]\n      : sortByOrder ?? \"ASC\";\n  const fieldLabel = translateLabel({\n    label: typeof label === \"string\" ? label : undefined,\n    resource,\n    source,\n  });\n  const sortLabel = translate(\"ra.sort.sort_by\", {\n    field: fieldLabel,\n    field_lower_first:\n      typeof fieldLabel === \"string\"\n        ? fieldLabel.charAt(0).toLowerCase() + fieldLabel.slice(1)\n        : undefined,\n    order: translate(`ra.sort.${nextSortOrder}`),\n    _: translate(\"ra.action.sort\"),\n  });\n\n  return (\n    <TableHead className={cn(className, headerClassName)}>\n      {handleSort && sort && !disableSort && source ? (\n        <TooltipProvider>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"-ml-3 -mr-3 h-8 data-[state=open]:bg-accent cursor-pointer\"\n                data-field={source}\n                onClick={handleSort}\n              >\n                {headerClassName?.includes(\"text-right\") ? null : (\n                  <FieldTitle\n                    label={label}\n                    source={source}\n                    resource={resource}\n                  />\n                )}\n                {sort.field === source ? (\n                  sort.order === \"ASC\" ? (\n                    <ArrowDownAZ className=\"ml-2 h-6 w-6\" />\n                  ) : (\n                    <ArrowUpZA className=\"ml-2 h-6 w-6\" />\n                  )\n                ) : null}\n                {headerClassName?.includes(\"text-right\") ? (\n                  <FieldTitle\n                    label={label}\n                    source={source}\n                    resource={resource}\n                  />\n                ) : null}\n              </Button>\n            </TooltipTrigger>\n            <TooltipContent>\n              <p>{sortLabel}</p>\n            </TooltipContent>\n          </Tooltip>\n        </TooltipProvider>\n      ) : (\n        <FieldTitle label={label} source={source} resource={resource} />\n      )}\n    </TableHead>\n  );\n}\n\nconst oppositeOrder: Record<SortPayload[\"order\"], SortPayload[\"order\"]> = {\n  ASC: \"DESC\",\n  DESC: \"ASC\",\n};\n\nfunction DataTableCell<\n  RecordType extends RaRecord<Identifier> = RaRecord<Identifier>\n>(props: DataTableColumnProps<RecordType>) {\n  const {\n    children,\n    render,\n    field,\n    source,\n    className,\n    cellClassName,\n    conditionalClassName,\n  } = props;\n\n  const { storeKey, defaultHiddenColumns } = useDataTableStoreContext();\n  const [hiddenColumns] = useStore<string[]>(storeKey, defaultHiddenColumns);\n  const record = useRecordContext<RecordType>();\n  const isColumnHidden = hiddenColumns.includes(source!);\n  if (isColumnHidden) return null;\n  if (!render && !field && !children && !source) {\n    throw new Error(\n      \"DataTableColumn: Missing at least one of the following props: render, field, children, or source\"\n    );\n  }\n\n  return (\n    <TableCell\n      className={cn(\n        \"py-1\",\n        className,\n        cellClassName,\n        record && conditionalClassName?.(record)\n      )}\n    >\n      {children ??\n        (render\n          ? record && render(record)\n          : field\n          ? createElement(field, { source })\n          : get(record, source!))}\n    </TableCell>\n  );\n}\n\nexport interface DataTableColumnProps<\n  RecordType extends RaRecord<Identifier> = RaRecord<Identifier>\n> {\n  className?: string;\n  cellClassName?: string;\n  headerClassName?: string;\n  conditionalClassName?: (record: RecordType) => string | false | undefined;\n  children?: ReactNode;\n  render?: (record: RecordType) => React.ReactNode;\n  field?: React.ElementType;\n  source?: NoInfer<HintedString<ExtractRecordPaths<RecordType>>>;\n  label?: React.ReactNode;\n  disableSort?: boolean;\n  sortByOrder?: SortPayload[\"order\"];\n}\n\nexport function DataTableNumberColumn<\n  RecordType extends RaRecord<Identifier> = RaRecord<Identifier>\n>(props: DataTableNumberColumnProps<RecordType>) {\n  const {\n    source,\n    options,\n    locales,\n    className,\n    headerClassName,\n    cellClassName,\n    ...rest\n  } = props;\n  return (\n    <DataTableColumn\n      source={source}\n      {...rest}\n      className={className}\n      headerClassName={cn(\"text-right\", headerClassName)}\n      cellClassName={cn(\"text-right\", cellClassName)}\n    >\n      <NumberField source={source} options={options} locales={locales} />\n    </DataTableColumn>\n  );\n}\n\nexport interface DataTableNumberColumnProps<\n  RecordType extends RaRecord<Identifier> = RaRecord<Identifier>\n> extends DataTableColumnProps<RecordType> {\n  source: NoInfer<HintedString<ExtractRecordPaths<RecordType>>>;\n  locales?: string | string[];\n  options?: Intl.NumberFormatOptions;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/date-field.tsx",
      "content": "import { HTMLAttributes } from \"react\";\nimport { useFieldValue, useTranslate } from \"ra-core\";\n\nimport { genericMemo } from \"@/lib/genericMemo\";\nimport { FieldProps } from \"@/lib/field.type.ts\";\n\n/**\n * Display a date value as a locale string.\n *\n * Uses Intl.DateTimeFormat() if available, passing the locales and options props as arguments.\n * If Intl is not available, it outputs date as is (and ignores the locales and options props).\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n * @example\n * <DateField source=\"published_at\" />\n * // renders the record { id: 1234, published_at: new Date('2012-11-07') } as\n * <span>07/11/2012</span>\n *\n * <DateField source=\"published_at\" className=\"red\" />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span class=\"red\">07/11/2012</span>\n *\n * <DateField source=\"share\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>Wednesday, November 7, 2012</span>\n *\n * <DateField source=\"price\" locales=\"fr-FR\" options={{ weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }} />\n * // renders the record { id: 1234, new Date('2012-11-07') } as\n * <span>mercredi 7 novembre 2012</span>\n */\nconst DateFieldImpl = <\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RecordType extends Record<string, any> = Record<string, any>,\n>(\n  inProps: DateFieldProps<RecordType>,\n) => {\n  const {\n    empty,\n    locales,\n    options,\n    showTime = false,\n    showDate = true,\n    transform = defaultTransform,\n    source,\n    record,\n    defaultValue,\n    ...rest\n  } = inProps;\n  const translate = useTranslate();\n\n  if (!showTime && !showDate) {\n    throw new Error(\n      \"<DateField> cannot have showTime and showDate false at the same time\",\n    );\n  }\n\n  const value = useFieldValue({ source, record, defaultValue });\n  if (value == null || value === \"\") {\n    if (!empty) {\n      return null;\n    }\n\n    return (\n      <span {...rest}>\n        {typeof empty === \"string\" ? translate(empty, { _: empty }) : empty}\n      </span>\n    );\n  }\n\n  const date = transform(value);\n\n  let dateString = \"\";\n  if (date) {\n    if (showTime && showDate) {\n      dateString = toLocaleStringSupportsLocales\n        ? date.toLocaleString(locales, options)\n        : date.toLocaleString();\n    } else if (showDate) {\n      // If input is a date string (e.g. '2022-02-15') without time and time zone,\n      // force timezone to UTC to fix issue with people in negative time zones\n      // who may see a different date when calling toLocaleDateString().\n      const dateOptions =\n        options ??\n        (typeof value === \"string\" && value.length <= 10\n          ? { timeZone: \"UTC\" }\n          : undefined);\n      dateString = toLocaleStringSupportsLocales\n        ? date.toLocaleDateString(locales, dateOptions)\n        : date.toLocaleDateString();\n    } else if (showTime) {\n      dateString = toLocaleStringSupportsLocales\n        ? date.toLocaleTimeString(locales, options)\n        : date.toLocaleTimeString();\n    }\n  }\n\n  return <span {...rest}>{dateString}</span>;\n};\nDateFieldImpl.displayName = \"DateFieldImpl\";\n\nexport const DateField = genericMemo(DateFieldImpl);\n\nexport interface DateFieldProps<\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RecordType extends Record<string, any> = Record<string, any>,\n> extends FieldProps<RecordType>,\n    HTMLAttributes<HTMLSpanElement> {\n  locales?: Intl.LocalesArgument;\n  options?: Intl.DateTimeFormatOptions;\n  showTime?: boolean;\n  showDate?: boolean;\n  transform?: (value: unknown) => Date;\n}\n\nconst defaultTransform = (value: unknown) =>\n  value instanceof Date\n    ? value\n    : typeof value === \"string\" || typeof value === \"number\"\n      ? new Date(value)\n      : undefined;\n\nconst toLocaleStringSupportsLocales = (() => {\n  // from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\n  try {\n    new Date().toLocaleString(\"i\");\n  } catch (error) {\n    return error instanceof RangeError;\n  }\n  return false;\n})();\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/delete-button.tsx",
      "content": "import * as React from \"react\";\nimport { Trash } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { humanize, singularize } from \"inflection\";\nimport {\n  useDeleteWithUndoController,\n  useGetRecordRepresentation,\n  useResourceTranslation,\n  useRecordContext,\n  useResourceContext,\n  useTranslate,\n  type UseDeleteOptions,\n  type RedirectionSideEffect,\n} from \"ra-core\";\n\nexport type DeleteButtonProps = {\n  label?: string;\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n  onClick?: React.ReactEventHandler<HTMLButtonElement>;\n  mutationOptions?: UseDeleteOptions;\n  redirect?: RedirectionSideEffect;\n  resource?: string;\n  successMessage?: string;\n  className?: string;\n  variant?:\n    | \"default\"\n    | \"destructive\"\n    | \"outline\"\n    | \"secondary\"\n    | \"ghost\"\n    | \"link\";\n};\n\nexport const DeleteButton = (props: DeleteButtonProps) => {\n  const {\n    label: labelProp,\n    onClick,\n    size,\n    mutationOptions,\n    redirect = \"list\",\n    successMessage,\n    variant = \"outline\",\n    className = \"cursor-pointer hover:bg-destructive/10! text-destructive! border-destructive! focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40\",\n  } = props;\n  const record = useRecordContext(props);\n  const resource = useResourceContext(props);\n\n  const { isPending, handleDelete } = useDeleteWithUndoController({\n    record,\n    resource,\n    redirect,\n    onClick,\n    mutationOptions,\n    successMessage,\n  });\n  const translate = useTranslate();\n  const getRecordRepresentation = useGetRecordRepresentation(resource);\n  let recordRepresentation = getRecordRepresentation(record);\n  const resourceName = translate(`resources.${resource}.forcedCaseName`, {\n    smart_count: 1,\n    _: humanize(\n      translate(`resources.${resource}.name`, {\n        smart_count: 1,\n        _: resource ? singularize(resource) : undefined,\n      }),\n      true,\n    ),\n  });\n  // We don't support React elements for this\n  if (React.isValidElement(recordRepresentation)) {\n    recordRepresentation = `#${record?.id}`;\n  }\n  const label = useResourceTranslation({\n    resourceI18nKey: `resources.${resource}.action.delete`,\n    baseI18nKey: \"ra.action.delete\",\n    options: {\n      name: resourceName,\n      recordRepresentation,\n    },\n    userText: labelProp,\n  });\n\n  return (\n    <Button\n      variant={variant}\n      type=\"button\"\n      onClick={handleDelete}\n      disabled={isPending}\n      aria-label={typeof label === \"string\" ? label : undefined}\n      size={size}\n      className={className}\n    >\n      <Trash />\n      {label}\n    </Button>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/edit.tsx",
      "content": "import {\n  EditBase,\n  EditBaseProps,\n  Translate,\n  useCreatePath,\n  useEditContext,\n  useGetRecordRepresentation,\n  useGetResourceLabel,\n  useHasDashboard,\n  useResourceContext,\n  useResourceDefinition,\n} from \"ra-core\";\nimport { ReactNode } from \"react\";\nimport { Link } from \"react-router\";\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbPage,\n} from \"@/components/admin/breadcrumb\";\nimport { cn } from \"@/lib/utils\";\nimport { ShowButton } from \"@/components/admin/show-button\";\nimport { DeleteButton } from \"./delete-button\";\n\nexport interface EditProps extends EditViewProps, EditBaseProps {}\n\nexport const Edit = ({\n  title,\n  children,\n  actions,\n  className,\n  ...rest\n}: EditProps) => (\n  <EditBase {...rest}>\n    <EditView title={title} actions={actions} className={className}>\n      {children}\n    </EditView>\n  </EditBase>\n);\n\nexport interface EditViewProps {\n  title?: ReactNode | string | false;\n  actions?: ReactNode;\n  children?: ReactNode;\n  className?: string;\n}\n\nexport const EditView = ({\n  title,\n  actions,\n  className,\n  children,\n}: EditViewProps) => {\n  const context = useEditContext();\n\n  const resource = useResourceContext();\n  if (!resource) {\n    throw new Error(\n      \"The EditView component must be used within a ResourceContextProvider\",\n    );\n  }\n  const getResourceLabel = useGetResourceLabel();\n  const listLabel = getResourceLabel(resource, 2);\n  const createPath = useCreatePath();\n  const listLink = createPath({\n    resource,\n    type: \"list\",\n  });\n\n  const getRecordRepresentation = useGetRecordRepresentation(resource);\n  const recordRepresentation = getRecordRepresentation(context.record);\n\n  const { hasShow } = useResourceDefinition({ resource });\n  const hasDashboard = useHasDashboard();\n\n  if (context.isLoading || !context.record) {\n    return null;\n  }\n\n  return (\n    <>\n      <Breadcrumb>\n        {hasDashboard && (\n          <BreadcrumbItem>\n            <Link to=\"/\">\n              <Translate i18nKey=\"ra.page.dashboard\">Home</Translate>\n            </Link>\n          </BreadcrumbItem>\n        )}\n        <BreadcrumbItem>\n          <Link to={listLink}>{listLabel}</Link>\n        </BreadcrumbItem>\n        <BreadcrumbPage>{recordRepresentation}</BreadcrumbPage>\n      </Breadcrumb>\n      <div\n        className={cn(\n          \"flex justify-between items-start flex-wrap gap-2 my-2\",\n          className,\n        )}\n      >\n        <h2 className=\"text-2xl font-bold tracking-tight\">\n          {title !== undefined ? title : context.defaultTitle}\n        </h2>\n        {actions ?? (\n          <div className=\"flex justify-end items-center gap-2\">\n            {hasShow ? <ShowButton /> : null}\n            <DeleteButton />\n          </div>\n        )}\n      </div>\n      <div className=\"my-2\">{children}</div>\n    </>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/edit-button.tsx",
      "content": "import React from \"react\";\nimport { buttonVariants } from \"@/components/ui/button\";\nimport { Pencil } from \"lucide-react\";\nimport {\n  useCreatePath,\n  useRecordContext,\n  useResourceContext,\n  Translate,\n  type RaRecord,\n} from \"ra-core\";\nimport { Link } from \"react-router\";\n\nexport type EditButtonProps = {\n  record?: RaRecord;\n  resource?: string;\n  label?: string;\n};\n\nexport const EditButton = (props: EditButtonProps) => {\n  const resource = useResourceContext(props);\n  const record = useRecordContext(props);\n  const createPath = useCreatePath();\n  const link = createPath({\n    resource,\n    type: \"edit\",\n    id: record?.id,\n  });\n  return (\n    <Link\n      className={buttonVariants({ variant: \"outline\" })}\n      to={link}\n      onClick={stopPropagation}\n    >\n      <Pencil />\n      <Translate i18nKey={props.label ?? \"ra.action.edit\"}>\n        {props.label ?? \"Edit\"}\n      </Translate>\n    </Link>\n  );\n};\n\n// useful to prevent click bubbling in a datagrid with rowClick\nconst stopPropagation = (e: React.MouseEvent) => e.stopPropagation();\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/edit-guesser.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { ReactNode, useEffect, useState } from \"react\";\nimport {\n  EditBase,\n  InferredElement,\n  useResourceContext,\n  useEditContext,\n  getElementsFromRecords,\n  InferredTypeMap,\n} from \"ra-core\";\nimport { capitalize, singularize } from \"inflection\";\nimport { EditView } from \"@/components/admin/edit\";\nimport { SimpleForm } from \"@/components/admin/simple-form\";\nimport { TextInput } from \"@/components/admin/text-input\";\nimport { BooleanInput } from \"@/components/admin/boolean-input\";\nimport { ReferenceInput } from \"@/components/admin/reference-input\";\nimport { AutocompleteInput } from \"@/components/admin/autocomplete-input\";\nimport { ReferenceArrayInput } from \"@/components/admin/reference-array-input\";\n\nexport const EditGuesser = (props: { enableLog?: boolean }) => {\n  return (\n    <EditBase>\n      <EditViewGuesser {...props} />\n    </EditBase>\n  );\n};\n\nconst EditViewGuesser = (props: { enableLog?: boolean }) => {\n  const resource = useResourceContext();\n\n  if (!resource) {\n    throw new Error(`Cannot use <EditGuesser> outside of a ResourceContext`);\n  }\n\n  const { record } = useEditContext();\n  const [child, setChild] = useState<ReactNode>(null);\n  const { enableLog = process.env.NODE_ENV === \"development\", ...rest } = props;\n\n  useEffect(() => {\n    setChild(null);\n  }, [resource]);\n\n  useEffect(() => {\n    if (record && !child) {\n      const inferredElements = getElementsFromRecords([record], editFieldTypes);\n      const inferredChild = new InferredElement(\n        editFieldTypes.form,\n        null,\n        inferredElements,\n      );\n      setChild(inferredChild.getElement());\n\n      if (!enableLog) return;\n\n      const representation = inferredChild.getRepresentation();\n\n      const components = [\"Edit\"]\n        .concat(\n          Array.from(\n            new Set(\n              Array.from(representation.matchAll(/<([^/\\s>]+)/g))\n                .map((match) => match[1])\n                .filter((component) => component !== \"span\"),\n            ),\n          ),\n        )\n        .sort();\n\n      // eslint-disable-next-line no-console\n      console.log(\n        `Guessed Edit:\n\n${components\n  .map(\n    (component) =>\n      `import { ${component} } from \"@/components/admin/${kebabCase(\n        component,\n      )}\";`,\n  )\n  .join(\"\\n\")}\n\nexport const ${capitalize(singularize(resource))}Edit = () => (\n    <Edit>\n${representation}\n    </Edit>\n);`,\n      );\n    }\n  }, [record, child, resource, enableLog]);\n\n  return <EditView {...rest}>{child}</EditView>;\n};\n\nconst editFieldTypes: InferredTypeMap = {\n  form: {\n    component: (props: any) => <SimpleForm {...props} />,\n    representation: (\n      _props: any,\n      children: { getRepresentation: () => string }[],\n    ) => `        <SimpleForm>\n${children\n  .map((child) => `            ${child.getRepresentation()}`)\n  .join(\"\\n\")}\n        </SimpleForm>`,\n  },\n  reference: {\n    component: (props: any) => (\n      <ReferenceInput source={props.source} reference={props.reference}>\n        <AutocompleteInput />\n      </ReferenceInput>\n    ),\n    representation: (props: any) =>\n      `<ReferenceInput source=\"${props.source}\" reference=\"${props.reference}\">\n                  <AutocompleteInput />\n              </ReferenceInput>`,\n  },\n  referenceArray: {\n    component: (props: any) => <ReferenceArrayInput {...props} />,\n    representation: (props: any) =>\n      `<ReferenceArrayInput source=\"${props.source}\" reference=\"${props.reference}\" />`,\n  },\n  boolean: {\n    component: (props: any) => <BooleanInput {...props} />,\n    representation: (props: any) => `<BooleanInput source=\"${props.source}\" />`,\n  },\n  string: {\n    component: (props: any) => <TextInput {...props} />,\n    representation: (props: any) => `<TextInput source=\"${props.source}\" />`,\n  },\n};\n\nconst kebabCase = (name: string) => {\n  return name\n    .replace(/([a-z])([A-Z])/g, \"$1-$2\")\n    .replace(/([A-Z])([A-Z][a-z])/g, \"$1-$2\")\n    .toLowerCase();\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/email-field.tsx",
      "content": "import { useFieldValue, useTranslate } from \"ra-core\";\nimport React, { AnchorHTMLAttributes } from \"react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { genericMemo } from \"@/lib/genericMemo\";\nimport { FieldProps } from \"@/lib/field.type.ts\";\n\nconst EmailFieldImpl = <\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RecordType extends Record<string, any> = Record<string, any>,\n>(\n  inProps: EmailFieldProps<RecordType>,\n) => {\n  const { className, empty, defaultValue, source, record, ...rest } = inProps;\n  const value = useFieldValue({ defaultValue, source, record });\n  const translate = useTranslate();\n\n  if (value == null) {\n    if (!empty) {\n      return null;\n    }\n\n    return (\n      <span className={className} {...rest}>\n        {typeof empty === \"string\" ? translate(empty, { _: empty }) : empty}\n      </span>\n    );\n  }\n\n  return (\n    <a\n      className={cn(\"underline hover:no-underline\", className)}\n      href={`mailto:${value}`}\n      onClick={stopPropagation}\n      {...rest}\n    >\n      {value}\n    </a>\n  );\n};\nEmailFieldImpl.displayName = \"EmailFieldImpl\";\n\nexport const EmailField = genericMemo(EmailFieldImpl);\n\nexport interface EmailFieldProps<\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RecordType extends Record<string, any> = Record<string, any>,\n> extends FieldProps<RecordType>,\n    AnchorHTMLAttributes<HTMLAnchorElement> {}\n\n// useful to prevent click bubbling in a DataTable with rowClick\nconst stopPropagation = (e: React.MouseEvent<HTMLAnchorElement>) =>\n  e.stopPropagation();\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/export-button.tsx",
      "content": "import * as React from \"react\";\nimport { useCallback } from \"react\";\nimport { Download } from \"lucide-react\";\nimport {\n  fetchRelatedRecords,\n  useDataProvider,\n  useNotify,\n  useListContext,\n  Exporter,\n  Translate,\n} from \"ra-core\";\nimport { Button } from \"@/components/ui/button\";\n\nexport const ExportButton = (props: ExportButtonProps) => {\n  const {\n    maxResults = 1000,\n    onClick,\n    label = \"ra.action.export\",\n    icon = defaultIcon,\n    exporter: customExporter,\n    meta,\n    className = \"cursor-pointer\",\n  } = props;\n  const {\n    filter,\n    filterValues,\n    resource,\n    sort,\n    exporter: exporterFromContext,\n    total,\n  } = useListContext();\n  const exporter = customExporter || exporterFromContext;\n  const dataProvider = useDataProvider();\n  const notify = useNotify();\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      dataProvider\n        .getList(resource, {\n          sort,\n          filter: filter ? { ...filterValues, ...filter } : filterValues,\n          pagination: { page: 1, perPage: maxResults },\n          meta,\n        })\n        .then(\n          ({ data }) =>\n            exporter &&\n            exporter(\n              data,\n              fetchRelatedRecords(dataProvider),\n              dataProvider,\n              resource,\n            ),\n        )\n        .catch((error) => {\n          console.error(error);\n          notify(\"HTTP Error\", { type: \"error\" });\n        });\n      if (typeof onClick === \"function\") {\n        onClick(event);\n      }\n    },\n    [\n      dataProvider,\n      exporter,\n      filter,\n      filterValues,\n      maxResults,\n      notify,\n      onClick,\n      resource,\n      sort,\n      meta,\n    ],\n  );\n\n  return (\n    <Button\n      variant=\"outline\"\n      onClick={handleClick}\n      disabled={total === 0}\n      className={className}\n    >\n      {icon}\n      <Translate i18nKey={label}>Export</Translate>\n    </Button>\n  );\n};\n\nconst defaultIcon = <Download />;\n\nexport interface ExportButtonProps {\n  className?: string;\n  exporter?: Exporter;\n  icon?: React.ReactNode;\n  label?: string;\n  maxResults?: number;\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => void;\n  resource?: string;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  meta?: any;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/field-toggle.tsx",
      "content": "import * as React from \"react\";\nimport { FieldTitle, useResourceContext } from \"ra-core\";\nimport { GripVertical } from \"lucide-react\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { cn } from \"@/lib/utils\";\n\n/**\n * UI to enable/disable a field\n */\nexport const FieldToggle = (props: FieldToggleProps) => {\n  const { selected, label, onToggle, onMove, source, index } = props;\n  const resource = useResourceContext();\n  const dropIndex = React.useRef<number | null>(null);\n  const x = React.useRef<number | null>(null);\n  const y = React.useRef<number | null>(null);\n\n  const handleDocumentDragOver = React.useCallback((event: DragEvent) => {\n    x.current = event.clientX;\n    y.current = event.clientY;\n  }, []);\n\n  const handleDragStart = () => {\n    document.addEventListener(\n      \"dragover\",\n      handleDocumentDragOver as EventListener\n    );\n  };\n\n  const handleDrag = (event: React.DragEvent) => {\n    // imperative DOM manipulations using the native Drag API\n    const selectedItem = event.target as HTMLElement;\n    selectedItem.dataset.dragActive = \"true\";\n    const list = selectedItem.closest(\"ul\");\n    if (x.current == null || y.current == null) {\n      return;\n    }\n    const elementAtDragCoordinates = document.elementFromPoint(\n      x.current,\n      y.current\n    );\n    let dropItem =\n      elementAtDragCoordinates === null\n        ? selectedItem\n        : elementAtDragCoordinates.closest(\"li\");\n\n    if (!dropItem) {\n      return;\n    }\n    if (dropItem.classList.contains(\"dragIcon\")) {\n      const parent = dropItem.parentNode;\n      if (parent instanceof HTMLElement) {\n        dropItem = parent;\n      }\n    }\n    if (dropItem === selectedItem) {\n      return;\n    }\n    const dropItemParent = dropItem.parentNode;\n    if (\n      list &&\n      dropItemParent instanceof HTMLElement &&\n      list === dropItemParent.closest(\"ul\")\n    ) {\n      const dataIndex = dropItem.dataset.index;\n      if (dataIndex) {\n        dropIndex.current = parseInt(dataIndex, 10);\n      }\n      if (dropItem === selectedItem.nextSibling) {\n        dropItem = dropItem.nextSibling as HTMLElement;\n      }\n      list.insertBefore(selectedItem, dropItem);\n    }\n  };\n\n  const handleDragEnd = (event: React.DragEvent) => {\n    const selectedItem = event.target as HTMLElement;\n    const list = selectedItem.closest(\"ul\");\n\n    const elementFromPoint =\n      x.current != null && y.current != null\n        ? document.elementFromPoint(x.current, y.current)\n        : null;\n\n    let dropItem =\n      x.current == null || y.current == null || elementFromPoint === null\n        ? selectedItem\n        : elementFromPoint.closest(\"li\");\n\n    if (y.current !== null && list && !dropItem) {\n      const closestUL = selectedItem.closest(\"ul\");\n      if (closestUL && y.current > closestUL.getBoundingClientRect().bottom) {\n        dropItem = list.lastChild as HTMLElement;\n      } else {\n        dropItem = list.firstChild as HTMLElement;\n      }\n    }\n\n    if (dropItem && list && dropItem.closest(\"ul\") === list) {\n      if (onMove) onMove(selectedItem.dataset.index!, dropIndex.current!);\n    } else {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n    selectedItem.dataset.dragActive = \"false\";\n    document.removeEventListener(\n      \"dragover\",\n      handleDocumentDragOver as EventListener\n    );\n  };\n\n  const handleDragOver = (event: React.DragEvent) => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = \"move\";\n  };\n\n  return (\n    <li\n      key={source}\n      role=\"option\"\n      draggable={onMove ? \"true\" : undefined}\n      onDrag={onMove ? handleDrag : undefined}\n      onDragStart={onMove ? handleDragStart : undefined}\n      onDragEnd={onMove ? handleDragEnd : undefined}\n      onDragOver={onMove ? handleDragOver : undefined}\n      data-index={index}\n      className={cn(\n        \"flex justify-between items-center py-1\",\n        \"data-[drag-active=true]:bg-transparent data-[drag-active=true]:text-transparent data-[drag-active=true]:outline data-[drag-active=true]:outline-1 data-[drag-active=true]:outline-border\"\n      )}\n    >\n      <label\n        htmlFor={`switch_${index}`}\n        className=\"flex items-center gap-2 cursor-pointer\"\n      >\n        <Switch\n          id={`switch_${index}`}\n          checked={selected}\n          onCheckedChange={onToggle}\n          name={`${index}`}\n        />\n        <span className=\"text-sm\">\n          <FieldTitle label={label} source={source} resource={resource} />\n        </span>\n      </label>\n      {onMove && (\n        <GripVertical className=\"cursor-move dragIcon w-4 h-4 text-muted-foreground\" />\n      )}\n    </li>\n  );\n};\n\nexport interface FieldToggleProps {\n  selected: boolean;\n  label: React.ReactNode;\n  onToggle?: (event: boolean) => void;\n  onMove?: (\n    dragIndex: string | number,\n    dropIndex: string | number | null\n  ) => void;\n  source: string;\n  index: number | string;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/file-field.tsx",
      "content": "import { HTMLAttributes } from \"react\";\nimport get from \"lodash/get\";\nimport {\n  type ExtractRecordPaths,\n  type HintedString,\n  useFieldValue,\n  useTranslate,\n} from \"ra-core\";\nimport { cn } from \"@/lib/utils\";\nimport type { FieldProps } from \"@/lib/field.type.ts\";\n\n/**\n * Render a link to a file based on a path contained in a record field\n *\n * @example\n * import { FileField } from '@/components/admin/file-field';\n *\n * <FileField source=\"url\" title=\"title\" />\n *\n * // renders the record { id: 123, url: 'doc.pdf', title: 'Presentation' } as\n * <div>\n *     <a href=\"doc.pdf\" title=\"Presentation\">Presentation</a>\n * </div>\n */\nexport const FileField = <\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RecordType extends Record<string, any> = Record<string, any>,\n>(\n  props: FileFieldProps<RecordType>,\n) => {\n  const {\n    className,\n    empty,\n    title,\n    src,\n    target,\n    download,\n    defaultValue,\n    source,\n    record,\n    ...rest\n  } = props;\n  const sourceValue = useFieldValue({ defaultValue, source, record });\n  const titleValue =\n    useFieldValue({\n      ...props,\n      // @ts-expect-error We ignore here because title might be a custom label or undefined instead of a field name\n      source: title,\n    })?.toString() ?? title;\n  const translate = useTranslate();\n\n  if (\n    sourceValue == null ||\n    (Array.isArray(sourceValue) && sourceValue.length === 0)\n  ) {\n    if (!empty) {\n      return null;\n    }\n\n    return (\n      <div className={cn(\"inline-block\", className)} {...rest}>\n        {typeof empty === \"string\" ? translate(empty, { _: empty }) : empty}\n      </div>\n    );\n  }\n\n  if (Array.isArray(sourceValue)) {\n    return (\n      <ul className={cn(\"inline-block\", className)} {...rest}>\n        {sourceValue.map((file, index) => {\n          const fileTitleValue = title ? get(file, title, title) : title;\n          const srcValue = src ? get(file, src, title) : title;\n\n          return (\n            <li key={index}>\n              <a\n                href={srcValue}\n                title={fileTitleValue}\n                target={target}\n                download={download}\n                // useful to prevent click bubbling in a DataTable with rowClick\n                onClick={(e) => e.stopPropagation()}\n              >\n                {fileTitleValue}\n              </a>\n            </li>\n          );\n        })}\n      </ul>\n    );\n  }\n\n  return (\n    <div className={cn(\"inline-block\", className)} {...rest}>\n      <a\n        href={sourceValue?.toString()}\n        title={titleValue}\n        target={target}\n        download={download}\n        // useful to prevent click bubbling in a DataTable with rowClick\n        onClick={(e) => e.stopPropagation()}\n      >\n        {titleValue}\n      </a>\n    </div>\n  );\n};\n\nexport interface FileFieldProps<\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RecordType extends Record<string, any> = Record<string, any>,\n> extends FieldProps<RecordType>,\n    HTMLAttributes<HTMLElement> {\n  /**\n   * The source of the link to the file, for an array of files.\n   */\n  src?: string;\n  title?: HintedString<ExtractRecordPaths<RecordType>>;\n  target?: HTMLAnchorElement[\"target\"];\n  download?: HTMLAnchorElement[\"download\"];\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/file-input.tsx",
      "content": "import * as React from \"react\";\nimport {\n  Children,\n  isValidElement,\n  type ComponentType,\n  type ReactElement,\n  type ReactNode,\n  useEffect,\n  HTMLAttributes,\n} from \"react\";\nimport {\n  FieldTitle,\n  InputProps,\n  RecordContextProvider,\n  shallowEqual,\n  useInput,\n  useTranslate,\n} from \"ra-core\";\nimport {\n  useDropzone,\n  type DropzoneOptions,\n  FileRejection,\n  DropEvent,\n  DropzoneInputProps,\n} from \"react-dropzone\";\nimport { XCircle } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { FormError, FormField, FormLabel } from \"@/components/admin/form\";\nimport { InputHelperText } from \"@/components/admin/input-helper-text\";\nimport { Button } from \"@/components/ui/button.tsx\";\n\nexport const FileInput = (props: FileInputProps) => {\n  const {\n    alwaysOn,\n    defaultValue,\n    format,\n    label,\n    helperText,\n    name: nameProp,\n    onBlur: onBlurProp,\n    onChange: onChangeProp,\n    parse,\n    resource,\n    source,\n    validate,\n    readOnly,\n    disabled,\n\n    accept,\n    maxSize,\n    minSize,\n    multiple = false,\n    options = {},\n\n    children,\n    className,\n    inputProps: inputPropsOptions,\n\n    onRemove: onRemoveProp,\n    validateFileRemoval,\n\n    placeholder,\n    labelMultiple = \"ra.input.file.upload_several\",\n    labelSingle = \"ra.input.file.upload_single\",\n    removeIcon,\n    ...rest\n  } = props;\n  const { onDrop: onDropProp } = options;\n  const translate = useTranslate();\n\n  // turn a browser dropped file structure into expected structure\n  const transformFile = (file: unknown) => {\n    if (!(file instanceof File)) {\n      return file;\n    }\n\n    const preview = URL.createObjectURL(file);\n    const transformedFile: TransformedFile = {\n      rawFile: file,\n      src: preview,\n      title: file.name,\n    };\n\n    return transformedFile;\n  };\n\n  const transformFiles = (files: unknown[]) => {\n    if (!files) {\n      return multiple ? [] : null;\n    }\n\n    if (Array.isArray(files)) {\n      return files.map(transformFile);\n    }\n\n    return transformFile(files);\n  };\n\n  const {\n    id,\n    field: { onChange, onBlur, value, name },\n    isRequired,\n  } = useInput({\n    alwaysOn,\n    defaultValue,\n    format: format || transformFiles,\n    label,\n    helperText,\n    name: nameProp,\n    onBlur: onBlurProp,\n    onChange: onChangeProp,\n    parse: parse || transformFiles,\n    resource,\n    source,\n    validate,\n    readOnly,\n    disabled,\n  });\n  const files = value ? (Array.isArray(value) ? value : [value]) : [];\n\n  const onDrop = (\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    newFiles: any[],\n    rejectedFiles: FileRejection[],\n    event: DropEvent,\n  ) => {\n    const updatedFiles = multiple ? [...files, ...newFiles] : [...newFiles];\n\n    if (multiple) {\n      onChange(updatedFiles);\n      onBlur();\n    } else {\n      onChange(updatedFiles[0]);\n      onBlur();\n    }\n\n    if (onDropProp) {\n      onDropProp(newFiles, rejectedFiles, event);\n    }\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const onRemove = (file: any) => async () => {\n    if (validateFileRemoval) {\n      try {\n        await validateFileRemoval(file);\n      } catch {\n        return;\n      }\n    }\n\n    if (multiple) {\n      const filteredFiles = files.filter(\n        (stateFile) => !shallowEqual(stateFile, file),\n      );\n      onChange(filteredFiles);\n      onBlur();\n    } else {\n      onChange(null);\n      onBlur();\n    }\n\n    if (onRemoveProp) {\n      onRemoveProp(file);\n    }\n  };\n\n  const childrenElement =\n    children && isValidElement(Children.only(children))\n      ? (Children.only(children) as ReactElement)\n      : undefined;\n\n  const { getRootProps, getInputProps } = useDropzone({\n    accept,\n    maxSize,\n    minSize,\n    multiple,\n    disabled: disabled || readOnly,\n    ...options,\n    onDrop,\n  });\n\n  return (\n    <FormField\n      id={id}\n      name={name}\n      className={cn(\"w-full\", className)}\n      {...rest}\n    >\n      <FormLabel\n        htmlFor={id}\n        className={disabled || readOnly ? \"cursor-default\" : \"cursor-pointer\"}\n      >\n        <FieldTitle\n          label={label}\n          source={source}\n          resource={resource}\n          isRequired={isRequired}\n        />\n      </FormLabel>\n\n      <div\n        {...getRootProps({\n          className: cn(\n            \"border-2 border-dashed border-muted rounded-lg p-6 text-center transition-colors\",\n            \"hover:border-sidebar-ring focus:outline-none\",\n            disabled || readOnly\n              ? \"bg-muted cursor-not-allowed\"\n              : \"bg-muted text-muted-foreground cursor-pointer\",\n          ),\n        })}\n      >\n        <input\n          id={id}\n          name={name}\n          {...getInputProps({\n            ...inputPropsOptions,\n          })}\n        />\n\n        {placeholder ? (\n          placeholder\n        ) : multiple ? (\n          <p className=\"text-sm\">{translate(labelMultiple)}</p>\n        ) : (\n          <p className=\"text-sm\">{translate(labelSingle)}</p>\n        )}\n      </div>\n\n      <InputHelperText helperText={helperText} />\n      <FormError />\n\n      {children && (\n        <div className=\"previews flex flex-col gap-1\">\n          {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            files.map((file: any, index: number) => (\n              <FileInputPreview\n                key={index}\n                file={file}\n                onRemove={onRemove(file)}\n                removeIcon={removeIcon}\n              >\n                <RecordContextProvider value={file}>\n                  {childrenElement}\n                </RecordContextProvider>\n              </FileInputPreview>\n            ))\n          }\n        </div>\n      )}\n    </FormField>\n  );\n};\n\nexport type FileInputProps = Omit<InputProps, \"type\"> & {\n  accept?: DropzoneOptions[\"accept\"];\n  className?: string;\n  children?: ReactNode;\n  labelMultiple?: string;\n  labelSingle?: string;\n  maxSize?: DropzoneOptions[\"maxSize\"];\n  minSize?: DropzoneOptions[\"minSize\"];\n  multiple?: DropzoneOptions[\"multiple\"];\n  options?: DropzoneOptions;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onRemove?: (file: any) => void;\n  placeholder?: ReactNode;\n  removeIcon?: ComponentType<{ className?: string }>;\n  inputProps?: DropzoneInputProps & React.ComponentProps<\"input\">;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  validateFileRemoval?(file: any): boolean | Promise<boolean>;\n};\n\nexport interface TransformedFile {\n  rawFile: File;\n  src: string;\n  title: string;\n}\n\nexport const FileInputPreview = (props: FileInputPreviewProps) => {\n  const {\n    className,\n    children,\n\n    file,\n    onRemove,\n    removeIcon: RemoveIcon = XCircle,\n\n    ...rest\n  } = props;\n\n  const translate = useTranslate();\n\n  useEffect(() => {\n    return () => {\n      const preview = file.rawFile ? file.rawFile.preview : file.preview;\n\n      if (preview) {\n        window.URL.revokeObjectURL(preview);\n      }\n    };\n  }, [file]);\n\n  return (\n    <div className={cn(\"flex flex-row gap-1\", className)} {...rest}>\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        className=\"h-6 w-6 rounded-full shadow-sm cursor-pointer\"\n        onClick={onRemove}\n        aria-label={translate(\"ra.action.delete\")}\n        title={translate(\"ra.action.delete\")}\n      >\n        <RemoveIcon className=\"h-4 w-4\" />\n      </Button>\n      {children}\n    </div>\n  );\n};\n\nexport interface FileInputPreviewProps extends HTMLAttributes<HTMLDivElement> {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  file: any;\n  onRemove: () => void;\n  removeIcon?: React.ComponentType<{ className?: string }>;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/hooks/filter-context.tsx",
      "content": "import * as React from \"react\";\nimport { useContext } from \"react\";\n\nexport interface FilterElementProps {\n  alwaysOn?: boolean;\n  context?: string;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  defaultValue?: any;\n  resource?: string;\n  record?: object;\n  source: string;\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  [key: string]: any; // Allow any other prop\n}\n\nexport type FilterContextType =\n  | React.ReactElement<FilterElementProps>[]\n  | undefined;\n\n/**\n * Make filters accessible to sub components\n * @deprecated Use FilterContext from `ra-core` once available.\n */\nexport const FilterContext = React.createContext<FilterContextType>(undefined);\n\n/**\n * @deprecated Use useFilterContext from `ra-core` once available.\n */\nexport const useFilterContext = (): FilterContextType => {\n  return useContext(FilterContext);\n};\n",
      "type": "registry:hook"
    },
    {
      "path": "src/components/admin/filter-form.tsx",
      "content": "import * as React from \"react\";\nimport {\n  type HtmlHTMLAttributes,\n  useCallback,\n  useEffect,\n  useState,\n} from \"react\";\nimport get from \"lodash/get\";\nimport isEqual from \"lodash/isEqual\";\nimport queryString from \"query-string\";\nimport {\n  FieldTitle,\n  FilterLiveForm,\n  useListContext,\n  useResourceContext,\n  useTranslate,\n} from \"ra-core\";\nimport { useNavigate } from \"react-router\";\nimport {\n  Bookmark,\n  BookmarkMinus,\n  BookmarkPlus,\n  Check,\n  Filter,\n  MinusCircle,\n  X,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { FilterElementProps, useFilterContext } from \"@/hooks/filter-context\";\nimport {\n  extractValidSavedQueries,\n  SavedQuery,\n  useSavedQueries,\n} from \"@/hooks/saved-queries.tsx\";\nimport { Button } from \"@/components/ui/button.tsx\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  AddSavedQueryDialog,\n  RemoveSavedQueryDialog,\n} from \"@/components/admin/saved-queries.tsx\";\n\nexport const FilterForm = (inProps: FilterFormProps) => {\n  const { filters: filtersProps, ...rest } = inProps;\n  const filters = useFilterContext() || filtersProps;\n\n  return (\n    <FilterLiveForm formComponent={StyledForm} {...sanitizeRestProps(rest)}>\n      <FilterFormBase filters={filters} />\n    </FilterLiveForm>\n  );\n};\n\n// eslint-disable-next-line @typescript-eslint/no-empty-object-type\nexport interface FilterFormProps extends FilterFormBaseProps {}\n\n/**\n * @deprecated Use FilterFormBase from `ra-core` once available.\n */\nexport const FilterFormBase = (props: FilterFormBaseProps) => {\n  const { filters } = props;\n  const resource = useResourceContext(props);\n  const { displayedFilters = {}, filterValues, hideFilter } = useListContext();\n\n  useEffect(() => {\n    if (!filters) return;\n    filters.forEach((filter) => {\n      if (filter.props.alwaysOn && filter.props.defaultValue) {\n        throw new Error(\n          \"Cannot use alwaysOn and defaultValue on a filter input. Please set the filterDefaultValues props on the <List> element instead.\",\n        );\n      }\n    });\n  }, [filters]);\n\n  const getShownFilters = () => {\n    if (!filters) return [];\n    const values = filterValues;\n    return filters.filter((filterElement) => {\n      const filterValue = get(values, filterElement.props.source);\n      return (\n        filterElement.props.alwaysOn ||\n        displayedFilters[filterElement.props.source] ||\n        !isEmptyValue(filterValue)\n      );\n    });\n  };\n\n  const handleHide = useCallback(\n    (event: React.MouseEvent<HTMLElement>) =>\n      hideFilter(event.currentTarget.dataset.key!),\n    [hideFilter],\n  );\n\n  return (\n    <>\n      {getShownFilters().map((filterElement) => (\n        <FilterFormInput\n          key={filterElement.key || filterElement.props.source}\n          filterElement={filterElement}\n          handleHide={handleHide}\n          resource={resource}\n        />\n      ))}\n    </>\n  );\n};\n\nconst sanitizeRestProps = ({\n  hasCreate: _hasCreate,\n  resource: _resource,\n  ...props\n}: Partial<FilterFormBaseProps> & { hasCreate?: boolean }) => props;\n\nexport type FilterFormBaseProps = Omit<\n  HtmlHTMLAttributes<HTMLFormElement>,\n  \"children\"\n> & {\n  className?: string;\n  resource?: string;\n  filters?: React.ReactElement<FilterElementProps>[];\n};\n\nconst StyledForm = (props: React.FormHTMLAttributes<HTMLFormElement>) => {\n  return (\n    <form\n      {...props}\n      className={cn(\n        \"flex flex-row justify-start items-end gap-x-2 gap-y-3 pointer-events-none flex-wrap\",\n        \"[&_.form-helper-text]:hidden\",\n        props.className,\n      )}\n    />\n  );\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isEmptyValue = (filterValue: any): boolean => {\n  if (filterValue === \"\" || filterValue == null) return true;\n\n  // If one of the value leaf is not empty\n  // the value is considered not empty\n  if (typeof filterValue === \"object\") {\n    return Object.keys(filterValue).every((key) =>\n      isEmptyValue(filterValue[key]),\n    );\n  }\n\n  return false;\n};\n\nexport const FilterFormInput = (inProps: FilterFormInputProps) => {\n  const { filterElement, handleHide, className } = inProps;\n  const resource = useResourceContext(inProps);\n  const translate = useTranslate();\n\n  return (\n    <div\n      data-source={filterElement.props.source}\n      className={cn(\n        \"filter-field flex flex-row pointer-events-auto gap-2 relative\",\n        className,\n      )}\n    >\n      {React.cloneElement(filterElement, {\n        resource,\n        record: emptyRecord,\n        size: filterElement.props.size ?? \"small\",\n        helperText: false,\n        // ignore defaultValue in Field because it was already set in Form (via mergedInitialValuesWithDefaultValues)\n        defaultValue: undefined,\n      })}\n      {!filterElement.props.alwaysOn && (\n        <Button\n          type=\"button\"\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"hide-filter h-9 w-9 cursor-pointer mt-auto\"\n          onClick={handleHide}\n          data-key={filterElement.props.source}\n          title={translate(\"ra.action.remove_filter\")}\n        >\n          <MinusCircle className=\"h-4 w-4\" />\n        </Button>\n      )}\n    </div>\n  );\n};\n\nexport interface FilterFormInputProps {\n  filterElement: React.ReactElement<FilterElementProps>;\n  handleHide: (event: React.MouseEvent<HTMLElement>) => void;\n  className?: string;\n  resource?: string;\n}\n\nconst emptyRecord = {};\n\nexport const FilterButton = (props: FilterButtonProps) => {\n  const {\n    filters: filtersProp,\n    className,\n    disableSaveQuery,\n    size,\n    variant = \"outline\",\n    ...rest\n  } = props;\n  const filters = useFilterContext() || filtersProp;\n  const resource = useResourceContext(props);\n  const translate = useTranslate();\n  if (!resource && !disableSaveQuery) {\n    throw new Error(\n      \"<FilterButton> must be called inside a ResourceContextProvider, or must provide a resource prop\",\n    );\n  }\n  const [savedQueries] = useSavedQueries(resource || \"\");\n  const navigate = useNavigate();\n  const {\n    displayedFilters = {},\n    filterValues,\n    perPage,\n    setFilters,\n    showFilter,\n    hideFilter,\n    sort,\n  } = useListContext();\n  const hasFilterValues = !isEqual(filterValues, {});\n  const validSavedQueries = extractValidSavedQueries(savedQueries);\n  const hasSavedCurrentQuery = validSavedQueries.some((savedQuery) =>\n    isEqual(savedQuery.value, {\n      filter: filterValues,\n      sort,\n      perPage,\n      displayedFilters,\n    }),\n  );\n  const [open, setOpen] = useState(false);\n\n  if (filters === undefined) {\n    throw new Error(\n      \"The <FilterButton> component requires the <List filters> prop to be set\",\n    );\n  }\n\n  const allTogglableFilters = filters.filter(\n    (filterElement: React.ReactElement<FilterElementProps>) =>\n      !filterElement.props.alwaysOn,\n  );\n\n  const handleShow = useCallback(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ({ source, defaultValue }: { source: string; defaultValue: any }) => {\n      showFilter(source, defaultValue === \"\" ? undefined : defaultValue);\n      // We have to fallback to imperative code because the new FilterFormInput\n      // has no way of knowing it has just been displayed (and thus that it should focus its input)\n      setTimeout(() => {\n        const inputElement = document.querySelector(\n          `input[name='${source}']`,\n        ) as HTMLInputElement;\n        if (inputElement) {\n          inputElement.focus();\n        }\n      }, 50);\n      setOpen(false);\n    },\n    [showFilter, setOpen],\n  );\n\n  const handleRemove = useCallback(\n    ({ source }: { source: string }) => {\n      hideFilter(source);\n      setOpen(false);\n    },\n    [hideFilter, setOpen],\n  );\n\n  // add query dialog state\n  const [addSavedQueryDialogOpen, setAddSavedQueryDialogOpen] = useState(false);\n  const hideAddSavedQueryDialog = (): void => {\n    setAddSavedQueryDialogOpen(false);\n  };\n  const showAddSavedQueryDialog = (): void => {\n    setOpen(false);\n    setAddSavedQueryDialogOpen(true);\n  };\n\n  // remove query dialog state\n  const [removeSavedQueryDialogOpen, setRemoveSavedQueryDialogOpen] =\n    useState(false);\n  const hideRemoveSavedQueryDialog = (): void => {\n    setRemoveSavedQueryDialogOpen(false);\n  };\n  const showRemoveSavedQueryDialog = (): void => {\n    setOpen(false);\n    setRemoveSavedQueryDialogOpen(true);\n  };\n\n  if (\n    allTogglableFilters.length === 0 &&\n    validSavedQueries.length === 0 &&\n    !hasFilterValues\n  ) {\n    return null;\n  }\n  return (\n    <div className={cn(\"inline-block\", className)} {...rest}>\n      <DropdownMenu open={open} onOpenChange={setOpen}>\n        <DropdownMenuTrigger asChild>\n          <Button\n            type=\"button\"\n            className=\"add-filter\"\n            variant={variant}\n            size={size}\n            aria-haspopup=\"true\"\n          >\n            <Filter className=\"h-4 w-4\" />\n            {translate(\"ra.action.add_filter\")}\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent align=\"start\" className=\"w-56\">\n          {allTogglableFilters.map(\n            (\n              filterElement: React.ReactElement<FilterElementProps>,\n              index: number,\n            ) => (\n              <FilterButtonMenuItem\n                key={filterElement.props.source}\n                filter={filterElement}\n                displayed={!!displayedFilters[filterElement.props.source]}\n                resource={resource}\n                onShow={handleShow}\n                onHide={handleRemove}\n                autoFocus={index === 0}\n              />\n            ),\n          )}\n          {(hasFilterValues || validSavedQueries.length > 0) && (\n            <DropdownMenuSeparator />\n          )}\n          {validSavedQueries.map((savedQuery: SavedQuery, index: number) =>\n            isEqual(savedQuery.value, {\n              filter: filterValues,\n              sort,\n              perPage,\n              displayedFilters,\n            }) ? (\n              <DropdownMenuItem\n                onClick={showRemoveSavedQueryDialog}\n                key={index}\n              >\n                <BookmarkMinus className=\"h-4 w-4 mr-2\" />\n                {translate(\"ra.saved_queries.remove_label_with_name\", {\n                  _: 'Remove query \"%{name}\"',\n                  name: savedQuery.label,\n                })}\n              </DropdownMenuItem>\n            ) : (\n              <DropdownMenuItem\n                onClick={(): void => {\n                  navigate({\n                    search: queryString.stringify({\n                      filter: JSON.stringify(savedQuery.value.filter),\n                      sort: savedQuery.value.sort?.field,\n                      order: savedQuery.value.sort?.order,\n                      page: 1,\n                      perPage: savedQuery.value.perPage,\n                      displayedFilters: JSON.stringify(\n                        savedQuery.value.displayedFilters,\n                      ),\n                    }),\n                  });\n                  setOpen(false);\n                }}\n                key={index}\n              >\n                <Bookmark className=\"h-4 w-4 mr-2\" />\n                {savedQuery.label}\n              </DropdownMenuItem>\n            ),\n          )}\n          {hasFilterValues && !hasSavedCurrentQuery && !disableSaveQuery && (\n            <DropdownMenuItem onClick={showAddSavedQueryDialog}>\n              <BookmarkPlus className=\"h-4 w-4 mr-2\" />\n              {translate(\"ra.saved_queries.new_label\", {\n                _: \"Save current query...\",\n              })}\n            </DropdownMenuItem>\n          )}\n          {hasFilterValues && (\n            <DropdownMenuItem\n              onClick={() => {\n                setFilters({}, {});\n                setOpen(false);\n              }}\n            >\n              <X className=\"h-4 w-4 mr-2\" />\n              {translate(\"ra.action.remove_all_filters\", {\n                _: \"Remove all filters\",\n              })}\n            </DropdownMenuItem>\n          )}\n        </DropdownMenuContent>\n      </DropdownMenu>\n      {!disableSaveQuery && (\n        <>\n          <AddSavedQueryDialog\n            open={addSavedQueryDialogOpen}\n            onClose={hideAddSavedQueryDialog}\n          />\n          <RemoveSavedQueryDialog\n            open={removeSavedQueryDialogOpen}\n            onClose={hideRemoveSavedQueryDialog}\n          />\n        </>\n      )}\n    </div>\n  );\n};\n\nexport interface FilterButtonProps extends HtmlHTMLAttributes<HTMLDivElement> {\n  className?: string;\n  disableSaveQuery?: boolean;\n  filters?: React.ReactElement<FilterElementProps>[];\n  resource?: string;\n  variant?:\n    | \"default\"\n    | \"destructive\"\n    | \"outline\"\n    | \"secondary\"\n    | \"ghost\"\n    | \"link\";\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n}\n\nexport const FilterButtonMenuItem = React.forwardRef<\n  HTMLDivElement,\n  FilterButtonMenuItemProps\n>((props, ref) => {\n  const { filter, onShow, onHide, displayed } = props;\n  const resource = useResourceContext(props);\n  const handleShow = useCallback(() => {\n    onShow({\n      source: filter.props.source,\n      defaultValue: filter.props.defaultValue,\n    });\n  }, [filter.props.defaultValue, filter.props.source, onShow]);\n  const handleHide = useCallback(() => {\n    onHide({\n      source: filter.props.source,\n    });\n  }, [filter.props.source, onHide]);\n\n  return (\n    <div\n      className={cn(\n        \"new-filter-item flex items-center px-2 py-1.5 text-sm cursor-pointer hover:bg-accent rounded-sm\",\n        filter.props.disabled && \"opacity-50 cursor-not-allowed\",\n      )}\n      data-key={filter.props.source}\n      data-default-value={filter.props.defaultValue}\n      onClick={\n        filter.props.disabled ? undefined : displayed ? handleHide : handleShow\n      }\n      ref={ref}\n      role=\"menuitemcheckbox\"\n      aria-checked={displayed}\n    >\n      <div className=\"flex items-center justify-center w-4 h-4 mr-2\">\n        {displayed && <Check className=\"h-3 w-3\" />}\n      </div>\n      <div>\n        <FieldTitle\n          label={filter.props.label}\n          source={filter.props.source}\n          resource={resource}\n        />\n      </div>\n    </div>\n  );\n});\n\nexport interface FilterButtonMenuItemProps {\n  filter: React.ReactElement<FilterElementProps>;\n  displayed: boolean;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  onShow: (params: { source: string; defaultValue: any }) => void;\n  onHide: (params: { source: string }) => void;\n  resource?: string;\n  autoFocus?: boolean;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/form.tsx",
      "content": "import * as React from \"react\";\nimport {\n  createContext,\n  type MouseEventHandler,\n  useCallback,\n  useContext,\n  useMemo,\n} from \"react\";\nimport {\n  type CreateParams,\n  type RaRecord,\n  setSubmissionErrors,\n  type TransformData,\n  type UpdateParams,\n  useRecordFromLocation,\n  useSaveContext,\n  useTranslate,\n  ValidationError,\n  warning,\n} from \"ra-core\";\nimport { Loader2, Save } from \"lucide-react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { FormProvider, useFormContext, useFormState } from \"react-hook-form\";\nimport type { UseMutationOptions } from \"@tanstack/react-query\";\nimport { cn } from \"@/lib/utils\";\nimport { Label } from \"@/components/ui/label\";\nimport { Button } from \"@/components/ui/button.tsx\";\n\nconst Form = FormProvider;\n\ntype FormItemContextValue = {\n  id: string;\n  name: string;\n};\n\nconst FormItemContext = createContext<FormItemContextValue>(\n  {} as FormItemContextValue,\n);\n\nconst useFormField = () => {\n  const { getFieldState, formState } = useFormContext();\n  const { id, name } = useContext(FormItemContext);\n\n  const fieldState = getFieldState(name, formState);\n\n  return useMemo(\n    () => ({\n      formItemId: id,\n      formDescriptionId: `${id}-description`,\n      formMessageId: `${id}-message`,\n      ...fieldState,\n    }),\n    [id, fieldState],\n  );\n};\n\nfunction FormField({ className, id, name, ...props }: FormItemProps) {\n  const contextValue: FormItemContextValue = useMemo(\n    () => ({\n      id,\n      name,\n    }),\n    [id, name],\n  );\n\n  return (\n    <FormItemContext.Provider value={contextValue}>\n      <div\n        data-slot=\"form-item\"\n        className={cn(\"grid gap-2\", className)}\n        role=\"group\"\n        {...props}\n      />\n    </FormItemContext.Provider>\n  );\n}\n\ntype FormItemProps = Omit<React.ComponentProps<\"div\">, \"id\"> & {\n  id: string;\n  name: string;\n};\n\nfunction FormLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  const { error, formItemId } = useFormField();\n\n  return (\n    <Label\n      data-slot=\"form-label\"\n      data-error={!!error}\n      className={cn(\"data-[error=true]:text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  );\n}\n\nfunction FormControl({ ...props }: React.ComponentProps<typeof Slot>) {\n  const { error, formItemId, formDescriptionId, formMessageId } =\n    useFormField();\n\n  return (\n    <Slot\n      data-slot=\"form-control\"\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  );\n}\n\nfunction FormDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  const { formDescriptionId } = useFormField();\n\n  return (\n    <div\n      data-slot=\"form-description\"\n      id={formDescriptionId}\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nconst FormError = ({ className, ...props }: React.ComponentProps<\"p\">) => {\n  const { invalid, error, formMessageId } = useFormField();\n\n  const err = error?.root?.message ?? error?.message;\n  if (!invalid || !err) {\n    return null;\n  }\n\n  return (\n    <p\n      data-slot=\"form-message\"\n      id={formMessageId}\n      className={cn(\"text-destructive text-sm\", className)}\n      {...props}\n    >\n      <ValidationError error={err} />\n    </p>\n  );\n};\n\nconst SaveButton = <RecordType extends RaRecord = RaRecord>(\n  props: SaveButtonProps<RecordType>,\n) => {\n  const {\n    className,\n    icon = defaultIcon,\n    label = \"ra.action.save\",\n    onClick,\n    mutationOptions,\n    disabled: disabledProp,\n    type = \"submit\",\n    transform,\n    variant = \"default\",\n    alwaysEnable = false,\n    ...rest\n  } = props;\n  const translate = useTranslate();\n  const form = useFormContext();\n  const saveContext = useSaveContext();\n  const { dirtyFields, isValidating, isSubmitting } = useFormState();\n  // useFormState().isDirty might differ from useFormState().dirtyFields (https://github.com/react-hook-form/react-hook-form/issues/4740)\n  const isDirty = Object.keys(dirtyFields).length > 0;\n  // Use form isDirty, isValidating and form context saving to enable or disable the save button\n  // if alwaysEnable is undefined and the form wasn't prefilled\n  const recordFromLocation = useRecordFromLocation();\n  const disabled = valueOrDefault(\n    alwaysEnable === false || alwaysEnable === undefined\n      ? undefined\n      : !alwaysEnable,\n    disabledProp ||\n      (!isDirty && recordFromLocation == null) ||\n      isValidating ||\n      isSubmitting,\n  );\n\n  warning(\n    type === \"submit\" &&\n      ((mutationOptions &&\n        (mutationOptions.onSuccess || mutationOptions.onError)) ||\n        transform),\n    'Cannot use <SaveButton mutationOptions> props on a button of type \"submit\". To override the default mutation options on a particular save button, set the <SaveButton type=\"button\"> prop, or set mutationOptions in the main view component (<Create> or <Edit>).',\n  );\n\n  const handleSubmit = useCallback(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async (values: any) => {\n      let errors;\n      if (saveContext?.save) {\n        errors = await saveContext.save(values, {\n          ...mutationOptions,\n          transform,\n        });\n      }\n      if (errors != null) {\n        setSubmissionErrors(errors, form.setError);\n      }\n    },\n    [form.setError, saveContext, mutationOptions, transform],\n  );\n\n  const handleClick: MouseEventHandler<HTMLButtonElement> = useCallback(\n    async (event) => {\n      if (onClick) {\n        onClick(event);\n      }\n      if (event.defaultPrevented) {\n        return;\n      }\n      if (type === \"button\") {\n        // this button doesn't submit the form, so it doesn't trigger useIsFormInvalid in <FormContent>\n        // therefore we need to check for errors manually\n        event.stopPropagation();\n        await form.handleSubmit(handleSubmit)(event);\n      }\n    },\n    [onClick, type, form, handleSubmit],\n  );\n\n  const displayedLabel = label && translate(label, { _: label });\n\n  return (\n    <Button\n      variant={variant}\n      type={type}\n      disabled={disabled}\n      onClick={handleClick}\n      className={cn(\n        disabled ? \"opacity-50 cursor-not-allowed\" : \"cursor-pointer\",\n        className,\n      )}\n      {...rest}\n    >\n      {isSubmitting ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : icon}\n      {displayedLabel}\n    </Button>\n  );\n};\n\nconst defaultIcon = <Save className=\"h-4 w-4\" />;\n\ninterface Props<\n  RecordType extends RaRecord = RaRecord,\n  MutationOptionsError = unknown,\n> {\n  className?: string;\n  disabled?: boolean;\n  icon?: React.ReactNode;\n  label?: string;\n  mutationOptions?: UseMutationOptions<\n    RecordType,\n    MutationOptionsError,\n    CreateParams<RecordType> | UpdateParams<RecordType>\n  >;\n  transform?: TransformData;\n  variant?:\n    | \"default\"\n    | \"destructive\"\n    | \"outline\"\n    | \"secondary\"\n    | \"ghost\"\n    | \"link\";\n}\n\nexport type SaveButtonProps<RecordType extends RaRecord = RaRecord> =\n  Props<RecordType> &\n    React.ComponentProps<\"button\"> & {\n      alwaysEnable?: boolean;\n    };\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst valueOrDefault = (value: any, defaultValue: any) =>\n  typeof value === \"undefined\" ? defaultValue : value;\n\nexport {\n  // eslint-disable-next-line react-refresh/only-export-components\n  useFormField,\n  Form,\n  FormField,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormError,\n  SaveButton,\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/index.ts",
      "content": "export * from \"./admin\";\nexport * from \"./app-sidebar\";\nexport * from \"./array-field\";\nexport * from \"./array-input\";\nexport * from \"./authentication\";\nexport * from \"./autocomplete-input\";\nexport * from \"./autocomplete-array-input\";\nexport * from \"./badge-field\";\nexport * from \"./boolean-input\";\nexport * from \"./breadcrumb\";\nexport * from \"./bulk-actions-toolbar\";\nexport * from \"./bulk-delete-button\";\nexport * from \"./bulk-export-button\";\nexport * from \"./cancel-button\";\nexport * from \"./columns-button\";\nexport * from \"./count\";\nexport * from \"./create-button\";\nexport * from \"./create\";\nexport * from \"./data-table\";\nexport * from \"./date-field\";\nexport * from \"./delete-button\";\nexport * from \"./edit-button\";\nexport * from \"./edit-guesser\";\nexport * from \"./edit\";\nexport * from \"./email-field\";\nexport * from \"./error\";\nexport * from \"./export-button\";\nexport * from \"./field-toggle\";\nexport * from \"./file-field\";\nexport * from \"./file-input\";\nexport * from \"./filter-form\";\nexport * from \"./form\";\nexport * from \"./layout\";\nexport * from \"./list-guesser\";\nexport * from \"./list-pagination\";\nexport * from \"./list\";\nexport * from \"./loading\";\nexport * from \"./locales-menu-button\";\nexport * from \"./login-page\";\nexport * from \"./notification\";\nexport * from \"./number-field\";\nexport * from \"./number-input\";\nexport * from \"./radio-button-group-input\";\nexport * from \"./ready\";\nexport * from \"./record-field\";\nexport * from \"./reference-array-input\";\nexport * from \"./reference-array-field\";\nexport * from \"./reference-field\";\nexport * from \"./reference-input\";\nexport * from \"./reference-many-count\";\nexport * from \"./reference-many-field\";\nexport * from \"./refresh-button\";\nexport * from \"./saved-queries\";\nexport * from \"./search-input\";\nexport * from \"./select-field\";\nexport * from \"./select-input\";\nexport * from \"./show-button\";\nexport * from \"./show-guesser\";\nexport * from \"./show\";\nexport * from \"./simple-form\";\nexport * from \"./simple-form-iterator\";\nexport * from \"./simple-show-layout\";\nexport * from \"./single-field-list\";\nexport * from \"./sort-button\";\nexport * from \"./text-field\";\nexport * from \"./text-input\";\nexport * from \"./toggle-filter-button\";\nexport * from \"./theme-mode-toggle\";\nexport * from \"./theme-provider\";\nexport * from \"./url-field\";\nexport * from \"./user-menu\";\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/input-helper-text.tsx",
      "content": "import { useTranslate } from \"ra-core\";\nimport { isValidElement, ReactNode } from \"react\";\nimport { FormDescription } from \"@/components/admin/form\";\n\nexport function InputHelperText({ helperText }: { helperText?: ReactNode }) {\n  const translate = useTranslate();\n\n  if (!helperText) {\n    return null;\n  }\n\n  if (isValidElement(helperText)) {\n    return helperText;\n  }\n\n  return (\n    <FormDescription>\n      {typeof helperText === \"string\"\n        ? translate(helperText, { _: helperText })\n        : helperText}\n    </FormDescription>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/layout.tsx",
      "content": "import { cn } from \"@/lib/utils\";\nimport { CoreLayoutProps } from \"ra-core\";\nimport { SidebarProvider, SidebarTrigger } from \"@/components/ui/sidebar\";\nimport { UserMenu } from \"@/components/admin/user-menu\";\nimport { ThemeModeToggle } from \"@/components/admin/theme-mode-toggle\";\nimport { Notification } from \"@/components/admin/notification\";\nimport { AppSidebar } from \"@/components/admin/app-sidebar\";\nimport { RefreshButton } from \"@/components/admin/refresh-button\";\nimport { LocalesMenuButton } from \"@/components/admin/locales-menu-button\";\n\nexport const Layout = (props: CoreLayoutProps) => {\n  return (\n    <SidebarProvider>\n      <AppSidebar />\n      <main\n        className={cn(\n          \"ml-auto w-full max-w-full\",\n          \"peer-data-[state=collapsed]:w-[calc(100%-var(--sidebar-width-icon)-1rem)]\",\n          \"peer-data-[state=expanded]:w-[calc(100%-var(--sidebar-width))]\",\n          \"sm:transition-[width] sm:duration-200 sm:ease-linear\",\n          \"flex h-svh flex-col\",\n          \"group-data-[scroll-locked=1]/body:h-full\",\n          \"has-[main.fixed-main]:group-data-[scroll-locked=1]/body:h-svh\"\n        )}\n      >\n        <header className=\"flex h-16 md:h-12 shrink-0 items-center gap-2 px-4\">\n          <SidebarTrigger className=\"scale-125 sm:scale-100\" />\n          <div className=\"flex-1 flex items-center\" id=\"breadcrumb\" />\n          <LocalesMenuButton />\n          <ThemeModeToggle />\n          <RefreshButton />\n          <UserMenu />\n        </header>\n        <div className=\"flex flex-1 flex-col px-4 \">{props.children}</div>\n      </main>\n      <Notification />\n    </SidebarProvider>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/list.tsx",
      "content": "import {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbPage,\n} from \"@/components/admin/breadcrumb\";\nimport {\n  ListBase,\n  ListBaseProps,\n  type ListControllerResult,\n  RaRecord,\n  Translate,\n  useGetResourceLabel,\n  useHasDashboard,\n  useResourceContext,\n  useResourceDefinition,\n  useTranslate,\n} from \"ra-core\";\nimport { ReactElement, ReactNode } from \"react\";\nimport { Link } from \"react-router\";\nimport { cn } from \"@/lib/utils.ts\";\nimport { FilterContext, FilterElementProps } from \"@/hooks/filter-context.tsx\";\nimport { CreateButton } from \"@/components/admin/create-button\";\nimport { ExportButton } from \"@/components/admin/export-button\";\nimport { ListPagination } from \"@/components/admin/list-pagination\";\nimport { FilterForm } from \"@/components/admin/filter-form.tsx\";\n\nexport const List = <RecordType extends RaRecord = RaRecord>(\n  props: ListProps<RecordType>,\n) => {\n  const {\n    debounce,\n    disableAuthentication,\n    disableSyncWithLocation,\n    exporter,\n    filter,\n    filterDefaultValues,\n    loading,\n    perPage,\n    queryOptions,\n    resource,\n    sort,\n    storeKey,\n    ...rest\n  } = props;\n\n  return (\n    <ListBase<RecordType>\n      debounce={debounce}\n      disableAuthentication={disableAuthentication}\n      disableSyncWithLocation={disableSyncWithLocation}\n      exporter={exporter}\n      filter={filter}\n      filterDefaultValues={filterDefaultValues}\n      loading={loading}\n      perPage={perPage}\n      queryOptions={queryOptions}\n      resource={resource}\n      sort={sort}\n      storeKey={storeKey}\n    >\n      <ListView<RecordType> {...rest} />\n    </ListBase>\n  );\n};\n\nexport interface ListProps<RecordType extends RaRecord = RaRecord>\n  extends ListBaseProps<RecordType>,\n    ListViewProps<RecordType> {}\n\nexport const ListView = <RecordType extends RaRecord = RaRecord>(\n  props: ListViewProps<RecordType>,\n) => {\n  const {\n    filters,\n    pagination = defaultPagination,\n    title,\n    children,\n    actions,\n  } = props;\n  const translate = useTranslate();\n  const resource = useResourceContext();\n  if (!resource) {\n    throw new Error(\n      \"The ListView component must be used within a ResourceContextProvider\",\n    );\n  }\n  const getResourceLabel = useGetResourceLabel();\n  const resourceLabel = getResourceLabel(resource, 2);\n  const finalTitle =\n    title !== undefined\n      ? title\n      : translate(\"ra.page.list\", {\n          name: resourceLabel,\n        });\n  const { hasCreate } = useResourceDefinition({ resource });\n  const hasDashboard = useHasDashboard();\n\n  return (\n    <>\n      <Breadcrumb>\n        {hasDashboard && (\n          <BreadcrumbItem>\n            <Link to=\"/\">\n              <Translate i18nKey=\"ra.page.dashboard\">Home</Translate>\n            </Link>\n          </BreadcrumbItem>\n        )}\n        <BreadcrumbPage>{resourceLabel}</BreadcrumbPage>\n      </Breadcrumb>\n\n      <FilterContext.Provider value={filters}>\n        <div className=\"flex justify-between items-start flex-wrap gap-2 my-2\">\n          <h2 className=\"text-2xl font-bold tracking-tight mb-2\">\n            {finalTitle}\n          </h2>\n          {actions ?? (\n            <div className=\"flex items-center gap-2\">\n              {hasCreate ? <CreateButton /> : null}\n              {<ExportButton />}\n            </div>\n          )}\n        </div>\n        <FilterForm />\n\n        <div className={cn(\"my-2\", props.className)}>{children}</div>\n        {pagination}\n      </FilterContext.Provider>\n    </>\n  );\n};\n\nconst defaultPagination = <ListPagination />;\n\nexport interface ListViewProps<RecordType extends RaRecord = RaRecord> {\n  children?: ReactNode;\n  render?: (props: ListControllerResult<RecordType, Error>) => ReactNode;\n  actions?: ReactElement | false;\n  filters?: ReactElement<FilterElementProps>[];\n  pagination?: ReactNode;\n  title?: ReactNode | string | false;\n  className?: string;\n}\n\nexport type FiltersType =\n  | ReactElement<FilterElementProps>\n  | ReactElement<FilterElementProps>[];\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/list-guesser.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport * as React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport {\n  ListBase,\n  getElementsFromRecords,\n  InferredElement,\n  useListContext,\n  usePrevious,\n  useResourceContext,\n  RaRecord,\n} from \"ra-core\";\nimport { useLocation } from \"react-router\";\nimport { ListProps, ListView, ListViewProps } from \"@/components/admin/list\";\nimport { capitalize, singularize } from \"inflection\";\nimport { DataTable } from \"@/components/admin/data-table\";\nimport { ArrayField } from \"@/components/admin/array-field\";\nimport { BadgeField } from \"@/components/admin/badge-field\";\nimport { ReferenceField } from \"@/components/admin/reference-field\";\nimport { SingleFieldList } from \"@/components/admin/single-field-list\";\nimport { ReferenceArrayField } from \"@/components/admin/reference-array-field\";\n\nexport const ListGuesser = <RecordType extends RaRecord = RaRecord>(\n  props: Omit<ListProps, \"children\"> & { enableLog?: boolean },\n) => {\n  const {\n    debounce,\n    disableAuthentication,\n    disableSyncWithLocation,\n    exporter,\n    filter,\n    filterDefaultValues,\n    perPage,\n    resource,\n    sort,\n    ...rest\n  } = props;\n  // force a rerender of this component when any list parameter changes\n  // otherwise the ListBase won't be rerendered when the sort changes\n  // and the following check won't be performed\n  useLocation();\n  // keep previous data, unless the resource changes\n  const resourceFromContext = useResourceContext(props);\n  const previousResource = usePrevious(resourceFromContext);\n  const keepPreviousData = previousResource === resourceFromContext;\n  return (\n    <ListBase<RecordType>\n      debounce={debounce}\n      disableAuthentication={disableAuthentication}\n      disableSyncWithLocation={disableSyncWithLocation}\n      exporter={exporter}\n      filter={filter}\n      filterDefaultValues={filterDefaultValues}\n      perPage={perPage}\n      resource={resource}\n      queryOptions={{\n        placeholderData: (previousData) =>\n          keepPreviousData ? previousData : undefined,\n      }}\n      sort={sort}\n    >\n      <ListViewGuesser {...rest} />\n    </ListBase>\n  );\n};\n\nconst ListViewGuesser = (\n  props: Omit<ListViewProps, \"children\"> & { enableLog?: boolean },\n) => {\n  const { data } = useListContext();\n  const resource = useResourceContext();\n  const [child, setChild] = useState<React.ReactElement | null>(null);\n  const { enableLog = process.env.NODE_ENV === \"development\", ...rest } = props;\n\n  useEffect(() => {\n    setChild(null);\n  }, [resource]);\n\n  useEffect(() => {\n    if (data && data.length > 0 && !child) {\n      const inferredElements = getElementsFromRecords(data, listFieldTypes);\n      const inferredChild = new InferredElement(\n        listFieldTypes.table,\n        null,\n        inferredElements,\n      );\n      const inferredChildElement = inferredChild.getElement();\n      const representation = inferredChild.getRepresentation();\n      if (!resource) {\n        throw new Error(\n          \"Cannot use <ListGuesser> outside of a ResourceContext\",\n        );\n      }\n      if (!inferredChildElement || !representation) {\n        return;\n      }\n\n      setChild(inferredChildElement);\n\n      const components = [\"List\"]\n        .concat(\n          Array.from(\n            new Set(\n              Array.from(representation.matchAll(/<([^/\\s\\\\.>]+)/g))\n                .map((match) => match[1])\n                .filter((component) => component !== \"span\"),\n            ),\n          ),\n        )\n        .sort();\n\n      if (enableLog) {\n        // eslint-disable-next-line no-console\n        console.log(\n          `Guessed List:\n\n${components\n  .map(\n    (component) =>\n      `import { ${component} } from \"@/components/admin/${kebabCase(\n        component,\n      )}\";`,\n  )\n  .join(\"\\n\")}\n\nexport const ${capitalize(singularize(resource))}List = () => (\n    <List>\n${inferredChild.getRepresentation()}\n    </List>\n);`,\n        );\n      }\n    }\n  }, [data, child, resource, enableLog]);\n\n  return <ListView {...rest}>{child}</ListView>;\n};\n\nconst listFieldTypes = {\n  table: {\n    component: (props: any) => {\n      return <DataTable {...props} />;\n    },\n    representation: (\n      _props: any,\n      children: { getRepresentation: () => string }[],\n    ) =>\n      `        <DataTable>\n${children\n  .map((child) => `            ${child.getRepresentation()}`)\n  .join(\"\\n\")}\n        </DataTable>`,\n  },\n\n  reference: {\n    component: (props: any) => (\n      <DataTable.Col source={props.source}>\n        <ReferenceField source={props.source} reference={props.reference} />\n      </DataTable.Col>\n    ),\n    representation: (props: any) =>\n      `<DataTable.Col source=\"${props.source}\">\n                <ReferenceField source=\"${props.source}\" reference=\"${props.reference}\" />\n            </DataTable.Col>`,\n  },\n  array: {\n    component: ({ children, ...props }: any) => {\n      const childrenArray = React.Children.toArray(children);\n      return (\n        <DataTable.Col source={props.source}>\n          <ArrayField source={props.source}>\n            <SingleFieldList>\n              <BadgeField\n                source={\n                  childrenArray.length > 0 &&\n                  React.isValidElement(childrenArray[0]) &&\n                  (childrenArray[0].props as any).source\n                }\n              />\n            </SingleFieldList>\n          </ArrayField>\n        </DataTable.Col>\n      );\n    },\n    representation: (props: any, children: any) =>\n      `<DataTable.Col source=\"${props.source}\">\n               <ArrayField source=\"${props.source}\">\n                    <SingleFieldList>\n                        <BadgeField source=\"${\n                          children.length > 0 && children[0].getProps().source\n                        }\" />\n                   </SingleFieldList>\n                </ArrayField>\n            </DataTable.Col>`,\n  },\n  referenceArray: {\n    component: (props: any) => (\n      <DataTable.Col {...props}>\n        <ReferenceArrayField {...props} />\n      </DataTable.Col>\n    ),\n    representation: (props: any) =>\n      `<DataTable.Col source=\"${props.source}\">\n                <ReferenceArrayField source=\"${props.source}\" reference=\"${props.reference}\" />\n            </DataTable.Col>`,\n  },\n  string: {\n    component: DataTable.Col,\n    representation: (props: any) =>\n      `<DataTable.Col source=\"${props.source}\" />`,\n  },\n};\n\nconst kebabCase = (name: string) => {\n  return name\n    .replace(/([a-z])([A-Z])/g, \"$1-$2\")\n    .replace(/([A-Z])([A-Z][a-z])/g, \"$1-$2\")\n    .toLowerCase();\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/list-pagination.tsx",
      "content": "import { cn } from \"@/lib/utils\";\nimport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n} from \"@/components/ui/pagination\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { ChevronLeftIcon, ChevronRightIcon } from \"lucide-react\";\nimport { useListPaginationContext, Translate, useTranslate } from \"ra-core\";\n\nexport const ListPagination = ({\n  rowsPerPageOptions = [5, 10, 25, 50],\n  className,\n}: {\n  rowsPerPageOptions?: number[];\n  className?: string;\n}) => {\n  const translate = useTranslate();\n  const {\n    hasPreviousPage,\n    hasNextPage,\n    page,\n    perPage,\n    setPerPage,\n    total,\n    setPage,\n  } = useListPaginationContext();\n\n  const pageStart = (page - 1) * perPage + 1;\n  const pageEnd = hasNextPage ? page * perPage : total;\n\n  const boundaryCount = 1;\n  const siblingCount = 1;\n  const count = total ? Math.ceil(total / perPage) : 1;\n\n  const range = (start: number, end: number) => {\n    const length = end - start + 1;\n    return Array.from({ length }, (_, i) => start + i);\n  };\n\n  const startPages = range(1, Math.min(boundaryCount, count));\n  const endPages = range(\n    Math.max(count - boundaryCount + 1, boundaryCount + 1),\n    count\n  );\n\n  const siblingsStart = Math.max(\n    Math.min(\n      // Natural start\n      page - siblingCount,\n      // Lower boundary when page is high\n      count - boundaryCount - siblingCount * 2 - 1\n    ),\n    // Greater than startPages\n    boundaryCount + 2\n  );\n\n  const siblingsEnd = Math.min(\n    Math.max(\n      // Natural end\n      page + siblingCount,\n      // Upper boundary when page is low\n      boundaryCount + siblingCount * 2 + 2\n    ),\n    // Less than endPages\n    count - boundaryCount - 1\n  );\n\n  const siblingPages = range(siblingsStart, siblingsEnd);\n\n  const pageChangeHandler = (newPage: number) => {\n    return (event: React.MouseEvent<HTMLAnchorElement>) => {\n      event.preventDefault();\n      setPage(newPage);\n    };\n  };\n\n  return (\n    <div\n      className={`flex items-center justify-end space-x-2 gap-4 ${className}`}\n    >\n      <div className=\"hidden md:flex items-center space-x-2\">\n        <p className=\"text-sm font-medium\">\n          <Translate i18nKey=\"ra.navigation.page_rows_per_page\">\n            Rows per page\n          </Translate>\n        </p>\n        <Select\n          value={perPage.toString()}\n          onValueChange={(value) => {\n            setPerPage(Number(value));\n          }}\n        >\n          <SelectTrigger className=\"h-8 w-[70px]\">\n            <SelectValue placeholder={perPage} />\n          </SelectTrigger>\n          <SelectContent side=\"top\">\n            {rowsPerPageOptions.map((pageSize) => (\n              <SelectItem key={pageSize} value={`${pageSize}`}>\n                {pageSize}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      </div>\n      <div className=\"text-sm text-muted-foreground\">\n        <Translate\n          i18nKey=\"ra.navigation.page_range_info\"\n          options={{\n            offsetBegin: pageStart,\n            offsetEnd: pageEnd,\n            total: total === -1 ? pageEnd : total,\n          }}\n        >\n          {total != null\n            ? `${pageStart}-${pageEnd} of ${total === -1 ? pageEnd : total}`\n            : null}\n        </Translate>\n      </div>\n      <Pagination className=\"-w-full -mx-auto\">\n        <PaginationContent>\n          <PaginationItem>\n            <PaginationLink\n              href=\"#\"\n              onClick={pageChangeHandler(page - 1)}\n              className={cn(\n                \"gap-1 px-2.5 sm:pr-2.5\",\n                !hasPreviousPage ? \"opacity-50 cursor-not-allowed\" : \"\"\n              )}\n              aria-label={translate(\"ra.navigation.previous\", {\n                _: \"Previous\",\n              })}\n            >\n              <ChevronLeftIcon />\n            </PaginationLink>\n          </PaginationItem>\n          {startPages.map((pageNumber) => (\n            <PaginationItem key={pageNumber}>\n              <PaginationLink\n                href=\"#\"\n                onClick={pageChangeHandler(pageNumber)}\n                isActive={pageNumber === page}\n              >\n                {pageNumber}\n              </PaginationLink>\n            </PaginationItem>\n          ))}\n          {siblingsStart > boundaryCount + 2 ? (\n            <PaginationItem>\n              <PaginationEllipsis />\n            </PaginationItem>\n          ) : boundaryCount + 1 < count - boundaryCount ? (\n            <PaginationItem>\n              <PaginationLink\n                href=\"#\"\n                onClick={pageChangeHandler(boundaryCount + 1)}\n                isActive={boundaryCount + 1 === page}\n              >\n                {boundaryCount + 1}\n              </PaginationLink>\n            </PaginationItem>\n          ) : null}\n          {siblingPages.map((pageNumber) => (\n            <PaginationItem key={pageNumber}>\n              <PaginationLink\n                href=\"#\"\n                onClick={pageChangeHandler(pageNumber)}\n                isActive={pageNumber === page}\n              >\n                {pageNumber}\n              </PaginationLink>\n            </PaginationItem>\n          ))}\n          {siblingsEnd < count - boundaryCount - 1 ? (\n            <PaginationItem>\n              <PaginationEllipsis />\n            </PaginationItem>\n          ) : count - boundaryCount > boundaryCount ? (\n            <PaginationItem>\n              <PaginationLink\n                href=\"#\"\n                onClick={pageChangeHandler(count - boundaryCount)}\n                isActive={count - boundaryCount === page}\n              >\n                {count - boundaryCount}\n              </PaginationLink>\n            </PaginationItem>\n          ) : null}\n          {endPages.map((pageNumber) => (\n            <PaginationItem key={pageNumber}>\n              <PaginationLink\n                href=\"#\"\n                onClick={pageChangeHandler(pageNumber)}\n                isActive={pageNumber === page}\n              >\n                {pageNumber}\n              </PaginationLink>\n            </PaginationItem>\n          ))}\n          <PaginationItem>\n            <PaginationLink\n              href=\"#\"\n              onClick={pageChangeHandler(page + 1)}\n              size=\"default\"\n              className={cn(\n                \"gap-1 px-2.5 sm:pr-2.5\",\n                !hasNextPage ? \"opacity-50 cursor-not-allowed\" : \"\"\n              )}\n              aria-label={translate(\"ra.navigation.next\", { _: \"Next\" })}\n            >\n              <ChevronRightIcon />\n            </PaginationLink>\n          </PaginationItem>\n        </PaginationContent>\n      </Pagination>\n    </div>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/locales-menu-button.tsx",
      "content": "import { Check } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { cn } from \"@/lib/utils\";\nimport { useLocales, useLocaleState } from \"ra-core\";\n\nexport function LocalesMenuButton() {\n  const languages = useLocales();\n  const [locale, setLocale] = useLocaleState();\n\n  const getNameForLocale = (locale: string): string => {\n    const language = languages.find((language) => language.locale === locale);\n    return language ? language.name : \"\";\n  };\n\n  const changeLocale = (locale: string) => (): void => {\n    setLocale(locale);\n  };\n\n  if (languages.length <= 1) {\n    return null; // No need to render the dropdown if there's only one language\n  }\n  return (\n    <DropdownMenu modal={false}>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"ghost\" size=\"icon\" className=\"hidden sm:inline-flex\">\n          {locale.toUpperCase()}\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        {languages.map((language) => (\n          <DropdownMenuItem\n            key={language.locale}\n            onClick={changeLocale(language.locale)}\n          >\n            {getNameForLocale(language.locale)}\n            <Check\n              className={cn(\"ml-auto\", locale !== language.locale && \"hidden\")}\n            />\n          </DropdownMenuItem>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/login-page.tsx",
      "content": "import { useState } from \"react\";\nimport { Form, required, useLogin, useNotify } from \"ra-core\";\nimport type { SubmitHandler, FieldValues } from \"react-hook-form\";\nimport { Button } from \"@/components/ui/button\";\nimport { TextInput } from \"@/components/admin/text-input\";\nimport { Notification } from \"@/components/admin/notification\";\n\nexport const LoginPage = (props: { redirectTo?: string }) => {\n  const { redirectTo } = props;\n  const [loading, setLoading] = useState(false);\n  const login = useLogin();\n  const notify = useNotify();\n\n  const handleSubmit: SubmitHandler<FieldValues> = (values) => {\n    setLoading(true);\n    login(values, redirectTo)\n      .then(() => {\n        setLoading(false);\n      })\n      .catch((error) => {\n        setLoading(false);\n        notify(\n          typeof error === \"string\"\n            ? error\n            : typeof error === \"undefined\" || !error.message\n            ? \"ra.auth.sign_in_error\"\n            : error.message,\n          {\n            type: \"error\",\n            messageArgs: {\n              _:\n                typeof error === \"string\"\n                  ? error\n                  : error && error.message\n                  ? error.message\n                  : undefined,\n            },\n          }\n        );\n      });\n  };\n\n  return (\n    <div className=\"min-h-screen flex\">\n      <div className=\"container relative grid flex-col items-center justify-center sm:max-w-none lg:grid-cols-2 lg:px-0\">\n        <div className=\"relative hidden h-full flex-col bg-muted p-10 text-white dark:border-r lg:flex\">\n          <div className=\"absolute inset-0 bg-zinc-900\" />\n          <div className=\"relative z-20 flex items-center text-lg font-medium\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              className=\"mr-2 h-6 w-6\"\n            >\n              <path d=\"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3\" />\n            </svg>\n            Acme Inc\n          </div>\n          <div className=\"relative z-20 mt-auto\">\n            <blockquote className=\"space-y-2\">\n              <p className=\"text-lg\">\n                &ldquo;Shadcn Admin Kit has allowed us to quickly create and\n                evolve a powerful tool that otherwise would have taken months of\n                time and effort to develop.&rdquo;\n              </p>\n              <footer className=\"text-sm\">John Doe</footer>\n            </blockquote>\n          </div>\n        </div>\n        <div className=\"lg:p-8\">\n          <div className=\"mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]\">\n            <div className=\"flex flex-col space-y-2 text-center\">\n              <h1 className=\"text-2xl font-semibold tracking-tight\">Sign in</h1>\n              <p className=\"text-sm leading-none text-muted-foreground\">\n                Try janedoe@acme.com / password\n              </p>\n            </div>\n            <Form className=\"space-y-8\" onSubmit={handleSubmit}>\n              <TextInput\n                label=\"Email\"\n                source=\"email\"\n                type=\"email\"\n                validate={required()}\n              />\n              <TextInput\n                label=\"Password\"\n                source=\"password\"\n                type=\"password\"\n                validate={required()}\n              />\n              <Button\n                type=\"submit\"\n                className=\"cursor-pointer\"\n                disabled={loading}\n              >\n                Sign in\n              </Button>\n            </Form>\n          </div>\n        </div>\n      </div>\n      <Notification />\n    </div>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/notification.tsx",
      "content": "import * as React from \"react\";\nimport { useCallback, useEffect } from \"react\";\nimport { Toaster, type ToasterProps, toast } from \"sonner\";\nimport { useTheme } from \"@/components/admin/theme-provider\";\nimport {\n  CloseNotificationContext,\n  useNotificationContext,\n  useTakeUndoableMutation,\n  useTranslate,\n} from \"ra-core\";\n\nexport const Notification = (props: ToasterProps) => {\n  const translate = useTranslate();\n  const { notifications, takeNotification } = useNotificationContext();\n  const takeMutation = useTakeUndoableMutation();\n  const { theme } = useTheme();\n\n  useEffect(() => {\n    if (notifications.length) {\n      const notification = takeNotification();\n      if (notification) {\n        const { message, type = \"info\", notificationOptions } = notification;\n        const { messageArgs, undoable } = notificationOptions || {};\n\n        const beforeunload = (e: BeforeUnloadEvent) => {\n          e.preventDefault();\n          const confirmationMessage = \"\";\n          e.returnValue = confirmationMessage;\n          return confirmationMessage;\n        };\n\n        if (undoable) {\n          window.addEventListener(\"beforeunload\", beforeunload);\n        }\n\n        const handleExited = () => {\n          if (undoable) {\n            const mutation = takeMutation();\n            if (mutation) {\n              mutation({ isUndo: false });\n            }\n            window.removeEventListener(\"beforeunload\", beforeunload);\n          }\n        };\n\n        const handleUndo = () => {\n          const mutation = takeMutation();\n          if (mutation) {\n            mutation({ isUndo: true });\n          }\n          window.removeEventListener(\"beforeunload\", beforeunload);\n        };\n\n        const finalMessage = message\n          ? typeof message === \"string\"\n            ? translate(message, messageArgs)\n            : React.isValidElement(message)\n            ? message\n            : undefined\n          : undefined;\n\n        toast[type](finalMessage, {\n          action: undoable\n            ? {\n                label: translate(\"ra.action.undo\"),\n                onClick: handleUndo,\n              }\n            : undefined,\n          onDismiss: handleExited,\n          onAutoClose: handleExited,\n        });\n      }\n    }\n  }, [notifications, takeMutation, takeNotification, translate]);\n\n  const handleRequestClose = useCallback(() => {\n    // Dismiss all toasts\n    toast.dismiss();\n  }, []);\n\n  return (\n    <CloseNotificationContext.Provider value={handleRequestClose}>\n      <Toaster\n        richColors\n        theme={theme}\n        closeButton\n        position=\"bottom-center\"\n        {...props}\n      />\n    </CloseNotificationContext.Provider>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/number-field.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { HTMLAttributes } from \"react\";\nimport { useFieldValue, useTranslate } from \"ra-core\";\nimport { FieldProps } from \"@/lib/field.type.ts\";\n\nexport const NumberField = <\n  RecordType extends Record<string, any> = Record<string, any>,\n>({\n  defaultValue,\n  source,\n  record,\n  empty,\n  transform = defaultTransform,\n  locales,\n  options,\n  ...rest\n}: NumberFieldProps<RecordType>) => {\n  let value = useFieldValue({ defaultValue, source, record });\n  const translate = useTranslate();\n\n  if (value == null) {\n    if (!empty) {\n      return null;\n    }\n\n    return (\n      <span {...rest}>\n        {typeof empty === \"string\" ? translate(empty, { _: empty }) : empty}\n      </span>\n    );\n  }\n\n  if (transform) {\n    value = transform(value);\n  }\n\n  return (\n    <span {...rest}>\n      {hasNumberFormat && typeof value === \"number\"\n        ? value.toLocaleString(locales, options)\n        : value}\n    </span>\n  );\n};\n\nexport interface NumberFieldProps<\n  RecordType extends Record<string, any> = Record<string, any>,\n> extends FieldProps<RecordType>,\n    HTMLAttributes<HTMLSpanElement> {\n  locales?: string | string[];\n  options?: object;\n  transform?: (value: any) => number;\n}\n\nconst defaultTransform = (value: any) =>\n  value && typeof value === \"string\" && !isNaN(value as any) ? +value : value;\n\nconst hasNumberFormat = !!(\n  typeof Intl === \"object\" &&\n  Intl &&\n  typeof Intl.NumberFormat === \"function\"\n);\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/number-input.tsx",
      "content": "import * as React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport {\n  FieldTitle,\n  type InputProps,\n  useInput,\n  useResourceContext,\n} from \"ra-core\";\nimport { FormControl, FormField, FormLabel } from \"@/components/admin/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { FormError } from \"@/components/admin/form\";\nimport { InputHelperText } from \"@/components/admin/input-helper-text\";\n\nexport const NumberInput = (props: NumberInputProps) => {\n  const {\n    label,\n    source,\n    className,\n    resource: resourceProp,\n    validate: _validateProp,\n    format: _formatProp,\n    parse = convertStringToNumber,\n    onFocus,\n    ...rest\n  } = props;\n  const resource = useResourceContext({ resource: resourceProp });\n\n  const { id, field, isRequired } = useInput(props);\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const value = event.target.value;\n    const numberValue = parse(value);\n\n    setValue(value);\n    field.onChange(numberValue ?? 0);\n  };\n\n  const [value, setValue] = useState<string | undefined>(\n    field.value?.toString() ?? \"\",\n  );\n\n  const hasFocus = React.useRef(false);\n\n  const handleFocus = (event: React.FocusEvent<HTMLInputElement>) => {\n    onFocus?.(event);\n    hasFocus.current = true;\n  };\n\n  const handleBlur = (event: React.FocusEvent<HTMLInputElement>) => {\n    field.onBlur?.(event);\n    hasFocus.current = false;\n    setValue(field.value?.toString() ?? \"\");\n  };\n\n  useEffect(() => {\n    if (!hasFocus.current) {\n      setValue(field.value?.toString() ?? \"\");\n    }\n  }, [field.value]);\n\n  return (\n    <FormField id={id} className={className} name={field.name}>\n      {label !== false && (\n        <FormLabel>\n          <FieldTitle\n            label={label}\n            source={source}\n            resource={resource}\n            isRequired={isRequired}\n          />\n        </FormLabel>\n      )}\n      <FormControl>\n        <Input\n          {...rest}\n          {...field}\n          type=\"number\"\n          value={value}\n          onChange={handleChange}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n        />\n      </FormControl>\n      <InputHelperText helperText={props.helperText} />\n      <FormError />\n    </FormField>\n  );\n};\n\nexport interface NumberInputProps\n  extends InputProps,\n    Omit<\n      React.ComponentProps<\"input\">,\n      \"defaultValue\" | \"onBlur\" | \"onChange\" | \"type\"\n    > {\n  parse?: (value: string) => number;\n}\n\nconst convertStringToNumber = (value?: string | null) => {\n  if (value == null || value === \"\") {\n    return null;\n  }\n  const float = parseFloat(value);\n\n  return isNaN(float) ? 0 : float;\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/radio-button-group-input.tsx",
      "content": "import * as React from \"react\";\nimport {\n  type ChoicesProps,\n  type InputProps,\n  FieldTitle,\n  useChoices,\n  useChoicesContext,\n  useInput,\n} from \"ra-core\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  FormField,\n  FormControl,\n  FormLabel,\n  FormError,\n} from \"@/components/admin/form\";\nimport { Label } from \"@/components/ui/label\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { InputHelperText } from \"@/components/admin/input-helper-text\";\n\nexport const RadioButtonGroupInput = (inProps: RadioButtonGroupInputProps) => {\n  const {\n    choices: choicesProp,\n    isFetching: isFetchingProp,\n    isLoading: isLoadingProp,\n    isPending: isPendingProp,\n    resource: resourceProp,\n    source: sourceProp,\n\n    format,\n    onBlur,\n    onChange,\n    parse,\n    validate,\n    disabled,\n    readOnly,\n\n    optionText,\n    optionValue = \"id\",\n    translateChoice,\n    disableValue = \"disabled\",\n\n    className,\n    helperText,\n    label,\n    row,\n    ...rest\n  } = inProps;\n\n  const {\n    allChoices,\n    isPending,\n    error: fetchError,\n    resource,\n    source,\n  } = useChoicesContext({\n    choices: choicesProp,\n    isFetching: isFetchingProp,\n    isLoading: isLoadingProp,\n    isPending: isPendingProp,\n    resource: resourceProp,\n    source: sourceProp,\n  });\n\n  if (source === undefined) {\n    throw new Error(\n      `If you're not wrapping the RadioButtonGroupInput inside a ReferenceArrayInput, you must provide the source prop`,\n    );\n  }\n\n  if (!isPending && !fetchError && allChoices === undefined) {\n    throw new Error(\n      `If you're not wrapping the RadioButtonGroupInput inside a ReferenceArrayInput, you must provide the choices prop`,\n    );\n  }\n\n  const { id, field, isRequired } = useInput({\n    format,\n    onBlur,\n    onChange,\n    parse,\n    resource,\n    source,\n    validate,\n    disabled,\n    readOnly,\n    ...rest,\n  });\n\n  const { getChoiceText, getChoiceValue, getDisableValue } = useChoices({\n    optionText,\n    optionValue,\n    translateChoice,\n    disableValue,\n  });\n\n  if (isPending) {\n    return <Skeleton className=\"w-full h-9\" />;\n  }\n\n  return (\n    <FormField id={id} className={className} name={field.name}>\n      {label && (\n        <FormLabel>\n          <FieldTitle\n            label={label}\n            source={source}\n            resource={resource}\n            isRequired={isRequired}\n          />\n        </FormLabel>\n      )}\n\n      <FormControl>\n        <RadioGroup\n          {...rest}\n          value={field.value || \"\"}\n          onValueChange={field.onChange}\n          className={cn(\"flex\", row ? \"flex-row gap-4\" : \"flex-col gap-2\")}\n          disabled={disabled || readOnly}\n        >\n          {allChoices?.map((choice) => {\n            const value = getChoiceValue(choice);\n            const isDisabled = disabled || readOnly || getDisableValue(choice);\n\n            return (\n              <div key={value} className=\"flex items-center space-x-2\">\n                <RadioGroupItem\n                  value={value}\n                  id={`${id}-${value}`}\n                  disabled={isDisabled}\n                />\n                <Label\n                  htmlFor={`${id}-${value}`}\n                  className={cn(\n                    \"text-sm font-normal cursor-pointer\",\n                    isDisabled && \"opacity-50 cursor-not-allowed\",\n                  )}\n                >\n                  {getChoiceText(choice)}\n                </Label>\n              </div>\n            );\n          })}\n        </RadioGroup>\n      </FormControl>\n      <InputHelperText helperText={helperText} />\n      <FormError />\n    </FormField>\n  );\n};\n\nexport interface RadioButtonGroupInputProps\n  extends Partial<InputProps>,\n    ChoicesProps,\n    Omit<\n      React.ComponentProps<typeof RadioGroup>,\n      \"defaultValue\" | \"onBlur\" | \"onChange\" | \"type\"\n    > {\n  row?: boolean;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/ready.tsx",
      "content": "import {\n  ScanFace,\n  BookOpenText,\n  ChevronsLeftRight,\n  Github,\n} from \"lucide-react\";\n\nexport const Ready = () => (\n  <div className=\"flex flex-col h-screen\">\n    <div\n      className=\"flex-1 flex flex-col color-white text-center justify-center items-center\"\n      style={{\n        background:\n          \"linear-gradient(135deg, #00023b 0%, #00023b 50%, #313264 100%)\",\n      }}\n    >\n      <ScanFace className=\"w-32 h-32 mb-4\" />\n      <h1 className=\"text-3xl mb-4\">Welcome to shadcn-admin-kit</h1>\n      <div className=\"text-lg opacity-75\">\n        Your application is properly configured.\n        <br />\n        Now you can add a &lt;Resource&gt; as child of\n        &lt;Admin&gt;&lt;/Admin&gt;\n      </div>\n    </div>\n    <div className=\"flex h-[20vh] bg-zinc-100 text-black items-center justify-evenly\">\n      <div className=\"text-xl\">\n        <a href=\"https://marmelab.com/shadcn-admin-kit/docs\">\n          <BookOpenText className=\"inline mr-4 w-10 h-10\" />\n          Documentation\n        </a>\n      </div>\n      <div className=\"text-xl\">\n        <a href=\"http://marmelab.com/shadcn-admin-kit/demo\">\n          <ChevronsLeftRight className=\"inline mr-4 w-10 h-10\" />\n          Demo\n        </a>\n      </div>\n      <div className=\"text-xl\">\n        <a href=\"https://github.com/marmelab/shadcn-admin-kit\">\n          <Github className=\"inline mr-4 w-10 h-10\" />\n          GitHub\n        </a>\n      </div>\n    </div>\n  </div>\n);\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/record-field.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {\n  createElement,\n  type ReactNode,\n  type ElementType,\n  HTMLAttributes,\n} from \"react\";\nimport {\n  FieldTitle,\n  useRecordContext,\n  useResourceContext,\n  useTranslate,\n  type ExtractRecordPaths,\n  type HintedString,\n} from \"ra-core\";\nimport { cn } from \"@/lib/utils\";\n\nimport { TextField } from \"@/components/admin/text-field\";\n\nexport const RecordField = <\n  RecordType extends Record<string, any> = Record<string, any>,\n>(\n  props: RecordFieldProps<RecordType>,\n) => {\n  const {\n    children,\n    className,\n    empty,\n    field,\n    label,\n    render,\n    resource: _,\n    source,\n    record: recordProp,\n    variant,\n    ...rest\n  } = props;\n  const resource = useResourceContext(props);\n  const record = useRecordContext<RecordType>({ recordProp });\n  const translate = useTranslate();\n\n  if (!source && !label && !render) return null;\n\n  return (\n    <div\n      className={cn(\n        className,\n        \"flex\",\n        variant === \"inline\" ? \"flex-row\" : \"flex-col\",\n      )}\n      {...rest}\n    >\n      {label !== \"\" && label !== false ? (\n        <div\n          className={cn(\n            variant === \"inline\" ? \"block min-w-50\" : \"text-xs\",\n            \"text-muted-foreground\",\n          )}\n        >\n          <FieldTitle\n            label={label}\n            source={source}\n            resource={resource}\n            isRequired={false}\n          />\n        </div>\n      ) : null}\n      {children ? (\n        <span className=\"flex-1\">{children}</span>\n      ) : render ? (\n        record && (\n          <span className=\"flex-1\">\n            {render(record) ||\n              (typeof empty === \"string\"\n                ? translate(empty, { _: empty })\n                : empty)}\n          </span>\n        )\n      ) : field ? (\n        createElement(field, {\n          source,\n          empty,\n          className: \"flex-1\",\n        })\n      ) : source ? (\n        <TextField source={source} empty={empty} className=\"flex-1\" />\n      ) : null}\n    </div>\n  );\n};\n\n// FIXME remove custom type when using TypeScript >= 5.4 as it is now native\ntype NoInfer<T> = T extends infer U ? U : never;\n\nexport interface RecordFieldProps<\n  RecordType extends Record<string, any> = Record<string, any>,\n> extends HTMLAttributes<HTMLDivElement> {\n  children?: ReactNode;\n  className?: string;\n  empty?: ReactNode;\n  field?: ElementType;\n  label?: ReactNode;\n  render?: (record: RecordType) => React.ReactNode;\n  resource?: string;\n  source?: NoInfer<HintedString<ExtractRecordPaths<RecordType>>>;\n  record?: RecordType;\n  variant?: \"default\" | \"inline\";\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/reference-field.tsx",
      "content": "import {\n  LinkToType,\n  RaRecord,\n  ReferenceFieldBase,\n  type UseReferenceFieldControllerResult,\n  useFieldValue,\n  useGetRecordRepresentation,\n  useReferenceFieldContext,\n  useTranslate,\n  ExtractRecordPaths,\n} from \"ra-core\";\nimport { MouseEvent, ReactNode } from \"react\";\nimport { Link } from \"react-router\";\nimport { UseQueryOptions } from \"@tanstack/react-query\";\n\nexport const ReferenceField = <\n  RecordType extends RaRecord = RaRecord,\n  ReferenceRecordType extends RaRecord = RaRecord\n>(\n  props: ReferenceFieldProps<RecordType, ReferenceRecordType>\n) => {\n  const { loading, error, empty, render, ...rest } = props;\n  const id = useFieldValue<RecordType>(props);\n  const translate = useTranslate();\n\n  return id == null ? (\n    typeof empty === \"string\" ? (\n      <>{empty && translate(empty, { _: empty })}</>\n    ) : (\n      empty\n    )\n  ) : (\n    <ReferenceFieldBase {...rest}>\n      <ReferenceFieldView<ReferenceRecordType>\n        render={render}\n        loading={loading}\n        error={error}\n        {...rest}\n      />\n    </ReferenceFieldBase>\n  );\n};\n\nexport interface ReferenceFieldProps<\n  RecordType extends RaRecord = RaRecord,\n  ReferenceRecordType extends RaRecord = RaRecord\n> extends Partial<ReferenceFieldViewProps<ReferenceRecordType>> {\n  children?: ReactNode;\n  queryOptions?: UseQueryOptions<RaRecord[], Error> & {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    meta?: any;\n  };\n  record?: RecordType;\n  reference: string;\n  translateChoice?: ((record: ReferenceRecordType) => string) | boolean;\n  link?: LinkToType;\n  source: ExtractRecordPaths<RecordType>;\n}\n\n// useful to prevent click bubbling in a datagrid with rowClick\nconst stopPropagation = (e: MouseEvent<HTMLAnchorElement>) =>\n  e.stopPropagation();\n\nexport const ReferenceFieldView = <\n  ReferenceRecordType extends RaRecord = RaRecord\n>(\n  props: ReferenceFieldViewProps<ReferenceRecordType>\n) => {\n  const {\n    children,\n    className,\n    empty,\n    error: errorElement,\n    render,\n    reference,\n    loading,\n  } = props;\n  const referenceFieldContext = useReferenceFieldContext();\n  const { error, link, isPending, referenceRecord } = referenceFieldContext;\n  const getRecordRepresentation = useGetRecordRepresentation(reference);\n  const translate = useTranslate();\n\n  if (error && errorElement !== false) {\n    return errorElement;\n  }\n  if (isPending && loading !== false) {\n    return loading;\n  }\n  if (!referenceRecord && empty !== false) {\n    return typeof empty === \"string\" ? (\n      <>{empty && translate(empty, { _: empty })}</>\n    ) : (\n      empty\n    );\n  }\n\n  const child = render\n    ? render(referenceFieldContext)\n    : children || <span>{getRecordRepresentation(referenceRecord)}</span>;\n\n  if (link) {\n    return (\n      <div className={className}>\n        <Link to={link} onClick={stopPropagation}>\n          {child}\n        </Link>\n      </div>\n    );\n  }\n\n  return <>{child}</>;\n};\n\nexport interface ReferenceFieldViewProps<\n  ReferenceRecordType extends RaRecord = RaRecord\n> {\n  children?: ReactNode;\n  className?: string;\n  empty?: ReactNode;\n  loading?: ReactNode;\n  render?: (props: UseReferenceFieldControllerResult) => ReactNode;\n  reference: string;\n  source: string;\n  resource?: string;\n  translateChoice?: ((record: ReferenceRecordType) => string) | boolean;\n  resourceLinkPath?: LinkToType;\n  error?: ReactNode;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/reference-input.tsx",
      "content": "import { ReferenceInputBase, ReferenceInputBaseProps } from \"ra-core\";\nimport { AutocompleteInput } from \"./autocomplete-input\";\n\nexport const ReferenceInput = (props: ReferenceInputProps) => {\n  const { children = defaultChildren, ...rest } = props;\n\n  if (props.validate && process.env.NODE_ENV !== \"production\") {\n    throw new Error(\n      \"<ReferenceInput> does not accept a validate prop. Set the validate prop on the child instead.\",\n    );\n  }\n\n  return <ReferenceInputBase {...rest}>{children}</ReferenceInputBase>;\n};\n\nconst defaultChildren = <AutocompleteInput />;\n\nexport interface ReferenceInputProps extends ReferenceInputBaseProps {\n  /**\n   * Call validate on the child component instead\n   */\n  validate?: never;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/reference-array-input.tsx",
      "content": "import * as React from \"react\";\nimport { ReactElement } from \"react\";\nimport {\n  InputProps,\n  useReferenceArrayInputController,\n  ResourceContextProvider,\n  ChoicesContextProvider,\n  UseReferenceArrayInputParams,\n} from \"ra-core\";\nimport { AutocompleteArrayInput } from \"@/components/admin/autocomplete-array-input\";\n\n/**\n * An Input component for fields containing a list of references to another resource.\n * Useful for 'hasMany' relationship.\n *\n * @example\n * The post object has many tags, so the post resource looks like:\n * {\n *    id: 1234,\n *    tag_ids: [ \"1\", \"23\", \"4\" ]\n * }\n *\n * ReferenceArrayInput component fetches the current resources (using\n * `dataProvider.getMany()`) as well as possible resources (using\n * `dataProvider.getList()`) in the reference endpoint. It then\n * delegates rendering to its child component, to which it makes the possible\n * choices available through the ChoicesContext.\n *\n * @example\n * export const PostEdit = () => (\n *     <Edit>\n *         <SimpleForm>\n *             <ReferenceArrayInput source=\"tag_ids\" reference=\"tags\" />\n *         </SimpleForm>\n *     </Edit>\n * );\n *\n * By default, restricts the possible values to 25. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceArrayInput\n *      source=\"tag_ids\"\n *      reference=\"tags\"\n *      perPage={100}\n * />\n *\n * By default, orders the possible values by id desc. You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceArrayInput\n *      source=\"tag_ids\"\n *      reference=\"tags\"\n *      sort={{ field: 'name', order: 'ASC' }}\n * />\n *\n * Also, you can filter the query used to populate the possible values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceArrayInput\n *      source=\"tag_ids\"\n *      reference=\"tags\"\n *      filter={{ is_public: true }}\n * />\n *\n * The enclosed component may filter results. ReferenceArrayInput create a ChoicesContext which provides\n * a `setFilters` function. You can call this function to filter the results.\n */\nexport const ReferenceArrayInput = (props: ReferenceArrayInputProps) => {\n  const {\n    children = defaultChildren,\n    reference,\n    sort,\n    filter = defaultFilter,\n  } = props;\n  if (React.Children.count(children) !== 1) {\n    throw new Error(\n      \"<ReferenceArrayInput> only accepts a single child (like <AutocompleteArrayInput>)\"\n    );\n  }\n\n  const controllerProps = useReferenceArrayInputController({\n    ...props,\n    sort,\n    filter,\n  });\n\n  return (\n    <ResourceContextProvider value={reference}>\n      <ChoicesContextProvider value={controllerProps}>\n        {children}\n      </ChoicesContextProvider>\n    </ResourceContextProvider>\n  );\n};\n\nconst defaultChildren = <AutocompleteArrayInput />;\nconst defaultFilter = {};\n\nexport interface ReferenceArrayInputProps\n  extends InputProps,\n    UseReferenceArrayInputParams {\n  children?: ReactElement;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/reference-array-field.tsx",
      "content": "import { memo, type ReactElement, type ReactNode } from \"react\";\nimport {\n  ExtractRecordPaths,\n  HintedString,\n  ReferenceArrayFieldBase,\n  useListContext,\n  type FilterPayload,\n  type ListControllerResult,\n  type RaRecord,\n  type SortPayload,\n} from \"ra-core\";\nimport type { UseQueryOptions } from \"@tanstack/react-query\";\nimport { SingleFieldList } from \"@/components/admin/single-field-list\";\n\n/**\n * A container component that fetches records from another resource specified\n * by an array of *ids* in current record.\n *\n * You must define the fields to be passed to the iterator component as children.\n *\n * @example Display all the categories of the current product as a list of chips (the default)\n * // product = {\n * //   id: 456,\n * //   category_ids: [11, 22, 33],\n * // }\n * <ReferenceArrayField label=\"Categories\" reference=\"categories\" source=\"category_ids\"/ >\n *\n * @example Display all the products of the current order as DataTable\n * // order = {\n * //   id: 123,\n * //   product_ids: [456, 457, 458],\n * // }\n * <ReferenceArrayField label=\"Products\" reference=\"products\" source=\"product_ids\">\n *     <DataTable>\n *         <DataTable.Col source=\"id\" />\n *         <DataTable.Col source=\"description\" />\n *         <DataTable.NumberCol source=\"price\" options={{ style: 'currency', currency: 'USD' }} />\n *         <DataTable.Col><EditButton /></DataTable.Col>\n *     </DataTable>\n * </ReferenceArrayField>\n *\n * By default, restricts the displayed values to 1000. You can extend this limit\n * by setting the `perPage` prop.\n *\n * @example\n * <ReferenceArrayField perPage={10} reference=\"categories\" source=\"category_ids\">\n *    ...\n * </ReferenceArrayField>\n *\n * By default, the field displays the results in the order in which they are referenced\n * (i.e. in the order of the list of ids). You can change this order\n * by setting the `sort` prop (an object with `field` and `order` properties).\n *\n * @example\n * <ReferenceArrayField sort={{ field: 'name', order: 'ASC' }} reference=\"categories\" source=\"category_ids\">\n *    ...\n * </ReferenceArrayField>\n *\n * Also, you can filter the results to display only a subset of values. Use the\n * `filter` prop for that.\n *\n * @example\n * <ReferenceArrayField filter={{ is_published: true }} reference=\"categories\" source=\"category_ids\">\n *    ...\n * </ReferenceArrayField>\n */\nexport const ReferenceArrayField = <\n  RecordType extends RaRecord = RaRecord,\n  ReferenceRecordType extends RaRecord = RaRecord,\n>(\n  props: ReferenceArrayFieldProps<RecordType, ReferenceRecordType>,\n) => {\n  const {\n    filter,\n    page = 1,\n    perPage,\n    reference,\n    resource,\n    sort,\n    source,\n    queryOptions,\n    render,\n    ...rest\n  } = props;\n  return (\n    <ReferenceArrayFieldBase\n      filter={filter}\n      page={page}\n      perPage={perPage}\n      reference={reference}\n      resource={resource}\n      sort={sort}\n      source={source}\n      queryOptions={queryOptions}\n      render={render}\n    >\n      <PureReferenceArrayFieldView {...rest} />\n    </ReferenceArrayFieldBase>\n  );\n};\nexport interface ReferenceArrayFieldProps<\n  RecordType extends RaRecord = RaRecord,\n  ReferenceRecordType extends RaRecord = RaRecord,\n> extends ReferenceArrayFieldViewProps {\n  filter?: FilterPayload;\n  page?: number;\n  pagination?: ReactElement;\n  perPage?: number;\n  reference: string;\n  resource?: string;\n  source: NoInfer<HintedString<ExtractRecordPaths<RecordType>>>;\n  sort?: SortPayload;\n  queryOptions?: Omit<\n    UseQueryOptions<ReferenceRecordType[], Error>,\n    \"queryFn\" | \"queryKey\"\n  >;\n  render?: (props: ListControllerResult<ReferenceRecordType>) => ReactElement;\n}\n\nexport interface ReferenceArrayFieldViewProps {\n  children?: ReactNode;\n  className?: string;\n  empty?: ReactNode;\n  error?: ReactNode;\n  loading?: ReactNode;\n  pagination?: ReactNode;\n}\n\nexport const ReferenceArrayFieldView = (\n  props: ReferenceArrayFieldViewProps,\n) => {\n  const {\n    children = defaultChildren,\n    className,\n    empty,\n    error: errorElement,\n    loading,\n    pagination,\n  } = props;\n  const {\n    isPending,\n    error,\n    total,\n    hasPreviousPage,\n    hasNextPage,\n    data,\n    filterValues,\n  } = useListContext();\n\n  return (\n    <div className={className}>\n      {isPending && loading !== false ? (\n        loading\n      ) : error && errorElement !== false ? (\n        errorElement\n      ) : (total === 0 ||\n          (total == null &&\n            hasPreviousPage === false &&\n            hasNextPage === false &&\n            // @ts-expect-error FIXME total may be undefined when using partial pagination but the ListControllerResult type is wrong about it\n            data.length === 0 &&\n            // the user didn't set any filters\n            !Object.keys(filterValues).length)) &&\n        empty !== false ? (\n        empty\n      ) : (\n        <span>\n          {children}\n          {pagination && total !== undefined ? pagination : null}\n        </span>\n      )}\n    </div>\n  );\n};\n\nconst defaultChildren = <SingleFieldList />;\nconst PureReferenceArrayFieldView = memo(ReferenceArrayFieldView);\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/reference-many-count.tsx",
      "content": "import {\n  RaRecord,\n  SortPayload,\n  useCreatePath,\n  useRecordContext,\n  useReferenceManyFieldController,\n} from \"ra-core\";\nimport { Link } from \"react-router\";\n\nexport const ReferenceManyCount = <RecordType extends RaRecord = RaRecord>(\n  props: ReferenceManyCountProps<RecordType>,\n) => {\n  const {\n    reference,\n    target,\n    filter,\n    sort,\n    link,\n    resource,\n    source = \"id\",\n  } = props;\n  const record = useRecordContext<RecordType>(props);\n  const createPath = useCreatePath();\n\n  const { isLoading, error, total } =\n    useReferenceManyFieldController<RecordType>({\n      filter,\n      sort,\n      page: 1,\n      perPage: 1,\n      record,\n      reference,\n      resource,\n      source,\n      target,\n    });\n\n  const body = isLoading ? \"\" : error ? \"error\" : total;\n\n  return link && record ? (\n    <Link\n      to={{\n        pathname: createPath({ resource: reference, type: \"list\" }),\n        search: `filter=${JSON.stringify({\n          ...(filter || {}),\n          [target]: record[source],\n        })}`,\n      }}\n      onClick={(e) => e.stopPropagation()}\n    >\n      {body}\n    </Link>\n  ) : (\n    <span>{body}</span>\n  );\n};\n\nexport interface ReferenceManyCountProps<\n  RecordType extends RaRecord = RaRecord,\n> {\n  record?: RecordType;\n  reference: string;\n  resource?: string;\n  target: string;\n  source?: string;\n  sort?: SortPayload;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  filter?: any;\n  link?: boolean;\n  timeout?: number;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/reference-many-field.tsx",
      "content": "import { ReactNode } from \"react\";\nimport {\n  ReferenceManyFieldBase,\n  useListContext,\n  RaRecord,\n  UseReferenceManyFieldControllerParams,\n  ListControllerResult,\n} from \"ra-core\";\n\nexport const ReferenceManyField = <\n  RecordType extends RaRecord = RaRecord,\n  ReferenceRecordType extends RaRecord = RaRecord,\n>(\n  props: ReferenceManyFieldProps<RecordType, ReferenceRecordType>,\n) => {\n  const { children, empty, error, loading, pagination, render, ...rest } =\n    props;\n\n  return (\n    <ReferenceManyFieldBase {...rest}>\n      <ReferenceManyFieldView<ReferenceRecordType>\n        empty={empty}\n        error={error}\n        loading={loading}\n        pagination={pagination}\n        render={render}\n      >\n        {children}\n      </ReferenceManyFieldView>\n    </ReferenceManyFieldBase>\n  );\n};\n\nexport interface ReferenceManyFieldProps<\n  RecordType extends RaRecord = RaRecord,\n  ReferenceRecordType extends RaRecord = RaRecord,\n> extends UseReferenceManyFieldControllerParams<\n      RecordType,\n      ReferenceRecordType\n    >,\n    ReferenceManyFieldViewProps<ReferenceRecordType> {}\n\nconst ReferenceManyFieldView = <\n  ReferenceRecordType extends RaRecord = RaRecord,\n>(\n  props: ReferenceManyFieldViewProps<ReferenceRecordType>,\n) => {\n  const {\n    children,\n    empty,\n    error: errorElement,\n    loading,\n    pagination,\n    render,\n  } = props;\n  const listContext = useListContext();\n  const {\n    isPending,\n    error,\n    total,\n    hasPreviousPage,\n    hasNextPage,\n    data,\n    filterValues,\n  } = listContext;\n\n  if (isPending && loading !== false) {\n    return loading;\n  }\n  if (error && errorElement !== false) {\n    return errorElement;\n  }\n  if (\n    (total === 0 ||\n      (total == null &&\n        hasPreviousPage === false &&\n        hasNextPage === false &&\n        // @ts-expect-error FIXME total may be undefined when using partial pagination but the ListControllerResult type is wrong about it\n        data.length === 0 &&\n        // the user didn't set any filters\n        !Object.keys(filterValues).length)) &&\n    empty !== false\n  ) {\n    return empty;\n  }\n\n  return (\n    <>\n      {render && render(listContext)}\n      {children}\n      {pagination}\n    </>\n  );\n};\n\nexport interface ReferenceManyFieldViewProps<\n  ReferenceRecordType extends RaRecord = RaRecord,\n> {\n  children?: ReactNode;\n  empty?: ReactNode;\n  error?: ReactNode;\n  loading?: ReactNode;\n  pagination?: ReactNode;\n  render?: (props: ListControllerResult<ReferenceRecordType>) => ReactNode;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/refresh-button.tsx",
      "content": "import { useRefresh, useLoading } from \"ra-core\";\nimport { Button } from \"@/components/ui/button\";\nimport { LoaderCircle, RotateCw } from \"lucide-react\";\n\nexport const RefreshButton = () => {\n  const refresh = useRefresh();\n  const loading = useLoading();\n\n  const handleRefresh = () => {\n    refresh();\n  };\n\n  return (\n    <Button\n      onClick={handleRefresh}\n      variant=\"ghost\"\n      size=\"icon\"\n      className=\"hidden sm:inline-flex\"\n    >\n      {loading ? <LoaderCircle className=\"animate-spin\" /> : <RotateCw />}\n    </Button>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/saved-queries.tsx",
      "content": "import { useListContext, useTranslate } from \"ra-core\";\nimport { ChangeEvent, FormEvent, ReactElement, useState } from \"react\";\nimport isEqual from \"lodash/isEqual\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  extractValidSavedQueries,\n  useSavedQueries,\n} from \"@/hooks/saved-queries.tsx\";\n\nexport const AddSavedQueryDialog = ({\n  open,\n  onClose,\n}: AddSavedQueryDialogProps): ReactElement => {\n  const translate = useTranslate();\n  const { resource, filterValues, displayedFilters, sort, perPage } =\n    useListContext();\n\n  const [savedQueries, setSavedQueries] = useSavedQueries(resource);\n\n  // input state\n  const [queryName, setQueryName] = useState(\"\");\n  const handleQueryNameChange = (\n    event: ChangeEvent<HTMLInputElement>,\n  ): void => {\n    setQueryName(event.target.value);\n  };\n\n  const handleFormSubmit = (e: FormEvent<HTMLFormElement>): void => {\n    e.preventDefault();\n    addQuery();\n  };\n\n  const addQuery = (): void => {\n    const newSavedQuery = {\n      label: queryName,\n      value: {\n        filter: filterValues,\n        sort,\n        perPage,\n        displayedFilters,\n      },\n    };\n    const newSavedQueries = extractValidSavedQueries(savedQueries);\n    setSavedQueries(newSavedQueries.concat(newSavedQuery));\n    setQueryName(\"\");\n    onClose();\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-[425px]\">\n        <DialogHeader>\n          <DialogTitle>\n            {translate(\"ra.saved_queries.new_dialog_title\", {\n              _: \"Save current query as\",\n            })}\n          </DialogTitle>\n        </DialogHeader>\n        <form onSubmit={handleFormSubmit} className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"name\">\n              {translate(\"ra.saved_queries.query_name\", {\n                _: \"Query name\",\n              })}\n            </Label>\n            <Input\n              id=\"name\"\n              value={queryName}\n              onChange={handleQueryNameChange}\n              autoFocus\n            />\n          </div>\n        </form>\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={onClose}>\n            {translate(\"ra.action.cancel\")}\n          </Button>\n          <Button onClick={addQuery}>{translate(\"ra.action.save\")}</Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport interface AddSavedQueryDialogProps {\n  open: boolean;\n  onClose: () => void;\n}\n\nexport const RemoveSavedQueryDialog = ({\n  open,\n  onClose,\n}: RemoveSavedQueryDialogProps): ReactElement => {\n  const translate = useTranslate();\n  const { resource, filterValues, sort, perPage, displayedFilters } =\n    useListContext();\n\n  const [savedQueries, setSavedQueries] = useSavedQueries(resource);\n\n  const removeQuery = (): void => {\n    const savedQueryToRemove = {\n      filter: filterValues,\n      sort,\n      perPage,\n      displayedFilters,\n    };\n\n    const newSavedQueries = extractValidSavedQueries(savedQueries);\n    const index = newSavedQueries.findIndex((savedFilter) =>\n      isEqual(savedFilter.value, savedQueryToRemove),\n    );\n    setSavedQueries([\n      ...newSavedQueries.slice(0, index),\n      ...newSavedQueries.slice(index + 1),\n    ]);\n    onClose();\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onClose}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>\n            {translate(\"ra.saved_queries.remove_dialog_title\", {\n              _: \"Remove saved query?\",\n            })}\n          </DialogTitle>\n          <DialogDescription>\n            {translate(\"ra.saved_queries.remove_message\", {\n              _: \"Are you sure you want to remove that item from your list of saved queries?\",\n            })}\n          </DialogDescription>\n        </DialogHeader>\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={onClose}>\n            {translate(\"ra.action.cancel\")}\n          </Button>\n          <Button onClick={removeQuery} autoFocus>\n            {translate(\"ra.action.confirm\")}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport interface RemoveSavedQueryDialogProps {\n  open: boolean;\n  onClose: () => void;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/hooks/saved-queries.tsx",
      "content": "import { SortPayload, useStore } from \"ra-core\";\n\n/**\n * @deprecated Use useSavedQueries from `ra-core` once available.\n */\nexport const useSavedQueries = (resource: string) => {\n  return useStore<SavedQuery[]>(`${resource}.savedQueries`, []);\n};\n\n/**\n * @deprecated Use SavedQuery from `ra-core` once available.\n */\nexport interface SavedQuery {\n  label: string;\n  value: {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    filter?: any;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    displayedFilters?: any[];\n    sort?: SortPayload;\n    perPage?: number;\n  };\n}\n\n/**\n * @deprecated Use extractValidSavedQueries from `ra-core` once available.\n */\nexport const extractValidSavedQueries = (savedQueries: SavedQuery[]) => {\n  if (Array.isArray(savedQueries)) {\n    return savedQueries.filter((query) => isValidSavedQuery(query));\n  }\n\n  return [];\n};\n\n/**\n * @deprecated Use areValidSavedQueries from `ra-core` once available.\n */\nexport const areValidSavedQueries = (savedQueries: SavedQuery[]) => {\n  if (\n    Array.isArray(savedQueries) &&\n    savedQueries.every((query) => isValidSavedQuery(query))\n  ) {\n    return true;\n  }\n};\n\n/**\n * @deprecated Use isValidSavedQuery from `ra-core` once available.\n */\nexport const isValidSavedQuery = (savedQuery: SavedQuery) => {\n  if (\n    savedQuery.label &&\n    typeof savedQuery.label === \"string\" &&\n    savedQuery.value &&\n    typeof Array.isArray(savedQuery.value.displayedFilters) &&\n    typeof savedQuery.value.perPage === \"number\" &&\n    typeof savedQuery.value.sort?.field === \"string\" &&\n    typeof savedQuery.value.sort?.order === \"string\" &&\n    typeof savedQuery.value.filter === \"object\"\n  ) {\n    return true;\n  }\n\n  return false;\n};\n",
      "type": "registry:hook"
    },
    {
      "path": "src/components/admin/search-input.tsx",
      "content": "import { useTranslate } from \"ra-core\";\nimport { Search } from \"lucide-react\";\nimport { TextInput, type TextInputProps } from \"@/components/admin/text-input\";\n\nexport const SearchInput = (inProps: SearchInputProps) => {\n  const { label, ...rest } = inProps;\n\n  const translate = useTranslate();\n\n  if (label) {\n    throw new Error(\n      \"<SearchInput> isn't designed to be used with a label prop. Use <TextInput> if you need a label.\",\n    );\n  }\n\n  return (\n    <div className=\"flex flex-grow relative mt-auto w-fit\">\n      <TextInput\n        label={false}\n        helperText={false}\n        placeholder={translate(\"ra.action.search\")}\n        {...rest}\n      />\n      <Search className=\"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none\" />\n    </div>\n  );\n};\n\nexport type SearchInputProps = TextInputProps;\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/select-field.tsx",
      "content": "import { HTMLAttributes } from \"react\";\nimport { ChoicesProps, useChoices, useFieldValue, useTranslate } from \"ra-core\";\n\nimport { FieldProps } from \"@/lib/field.type.ts\";\nimport { genericMemo } from \"@/lib/genericMemo\";\n\n/**\n * Display a value in an enumeration\n *\n * Pass possible options as an array of objects in the 'choices' attribute.\n *\n * @example\n * const choices = [\n *    { id: 'M', name: 'Male' },\n *    { id: 'F', name: 'Female' },\n * ];\n * <SelectField source=\"gender\" choices={choices} />\n *\n * By default, the text is built by\n * - finding a choice where the 'id' property equals the field value\n * - using the 'name' property as the option text\n *\n * You can also customize the properties to use for the value and text,\n * thanks to the 'optionValue' and 'optionText' attributes.\n *\n * @example\n * const choices = [\n *    { _id: 123, full_name: 'Leo Tolstoi', sex: 'M' },\n *    { _id: 456, full_name: 'Jane Austen', sex: 'F' },\n * ];\n * <SelectField source=\"author_id\" choices={choices} optionText=\"full_name\" optionValue=\"_id\" />\n *\n * `optionText` also accepts a function, so you can shape the option text at will:\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const optionRenderer = choice => `${choice.first_name} ${choice.last_name}`;\n * <SelectField source=\"author_id\" choices={choices} optionText={optionRenderer} />\n *\n * `optionText` also accepts a React Element, that can access\n * the related choice through the `useRecordContext` hook. You can use Field components there.\n * @example\n * const choices = [\n *    { id: 123, first_name: 'Leo', last_name: 'Tolstoi' },\n *    { id: 456, first_name: 'Jane', last_name: 'Austen' },\n * ];\n * const FullNameField = () => {\n *     const record = useRecordContext();\n *     return (<Chip>{record.first_name} {record.last_name}</Chip>)\n * };\n * <SelectField source=\"gender\" choices={choices} optionText={<FullNameField />}/>\n *\n * The current choice is translated by default, so you can use translation identifiers as choices:\n * @example\n * const choices = [\n *    { id: 'M', name: 'myroot.gender.male' },\n *    { id: 'F', name: 'myroot.gender.female' },\n * ];\n *\n * However, in some cases (e.g. inside a `<ReferenceField>`), you may not want\n * the choice to be translated. In that case, set the `translateChoice` prop to false.\n * @example\n * <SelectField source=\"gender\" choices={choices} translateChoice={false}/>\n *\n * **Tip**: <ReferenceField> sets `translateChoice` to false by default.\n */\nconst SelectFieldImpl = <\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RecordType extends Record<string, any> = Record<string, any>,\n>(\n  props: SelectFieldProps<RecordType>,\n) => {\n  const {\n    className,\n    empty,\n    choices,\n    defaultValue,\n    source,\n    record,\n    optionValue = \"id\",\n    optionText = \"name\",\n    translateChoice = true,\n    ...rest\n  } = props;\n  const value = useFieldValue({ defaultValue, source, record });\n\n  const { getChoiceText, getChoiceValue } = useChoices({\n    optionText,\n    optionValue,\n    translateChoice,\n  });\n  const translate = useTranslate();\n\n  const choice = choices\n    ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      choices.find((choice: any) => getChoiceValue(choice) === value)\n    : null;\n\n  if (!choice) {\n    if (!empty) {\n      return null;\n    }\n\n    return (\n      <span className={className} {...rest}>\n        {typeof empty === \"string\" ? translate(empty, { _: empty }) : empty}\n      </span>\n    );\n  }\n\n  const choiceText = getChoiceText(choice);\n\n  return (\n    <span className={className} {...rest}>\n      {choiceText}\n    </span>\n  );\n};\n\nSelectFieldImpl.displayName = \"SelectFieldImpl\";\n\nexport const SelectField = genericMemo(SelectFieldImpl);\n\nexport interface SelectFieldProps<\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RecordType extends Record<string, any> = Record<string, any>,\n> extends Omit<\n      ChoicesProps,\n      \"disableValue\" | \"createValue\" | \"createHintValue\"\n    >,\n    FieldProps<RecordType>,\n    HTMLAttributes<HTMLSpanElement> {}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/select-input.tsx",
      "content": "import { X } from \"lucide-react\";\nimport {\n  FieldTitle,\n  InputProps,\n  useChoices,\n  useChoicesContext,\n  useGetRecordRepresentation,\n  useInput,\n  useTranslate,\n  type ChoicesProps,\n} from \"ra-core\";\nimport {\n  ComponentProps,\n  useCallback,\n  useEffect,\n  type ReactElement,\n} from \"react\";\n\nimport { FormError, FormField, FormLabel } from \"@/components/admin/form\";\nimport { InputHelperText } from \"@/components/admin/input-helper-text\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n  SupportCreateSuggestionOptions,\n  useSupportCreateSuggestion,\n} from \"@/hooks/useSupportCreateSuggestion\";\nimport { cn } from \"@/lib/utils\";\n\nexport const SelectInput = (props: SelectInputProps) => {\n  const {\n    choices: choicesProp,\n    isLoading: isLoadingProp,\n    isFetching: isFetchingProp,\n    isPending: isPendingProp,\n    resource: resourceProp,\n    source: sourceProp,\n\n    optionText,\n    optionValue,\n    disableValue = \"disabled\",\n    translateChoice,\n    createValue,\n    createHintValue,\n\n    alwaysOn,\n    defaultValue,\n    format,\n    label,\n    helperText,\n    name,\n    onBlur,\n    onChange,\n    parse,\n    validate,\n    readOnly,\n    disabled,\n\n    className,\n    emptyText = \"\",\n    emptyValue = \"\",\n    filter: _filter,\n    create,\n    createLabel,\n    onCreate,\n\n    ...rest\n  } = props;\n  const translate = useTranslate();\n\n  useEffect(() => {\n    if (emptyValue == null) {\n      throw new Error(\n        `emptyValue being set to null or undefined is not supported. Use parse to turn the empty string into null.`,\n      );\n    }\n  }, [emptyValue]);\n\n  const {\n    allChoices,\n    isPending,\n    error: fetchError,\n    source,\n    resource,\n    isFromReference,\n  } = useChoicesContext({\n    choices: choicesProp,\n    isLoading: isLoadingProp,\n    isFetching: isFetchingProp,\n    isPending: isPendingProp,\n    resource: resourceProp,\n    source: sourceProp,\n  });\n\n  if (source === undefined) {\n    throw new Error(\n      `If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the source prop`,\n    );\n  }\n\n  if (!isPending && !fetchError && allChoices === undefined) {\n    throw new Error(\n      `If you're not wrapping the SelectInput inside a ReferenceInput, you must provide the choices prop`,\n    );\n  }\n\n  const getRecordRepresentation = useGetRecordRepresentation(resource);\n  const { getChoiceText, getChoiceValue, getDisableValue } = useChoices({\n    optionText:\n      optionText ?? (isFromReference ? getRecordRepresentation : undefined),\n    optionValue,\n    disableValue,\n    translateChoice: translateChoice ?? !isFromReference,\n    createValue,\n    createHintValue,\n  });\n  const { id, field, isRequired } = useInput({\n    alwaysOn,\n    defaultValue,\n    format,\n    label,\n    helperText,\n    name,\n    onBlur,\n    onChange,\n    parse,\n    resource,\n    source,\n    validate,\n    readOnly,\n    disabled,\n  });\n\n  const renderEmptyItemOption = useCallback(() => {\n    return typeof emptyText === \"string\"\n      ? emptyText === \"\"\n        ? \"\" // em space, forces the display of an empty line of normal height\n        : translate(emptyText, { _: emptyText })\n      : emptyText;\n  }, [emptyText, translate]);\n\n  const renderMenuItemOption = useCallback(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (choice: any) => getChoiceText(choice),\n    [getChoiceText],\n  );\n\n  const handleChange = useCallback(\n    async (value: string) => {\n      if (value === emptyValue) {\n        field.onChange(emptyValue);\n      } else {\n        // Find the choice by value and pass it to field.onChange\n        const choice = allChoices?.find(\n          (choice) => getChoiceValue(choice) === value,\n        );\n        field.onChange(choice ? getChoiceValue(choice) : value);\n      }\n    },\n    [field, getChoiceValue, emptyValue, allChoices],\n  );\n\n  const {\n    getCreateItem,\n    handleChange: handleChangeWithCreateSupport,\n    createElement,\n  } = useSupportCreateSuggestion({\n    create,\n    createLabel,\n    createValue,\n    createHintValue,\n    onCreate,\n    handleChange,\n    optionText,\n  });\n\n  if (isPending) {\n    return (\n      <FormField\n        id={id}\n        name={field.name}\n        className={cn(\"w-full min-w-20\", className)}\n      >\n        {label !== \"\" && label !== false && (\n          <FormLabel>\n            <FieldTitle\n              label={label}\n              source={source}\n              resource={resourceProp}\n              isRequired={isRequired}\n            />\n          </FormLabel>\n        )}\n        <div className=\"relative\">\n          <Skeleton className=\"w-full h-9\" />\n        </div>\n        <InputHelperText helperText={helperText} />\n        <FormError />\n      </FormField>\n    );\n  }\n\n  const createItem = create || onCreate ? getCreateItem() : null;\n  let finalChoices = fetchError ? [] : allChoices;\n  if (create || onCreate) {\n    finalChoices = [...finalChoices, createItem];\n  }\n\n  // Handle reset functionality\n  const handleReset = (e: React.MouseEvent<HTMLDivElement>) => {\n    e.stopPropagation();\n    field.onChange(emptyValue);\n  };\n\n  return (\n    <>\n      <FormField\n        id={id}\n        name={field.name}\n        className={cn(\"w-full min-w-20\", className)}\n        {...rest}\n      >\n        {label !== \"\" && label !== false && (\n          <FormLabel>\n            <FieldTitle\n              label={label}\n              source={source}\n              resource={resourceProp}\n              isRequired={isRequired}\n            />\n          </FormLabel>\n        )}\n        <div className=\"relative\">\n          <Select\n            //FIXME https://github.com/radix-ui/primitives/issues/3135\n            // Setting a key based on the value fixes an issue where onValueChange\n            // was called with an empty string when the controlled value was changed.\n            // See: https://github.com/radix-ui/primitives/issues/3135#issuecomment-2916908248\n            key={`select:${field.value?.toString() ?? emptyValue}`}\n            value={field.value?.toString() || emptyValue}\n            onValueChange={handleChangeWithCreateSupport}\n          >\n            <SelectTrigger\n              className={cn(\"w-full transition-all hover:bg-accent\")}\n              disabled={field.disabled}\n            >\n              <SelectValue placeholder={renderEmptyItemOption()} />\n\n              {field.value && field.value !== emptyValue ? (\n                <div\n                  role=\"button\"\n                  className=\"p-0 ml-auto pointer-events-auto hover:bg-transparent text-muted-foreground opacity-50 hover:opacity-100\"\n                  onClick={handleReset}\n                >\n                  <X className=\"h-4 w-4\" />\n                </div>\n              ) : null}\n            </SelectTrigger>\n            <SelectContent>\n              {finalChoices?.map((choice) => {\n                if (!choice) return null;\n                const value = getChoiceValue(choice);\n                const isDisabled = getDisableValue(choice);\n\n                return (\n                  <SelectItem\n                    key={value}\n                    value={value?.toString()}\n                    disabled={isDisabled}\n                  >\n                    {renderMenuItemOption(\n                      !!createItem && choice?.id === createItem.id\n                        ? createItem\n                        : choice,\n                    )}\n                  </SelectItem>\n                );\n              })}\n            </SelectContent>\n          </Select>\n        </div>\n        <InputHelperText helperText={helperText} />\n      </FormField>\n      {createElement}\n    </>\n  );\n};\n\nexport type SelectInputProps = ChoicesProps &\n  // Source is optional as SelectInput can be used inside a ReferenceInput that already defines the source\n  Partial<InputProps> &\n  Omit<SupportCreateSuggestionOptions, \"handleChange\"> & {\n    emptyText?: string | ReactElement;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    emptyValue?: any;\n    onChange?: (value: string) => void;\n  } & Omit<ComponentProps<typeof FormField>, \"id\" | \"name\" | \"children\">;\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/show.tsx",
      "content": "import {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbPage,\n} from \"@/components/admin/breadcrumb\";\nimport {\n  ShowBase,\n  Translate,\n  useCreatePath,\n  useHasDashboard,\n  useShowContext,\n  useGetRecordRepresentation,\n  useGetResourceLabel,\n  useResourceContext,\n  useResourceDefinition,\n  type ShowBaseProps,\n} from \"ra-core\";\nimport { ReactNode } from \"react\";\nimport { Link } from \"react-router\";\nimport { cn } from \"@/lib/utils\";\nimport { EditButton } from \"@/components/admin/edit-button\";\n\nexport interface ShowProps\n  extends ShowViewProps,\n    Omit<ShowBaseProps, \"children\"> {}\n\nexport const Show = ({\n  disableAuthentication,\n  id,\n  queryOptions,\n  resource,\n  actions,\n  title,\n  children,\n  className,\n  render,\n  loading,\n}: ShowProps) => (\n  <ShowBase\n    id={id}\n    resource={resource}\n    queryOptions={queryOptions}\n    disableAuthentication={disableAuthentication}\n    render={render}\n    loading={loading}\n  >\n    <ShowView title={title} actions={actions} className={className}>\n      {children}\n    </ShowView>\n  </ShowBase>\n);\n\nexport interface ShowViewProps {\n  actions?: ReactNode;\n  title?: ReactNode | string | false;\n  children: ReactNode;\n  className?: string;\n  emptyWhileLoading?: boolean;\n}\n\nexport const ShowView = ({\n  actions,\n  title,\n  children,\n  className,\n  emptyWhileLoading,\n}: ShowViewProps) => {\n  const context = useShowContext();\n\n  const resource = useResourceContext();\n  if (!resource) {\n    throw new Error(\n      \"The ShowView component must be used within a ResourceContextProvider\",\n    );\n  }\n  const getResourceLabel = useGetResourceLabel();\n  const listLabel = getResourceLabel(resource, 2);\n  const createPath = useCreatePath();\n  const listLink = createPath({\n    resource,\n    type: \"list\",\n  });\n\n  const getRecordRepresentation = useGetRecordRepresentation(resource);\n  const recordRepresentation = getRecordRepresentation(context.record);\n\n  const { hasEdit } = useResourceDefinition({ resource });\n  const hasDashboard = useHasDashboard();\n\n  if (context.isLoading || !context.record) {\n    return null;\n  }\n  if (!context.record && emptyWhileLoading) {\n    return null;\n  }\n\n  return (\n    <>\n      <Breadcrumb>\n        {hasDashboard && (\n          <BreadcrumbItem>\n            <Link to=\"/\">\n              <Translate i18nKey=\"ra.page.dashboard\">Home</Translate>\n            </Link>\n          </BreadcrumbItem>\n        )}\n        <BreadcrumbItem>\n          <Link to={listLink}>{listLabel}</Link>\n        </BreadcrumbItem>\n        <BreadcrumbPage>{recordRepresentation}</BreadcrumbPage>\n      </Breadcrumb>\n      <div\n        className={cn(\n          \"flex justify-between items-start flex-wrap gap-2 my-2\",\n          className,\n        )}\n      >\n        <h2 className=\"text-2xl font-bold tracking-tight\">\n          {title !== undefined ? title : context.defaultTitle}\n        </h2>\n        {actions ?? (\n          <div className=\"flex justify-end items-center\">\n            {hasEdit ? <EditButton /> : null}\n          </div>\n        )}\n      </div>\n      <div className=\"my-2\">{children}</div>\n    </>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/show-button.tsx",
      "content": "import React from \"react\";\nimport { Link } from \"react-router\";\nimport { buttonVariants } from \"@/components/ui/button\";\nimport { Eye } from \"lucide-react\";\nimport {\n  Translate,\n  useCreatePath,\n  useRecordContext,\n  useResourceContext,\n} from \"ra-core\";\n\nexport type ShowButtonProps = {\n  label?: string;\n  icon?: React.ReactNode;\n} & React.AnchorHTMLAttributes<HTMLAnchorElement>;\n\nexport const ShowButton = (props: ShowButtonProps) => {\n  const resource = useResourceContext();\n  const record = useRecordContext();\n  const createPath = useCreatePath();\n  const link = createPath({\n    resource,\n    type: \"show\",\n    id: record?.id,\n  });\n  const { label, icon, ...rest } = props;\n  return (\n    <Link\n      className={buttonVariants({ variant: \"outline\" })}\n      to={link}\n      onClick={stopPropagation}\n      {...rest}\n    >\n      {icon ?? <Eye />}\n      <Translate i18nKey={label ?? \"ra.action.show\"}>\n        {label ?? \"Show\"}\n      </Translate>\n    </Link>\n  );\n};\n\n// useful to prevent click bubbling in a datagrid with rowClick\nconst stopPropagation = (e: React.MouseEvent) => e.stopPropagation();\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/show-guesser.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport {\n  ReactNode,\n  useEffect,\n  useState,\n  isValidElement,\n  Children,\n} from \"react\";\nimport {\n  ShowBase,\n  InferredElement,\n  getElementsFromRecords,\n  useResourceContext,\n  useShowContext,\n  InferredTypeMap,\n} from \"ra-core\";\nimport { capitalize, singularize } from \"inflection\";\nimport { ShowView } from \"@/components/admin/show\";\nimport { RecordField } from \"@/components/admin/record-field\";\nimport { DateField } from \"./date-field\";\nimport { ReferenceField } from \"@/components/admin/reference-field\";\nimport { NumberField } from \"@/components/admin/number-field\";\nimport { ArrayField } from \"@/components/admin/array-field\";\nimport { BadgeField } from \"@/components/admin/badge-field\";\nimport { SingleFieldList } from \"@/components/admin/single-field-list\";\nimport { ReferenceArrayField } from \"@/components/admin/reference-array-field\";\n\nexport const ShowGuesser = (props: { enableLog?: boolean }) => (\n  <ShowBase>\n    <ShowViewGuesser {...props} />\n  </ShowBase>\n);\n\nconst ShowViewGuesser = (props: { enableLog?: boolean }) => {\n  const resource = useResourceContext();\n\n  if (!resource) {\n    throw new Error(`Cannot use <ShowGuesser> outside of a ResourceContext`);\n  }\n\n  const { record } = useShowContext();\n  const [child, setChild] = useState<ReactNode>(null);\n  const { enableLog = process.env.NODE_ENV === \"development\", ...rest } = props;\n\n  useEffect(() => {\n    setChild(null);\n  }, [resource]);\n\n  useEffect(() => {\n    if (record && !child) {\n      const inferredElements = getElementsFromRecords([record], showFieldTypes);\n      const inferredChild = new InferredElement(\n        showFieldTypes.show,\n        null,\n        inferredElements,\n      );\n      setChild(inferredChild.getElement());\n\n      if (!enableLog) return;\n\n      const representation = inferredChild.getRepresentation();\n      const components = [\"Show\"]\n        .concat(\n          Array.from(\n            new Set(\n              Array.from(representation.matchAll(/<([^/\\s>]+)/g))\n                .map((match) => match[1])\n                .filter(\n                  (component) => component !== \"span\" && component !== \"div\",\n                ),\n            ),\n          ),\n        )\n        .sort();\n\n      // eslint-disable-next-line no-console\n      console.log(\n        `Guessed Show:\n\n${components\n  .map(\n    (component) =>\n      `import { ${component} } from \"@/components/admin/${kebabCase(\n        component,\n      )}\";`,\n  )\n  .join(\"\\n\")}\n\nexport const ${capitalize(singularize(resource))}Show = () => (\n    <Show>\n${inferredChild.getRepresentation()}\n    </Show>\n);`,\n      );\n    }\n  }, [record, child, resource, enableLog]);\n\n  return <ShowView {...rest}>{child}</ShowView>;\n};\n\nconst showFieldTypes: InferredTypeMap = {\n  show: {\n    component: (props: any) => (\n      <div className=\"flex flex-col gap-4\">{props.children}</div>\n    ),\n    representation: (\n      _props: any,\n      children: { getRepresentation: () => string }[],\n    ) => `        <div className=\"flex flex-col gap-4\">\n${children\n  .map((child) => `            ${child.getRepresentation()}`)\n  .join(\"\\n\")}\n        </div>`,\n  },\n  reference: {\n    component: (props: any) => (\n      <RecordField source={props.source}>\n        <ReferenceField source={props.source} reference={props.reference} />\n      </RecordField>\n    ),\n    representation: (props: any) =>\n      `<RecordField source=\"${props.source}\">\n                <ReferenceField source=\"${props.source}\" reference=\"${props.reference}\" />\n            </RecordField>`,\n  },\n  array: {\n    component: ({ children, ...props }: any) => {\n      const childrenArray = Children.toArray(children);\n      return (\n        <RecordField source={props.source}>\n          <ArrayField source={props.source}>\n            <SingleFieldList>\n              <BadgeField\n                source={\n                  childrenArray.length > 0 &&\n                  isValidElement(childrenArray[0]) &&\n                  (childrenArray[0].props as any).source\n                }\n              />\n            </SingleFieldList>\n          </ArrayField>\n        </RecordField>\n      );\n    },\n    representation: (props: any, children: any) =>\n      `<RecordField source=\"${props.source}\">\n                <ArrayField source=\"${props.source}\">\n                    <SingleFieldList>\n                        <BadgeField source=\"${\n                          children.length > 0 && children[0].getProps().source\n                        }\" />\n                    </SingleFieldList>\n                </ArrayField>\n            </RecordField>`,\n  },\n  referenceArray: {\n    component: (props: any) => (\n      <RecordField source={props.source}>\n        <ReferenceArrayField {...props} />\n      </RecordField>\n    ),\n    representation: (props: any) =>\n      `<RecordField source=\"${props.source}\">\n                <ReferenceArrayField source=\"${props.source}\" reference=\"${props.reference}\" />\n            </RecordField>`,\n  },\n  boolean: {\n    component: (props: any) => (\n      <RecordField\n        source={props.source}\n        render={(record) => (record[props.source] ? \"Yes\" : \"No\")}\n      />\n    ),\n    representation: (props: any) =>\n      `<RecordField source=\"${props.source}\" render={record => record[${props.source}] ? 'Yes' : 'No'} />`,\n  },\n  date: {\n    component: (props: any) => (\n      <RecordField source={props.source}>\n        <DateField source={props.source} />\n      </RecordField>\n    ),\n    representation: (props: any) =>\n      `<RecordField source=\"${props.source}\">\n                <DateField source=\"${props.source}\" />\n            </RecordField>`,\n  },\n  number: {\n    component: (props: any) => (\n      <RecordField source={props.source}>\n        <NumberField source={props.source} />\n      </RecordField>\n    ),\n    representation: (props: any) =>\n      `<RecordField source=\"${props.source}\">\n                <NumberField source=\"${props.source}\" />\n            </RecordField>`,\n  },\n  string: {\n    component: (props: any) => <RecordField source={props.source} />,\n    representation: (props: any) => `<RecordField source=\"${props.source}\" />`,\n  },\n};\n\nconst kebabCase = (name: string) => {\n  return name\n    .replace(/([a-z])([A-Z])/g, \"$1-$2\")\n    .replace(/([A-Z])([A-Z][a-z])/g, \"$1-$2\")\n    .toLowerCase();\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/simple-form.tsx",
      "content": "import * as React from \"react\";\nimport { Children, ReactNode } from \"react\";\nimport { Form, type FormProps } from \"ra-core\";\nimport { cn } from \"@/lib/utils\";\nimport { CancelButton } from \"@/components/admin/cancel-button\";\nimport { SaveButton } from \"@/components/admin/form\";\n\nexport const SimpleForm = ({\n  children,\n  className,\n  toolbar = defaultFormToolbar,\n  ...rest\n}: {\n  children: ReactNode;\n  className?: string;\n  toolbar?: ReactNode;\n} & FormProps) => (\n  <Form\n    className={cn(`flex flex-col gap-4 w-full max-w-lg`, className)}\n    {...rest}\n  >\n    {children}\n    {toolbar}\n  </Form>\n);\n\nexport const FormToolbar = ({\n  children,\n  className,\n  ...rest\n}: FormToolbarProps) => (\n  <div\n    {...rest}\n    className={cn(\n      \"sticky pt-4 pb-4 md:block md:pt-2 md:pb-0 bottom-0 bg-linear-to-b from-transparent to-background to-10%\",\n      className,\n    )}\n    role=\"toolbar\"\n  >\n    {Children.count(children) === 0 ? (\n      <div className=\"flex flex-row gap-2 justify-end\">\n        <CancelButton />\n        <SaveButton />\n      </div>\n    ) : (\n      children\n    )}\n  </div>\n);\n\nexport interface FormToolbarProps extends React.HTMLAttributes<HTMLDivElement> {\n  children?: ReactNode;\n  className?: string;\n}\n\nconst defaultFormToolbar = <FormToolbar />;\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/simple-form-iterator.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport get from \"lodash/get\";\nimport {\n  FormDataConsumer,\n  type RaRecord,\n  RecordContextProvider,\n  SourceContextProvider,\n  useRecordContext,\n  useResourceContext,\n  useSourceContext,\n  useTranslate,\n  useWrappedSource,\n} from \"ra-core\";\nimport * as React from \"react\";\nimport {\n  Children,\n  type ReactElement,\n  ReactNode,\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\nimport { type UseFieldArrayReturn, useFormContext } from \"react-hook-form\";\nimport {\n  ArrowDownCircle,\n  ArrowUpCircle,\n  PlusCircle,\n  Trash,\n  XCircle,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport {\n  ArrayInputContextValue,\n  useArrayInput,\n} from \"@/hooks/array-input-context\";\nimport {\n  SimpleFormIteratorContext,\n  useSimpleFormIterator,\n  SimpleFormIteratorItemContext,\n  SimpleFormIteratorItemContextValue,\n  useSimpleFormIteratorItem,\n} from \"@/hooks/simple-form-iterator-context\";\nimport { Confirm } from \"@/components/admin/confirm\";\nimport { IconButtonWithTooltip } from \"@/components/admin/icon-button-with-tooltip.tsx\";\n\ntype GetItemLabelFunc = (index: number) => string | ReactElement;\n\nexport const SimpleFormIterator = (props: SimpleFormIteratorProps) => {\n  const {\n    addButton = defaultAddItemButton,\n    removeButton,\n    reOrderButtons,\n    children,\n    className,\n    resource,\n    disabled,\n    disableAdd = false,\n    disableClear,\n    disableRemove = false,\n    disableReordering,\n    inline,\n    getItemLabel = false,\n  } = props;\n\n  const finalSource = useWrappedSource(\"\");\n  if (!finalSource) {\n    throw new Error(\n      \"SimpleFormIterator can only be called within an iterator input like ArrayInput\",\n    );\n  }\n\n  const [confirmIsOpen, setConfirmIsOpen] = useState<boolean>(false);\n  const { append, fields, move, remove, replace } = useArrayInput(props);\n  const { trigger, getValues } = useFormContext();\n  const translate = useTranslate();\n  const record = useRecordContext(props);\n  const initialDefaultValue = useRef({});\n\n  const removeField = useCallback(\n    (index: number) => {\n      remove(index);\n      const isScalarArray = getValues(finalSource).every(\n        (value: any) => typeof value !== \"object\",\n      );\n      if (isScalarArray) {\n        // Trigger validation on the Array to avoid ghost errors.\n        // Otherwise, validation errors on removed fields might still be displayed\n        trigger(finalSource);\n      }\n    },\n    [remove, trigger, finalSource, getValues],\n  );\n\n  if (fields.length > 0) {\n    const { id: _id, ...rest } = fields[0];\n    initialDefaultValue.current = rest;\n    for (const k in initialDefaultValue.current) {\n      // @ts-expect-error: reset fields\n      initialDefaultValue.current[k] = null;\n    }\n  }\n\n  const addField = useCallback(\n    (item: any = undefined) => {\n      let defaultValue = item;\n      if (item == null) {\n        defaultValue = initialDefaultValue.current;\n        if (\n          Children.count(children) === 1 &&\n          React.isValidElement(Children.only(children)) &&\n          // @ts-expect-error: Check if the child has a source prop\n          !Children.only(children).props.source &&\n          // Make sure it's not a FormDataConsumer\n          // @ts-expect-error: Check if the child is a FormDataConsumer\n          Children.only(children).type !== FormDataConsumer\n        ) {\n          // ArrayInput used for an array of scalar values\n          // (e.g. tags: ['foo', 'bar'])\n          defaultValue = \"\";\n        } else {\n          // ArrayInput used for an array of objects\n          // (e.g. authors: [{ firstName: 'John', lastName: 'Doe' }, { firstName: 'Jane', lastName: 'Doe' }])\n          defaultValue = defaultValue || ({} as Record<string, unknown>);\n          Children.forEach(children, (input) => {\n            if (\n              React.isValidElement(input) &&\n              input.type !== FormDataConsumer &&\n              // @ts-expect-error: Check if the child has a source prop\n              input.props.source\n            ) {\n              // @ts-expect-error: Check if the child has a source prop\n              defaultValue[input.props.source] =\n                // @ts-expect-error: Check if the child has a source prop\n                input.props.defaultValue ?? null;\n            }\n          });\n        }\n      }\n      append(defaultValue);\n    },\n    [append, children],\n  );\n\n  const handleReorder = useCallback(\n    (origin: number, destination: number) => {\n      move(origin, destination);\n    },\n    [move],\n  );\n\n  const handleArrayClear = useCallback(() => {\n    replace([]);\n    setConfirmIsOpen(false);\n  }, [replace]);\n\n  const records = get(record, finalSource);\n\n  const context = useMemo(\n    () => ({\n      total: fields.length,\n      add: addField,\n      remove: removeField,\n      reOrder: handleReorder,\n      source: finalSource,\n    }),\n    [addField, fields.length, handleReorder, removeField, finalSource],\n  );\n  return fields ? (\n    <SimpleFormIteratorContext.Provider value={context}>\n      <div className={cn(\"w-full\", disabled && \"disabled\", className)}>\n        <ul className=\"p-0 m-0 flex flex-col gap-2\">\n          {fields.map((member, index) => (\n            <SimpleFormIteratorItem\n              key={member.id}\n              disabled={disabled}\n              disableRemove={disableRemove}\n              disableReordering={disableReordering}\n              fields={fields}\n              getItemLabel={getItemLabel}\n              index={index}\n              onRemoveField={removeField}\n              onReorder={handleReorder}\n              record={(records && records[index]) || {}}\n              removeButton={removeButton}\n              reOrderButtons={reOrderButtons}\n              resource={resource}\n              inline={inline}\n            >\n              {children}\n            </SimpleFormIteratorItem>\n          ))}\n        </ul>\n        {!disabled && !(disableAdd && (disableClear || disableRemove)) && (\n          <div className=\"flex flex-row items-center gap-2\">\n            {!disableAdd && addButton}\n            {fields.length > 0 && !disableClear && !disableRemove && (\n              <>\n                <Confirm\n                  isOpen={confirmIsOpen}\n                  title={translate(\"ra.action.clear_array_input\")}\n                  content={translate(\"ra.message.clear_array_input\")}\n                  onConfirm={handleArrayClear}\n                  onClose={() => setConfirmIsOpen(false)}\n                />\n                <ClearArrayButton onClick={() => setConfirmIsOpen(true)} />\n              </>\n            )}\n          </div>\n        )}\n      </div>\n    </SimpleFormIteratorContext.Provider>\n  ) : null;\n};\n\nexport interface SimpleFormIteratorProps extends Partial<UseFieldArrayReturn> {\n  addButton?: ReactElement;\n  children?: ReactElement | ReactElement[];\n  className?: string;\n  readOnly?: boolean;\n  disabled?: boolean;\n  disableAdd?: boolean;\n  disableClear?: boolean;\n  disableRemove?: boolean | DisableRemoveFunction;\n  disableReordering?: boolean;\n  fullWidth?: boolean;\n  getItemLabel?: boolean | GetItemLabelFunc;\n  inline?: boolean;\n  meta?: {\n    // the type defined in FieldArrayRenderProps says error is boolean, which is wrong.\n    error?: any;\n    submitFailed?: boolean;\n  };\n  record?: RaRecord;\n  removeButton?: ReactElement;\n  reOrderButtons?: ReactElement;\n  resource?: string;\n  source?: string;\n}\n\nexport const SimpleFormIteratorItem = React.forwardRef(\n  (\n    props: SimpleFormIteratorItemProps,\n    ref: React.ForwardedRef<HTMLLIElement>,\n  ) => {\n    const {\n      children,\n      disabled,\n      disableReordering,\n      disableRemove,\n      getItemLabel,\n      index,\n      inline,\n      record,\n      removeButton = defaultRemoveItemButton,\n      reOrderButtons = defaultReOrderButtons,\n    } = props;\n    const resource = useResourceContext(props);\n    if (!resource) {\n      throw new Error(\n        \"SimpleFormIteratorItem must be used in a ResourceContextProvider or be passed a resource prop.\",\n      );\n    }\n    const { total, reOrder, remove } = useSimpleFormIterator();\n    // Returns a boolean to indicate whether to disable the remove button for certain fields.\n    // If disableRemove is a function, then call the function with the current record to\n    // determining if the button should be disabled. Otherwise, use a boolean property that\n    // enables or disables the button for all of the fields.\n    const disableRemoveField = (record: RaRecord) => {\n      if (typeof disableRemove === \"boolean\") {\n        return disableRemove;\n      }\n      return disableRemove && disableRemove(record);\n    };\n\n    const context = useMemo<SimpleFormIteratorItemContextValue>(\n      () => ({\n        index,\n        total,\n        reOrder: (newIndex) => reOrder(index, newIndex),\n        remove: () => remove(index),\n      }),\n      [index, total, reOrder, remove],\n    );\n\n    const label =\n      typeof getItemLabel === \"function\" ? getItemLabel(index) : getItemLabel;\n\n    const parentSourceContext = useSourceContext();\n    const sourceContext = useMemo(\n      () => ({\n        getSource: (source: string) => {\n          if (!source) {\n            // source can be empty for scalar values, e.g.\n            // <ArrayInput source=\"tags\" /> => SourceContext is \"tags\"\n            //   <SimpleFormIterator> => SourceContext is \"tags.0\"\n            //      <TextInput /> => use its parent's getSource so finalSource = \"tags.0\"\n            //   </SimpleFormIterator>\n            // </ArrayInput>\n            return parentSourceContext.getSource(`${index}`);\n          } else {\n            // Normal input with source, e.g.\n            // <ArrayInput source=\"orders\" /> => SourceContext is \"orders\"\n            //   <SimpleFormIterator> => SourceContext is \"orders.0\"\n            //      <DateInput source=\"date\" /> => use its parent's getSource so finalSource = \"orders.0.date\"\n            //   </SimpleFormIterator>\n            // </ArrayInput>\n            return parentSourceContext.getSource(`${index}.${source}`);\n          }\n        },\n        getLabel: (source: string) => {\n          // <ArrayInput source=\"orders\" /> => LabelContext is \"orders\"\n          //   <SimpleFormIterator> => LabelContext is ALSO \"orders\"\n          //      <DateInput source=\"date\" /> => use its parent's getLabel so finalLabel = \"orders.date\"\n          //   </SimpleFormIterator>\n          // </ArrayInput>\n          //\n          // we don't prefix with the index to avoid that translation keys contain it\n          return parentSourceContext.getLabel(source);\n        },\n      }),\n      [index, parentSourceContext],\n    );\n\n    return (\n      <SimpleFormIteratorItemContext.Provider value={context}>\n        <li\n          ref={ref}\n          className={cn(\n            \"flex flex-row items-start justify-between gap-2 pb-2 border-b border-border last:border-b-0\",\n            // Align the buttons with the input\n            \"[&:has(label)>.simple-form-iterator-item-actions]:pt-10\",\n          )}\n        >\n          {label != null && label !== false && (\n            <p className=\"text-sm text-muted-foreground mb-2\">{label}</p>\n          )}\n          <SourceContextProvider value={sourceContext}>\n            <RecordContextProvider value={record}>\n              <div\n                className={cn(\n                  \"flex flex-1 gap-2\",\n                  inline ? \"flex-col sm:flex-row gap-2\" : \"flex-col\",\n                )}\n              >\n                {children}\n              </div>\n            </RecordContextProvider>\n          </SourceContextProvider>\n          {!disabled && (\n            <div className=\"simple-form-iterator-item-actions flex flex-row h-9 items-center gap-1\">\n              {!disableReordering && reOrderButtons}\n              {!disableRemoveField(record) && removeButton}\n            </div>\n          )}\n        </li>\n      </SimpleFormIteratorItemContext.Provider>\n    );\n  },\n);\n\nexport type DisableRemoveFunction = (record: RaRecord) => boolean;\n\nexport type SimpleFormIteratorItemProps = Partial<ArrayInputContextValue> & {\n  children?: ReactNode;\n  disabled?: boolean;\n  disableRemove?: boolean | DisableRemoveFunction;\n  disableReordering?: boolean;\n  getItemLabel?: boolean | GetItemLabelFunc;\n  index: number;\n  inline?: boolean;\n  onRemoveField: (index: number) => void;\n  onReorder: (origin: number, destination: number) => void;\n  record: RaRecord;\n  removeButton?: ReactElement;\n  reOrderButtons?: ReactElement;\n  resource?: string;\n  source?: string;\n};\n\nexport const AddItemButton = (props: React.ComponentProps<\"button\">) => {\n  const { add, source } = useSimpleFormIterator();\n  const { className, ...rest } = props;\n  const translate = useTranslate();\n  return (\n    <TooltipProvider>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => add()}\n            className={cn(\"button-add\", `button-add-${source}`, className)}\n            {...rest}\n          >\n            <PlusCircle className=\"h-5 w-5\" />\n          </Button>\n        </TooltipTrigger>\n        <TooltipContent>{translate(\"ra.action.add\")}</TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  );\n};\n\nexport const ReOrderButtons = ({ className }: { className?: string }) => {\n  const { index, total, reOrder } = useSimpleFormIteratorItem();\n  const { source } = useSimpleFormIterator();\n\n  return (\n    <span\n      className={cn(\n        \"button-reorder\",\n        `button-reorder-${source}-${index}`,\n        className,\n      )}\n    >\n      <IconButtonWithTooltip\n        label=\"ra.action.move_up\"\n        onClick={() => reOrder(index - 1)}\n        disabled={index <= 0}\n      >\n        <ArrowUpCircle className=\"h-4 w-4\" />\n      </IconButtonWithTooltip>\n      <IconButtonWithTooltip\n        label=\"ra.action.move_down\"\n        onClick={() => reOrder(index + 1)}\n        disabled={total == null || index >= total - 1}\n      >\n        <ArrowDownCircle className=\"h-4 w-4\" />\n      </IconButtonWithTooltip>\n    </span>\n  );\n};\n\nexport const ClearArrayButton = (props: React.ComponentProps<\"button\">) => {\n  const translate = useTranslate();\n  return (\n    <TooltipProvider>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <Button type=\"button\" variant=\"ghost\" size=\"icon\" {...props}>\n            <Trash className=\"h-5 w-5 text-red-500\" />\n          </Button>\n        </TooltipTrigger>\n        <TooltipContent>\n          {translate(\"ra.action.clear_array_input\")}\n        </TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  );\n};\n\nexport const RemoveItemButton = (props: React.ComponentProps<\"button\">) => {\n  const { remove, index } = useSimpleFormIteratorItem();\n  const { source } = useSimpleFormIterator();\n  const { className, ...rest } = props;\n  const translate = useTranslate();\n\n  return (\n    <TooltipProvider>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => remove()}\n            className={cn(\n              \"button-remove\",\n              `button-remove-${source}-${index}`,\n              className,\n            )}\n            {...rest}\n          >\n            <XCircle className=\"h-5 w-5 text-red-500\" />\n          </Button>\n        </TooltipTrigger>\n        <TooltipContent>{translate(\"ra.action.remove\")}</TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  );\n};\n\nconst defaultAddItemButton = <AddItemButton />;\nconst defaultRemoveItemButton = <RemoveItemButton />;\nconst defaultReOrderButtons = <ReOrderButtons />;\n",
      "type": "registry:component"
    },
    {
      "path": "src/hooks/simple-form-iterator-context.tsx",
      "content": "import { createContext, useContext } from \"react\";\n\n/**\n * A React context that provides access to a SimpleFormIterator data (the total number of items) and mutators (add, reorder and remove).\n * Useful to create custom array input iterators.\n * @deprecated Use SimpleFormIteratorContext from `ra-core` once available.\n * @see {SimpleFormIterator}\n * @see {ArrayInput}\n */\nexport const SimpleFormIteratorContext = createContext<\n  SimpleFormIteratorContextValue | undefined\n>(undefined);\n\n/**\n * @deprecated Use SimpleFormIteratorContextValue from `ra-core` once available.\n */\nexport type SimpleFormIteratorContextValue = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  add: (item?: any) => void;\n  remove: (index: number) => void;\n  reOrder: (index: number, newIndex: number) => void;\n  source: string;\n  total: number;\n};\n\n/**\n * @deprecated Use useSimpleFormIterator from `ra-core` once available.\n */\nexport const useSimpleFormIterator = () => {\n  const context = useContext(SimpleFormIteratorContext);\n  if (!context) {\n    throw new Error(\n      \"useSimpleFormIterator must be used inside a SimpleFormIterator\",\n    );\n  }\n  return context;\n};\n\n/**\n * A React context that provides access to a SimpleFormIterator item meta (its index and the total number of items) and mutators (reorder and remove this remove).\n * Useful to create custom array input iterators.\n * @deprecated Use SimpleFormIteratorItemContext from `ra-core` once available.\n * @see {SimpleFormIterator}\n * @see {ArrayInput}\n */\nexport const SimpleFormIteratorItemContext = createContext<\n  SimpleFormIteratorItemContextValue | undefined\n>(undefined);\n\n/**\n * @deprecated Use SimpleFormIteratorItemContextValue from `ra-core` once available.\n */\nexport type SimpleFormIteratorItemContextValue = {\n  index: number;\n  total: number;\n  remove: () => void;\n  reOrder: (newIndex: number) => void;\n};\n\n/**\n * @deprecated Use useSimpleFormIteratorItem from `ra-core` once available.\n */\nexport const useSimpleFormIteratorItem = () => {\n  const context = useContext(SimpleFormIteratorItemContext);\n  if (!context) {\n    throw new Error(\n      \"useSimpleFormIteratorItem must be used inside a SimpleFormIteratorItem\",\n    );\n  }\n  return context;\n};\n",
      "type": "registry:hook"
    },
    {
      "path": "src/components/admin/simple-show-layout.tsx",
      "content": "import { ReactNode } from \"react\";\n\n/**\n * @deprecated Use a simple div with flex and flex-col instead\n */\nexport const SimpleShowLayout = ({ children }: { children: ReactNode }) => (\n  <div className=\"flex flex-col gap-4\">{children}</div>\n);\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/single-field-list.tsx",
      "content": "import {\n  RecordContextProvider,\n  RecordRepresentation,\n  useListContext,\n} from \"ra-core\";\nimport { Badge } from \"@/components/ui/badge\";\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const SingleFieldList = <RecordType = any,>({\n  children,\n  render,\n  className,\n}: {\n  children?: React.ReactNode;\n  render?: (record: RecordType, index: number) => React.ReactNode;\n  className?: string;\n}) => {\n  const { data } = useListContext();\n\n  return (\n    <div className={`flex gap-2 ${className}`}>\n      {data?.map((record, index) => (\n        <RecordContextProvider key={index} value={record}>\n          {render ? render(record, index) : children || <DefaultChildren />}\n        </RecordContextProvider>\n      ))}\n    </div>\n  );\n};\n\nconst DefaultChildren = () => (\n  <Badge variant=\"outline\">\n    <RecordRepresentation />\n  </Badge>\n);\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/sort-button.tsx",
      "content": "import * as React from \"react\";\nimport { memo } from \"react\";\nimport { ArrowUpDown, ChevronDown } from \"lucide-react\";\nimport {\n  shallowEqual,\n  useListSortContext,\n  useTranslate,\n  useTranslateLabel,\n} from \"ra-core\";\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\ntype ButtonProps = React.ComponentProps<typeof Button>;\n\nconst SortButtonComponent = (props: SortButtonProps) => {\n  const {\n    fields,\n    label = \"ra.sort.sort_by\",\n    icon = defaultIcon,\n    resource: resourceProp,\n    ...rest\n  } = props;\n  const { resource: resourceFromContext, sort, setSort } = useListSortContext();\n  const resource = resourceProp || resourceFromContext;\n  const translate = useTranslate();\n  const translateLabel = useTranslateLabel();\n  const isMobile = useIsMobile();\n  const [open, setOpen] = React.useState(false);\n\n  const handleChangeSort = (field: string) => {\n    setSort({\n      field,\n      order: field === sort.field ? inverseOrder(sort.order) : \"ASC\",\n    });\n    setOpen(false);\n  };\n\n  const fieldLabel = translateLabel({\n    resource,\n    source: sort.field,\n  });\n  const buttonLabel = translate(label, {\n    field: fieldLabel,\n    field_lower_first:\n      typeof fieldLabel === \"string\"\n        ? fieldLabel.charAt(0).toLowerCase() + fieldLabel.slice(1)\n        : undefined,\n    order: translate(`ra.sort.${sort.order}`),\n    _: label,\n  });\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen}>\n      {isMobile ? (\n        <TooltipProvider>\n          <Tooltip>\n            <DropdownMenuTrigger asChild>\n              <TooltipTrigger asChild>\n                <Button\n                  variant=\"outline\"\n                  size=\"icon\"\n                  aria-label={buttonLabel}\n                  {...rest}\n                >\n                  {icon}\n                </Button>\n              </TooltipTrigger>\n            </DropdownMenuTrigger>\n            <TooltipContent>\n              <p>{buttonLabel}</p>\n            </TooltipContent>\n          </Tooltip>\n        </TooltipProvider>\n      ) : (\n        <DropdownMenuTrigger asChild>\n          <Button variant=\"outline\" size=\"sm\" className=\"h-9\" {...rest}>\n            {icon}\n            <span className=\"ml-2\">{buttonLabel}</span>\n            <ChevronDown className=\"ml-2 h-4 w-4\" />\n          </Button>\n        </DropdownMenuTrigger>\n      )}\n      <DropdownMenuContent align=\"start\">\n        {fields.map((field) => (\n          <DropdownMenuItem key={field} onClick={() => handleChangeSort(field)}>\n            {translateLabel({\n              resource,\n              source: field,\n            })}{\" \"}\n            {translate(\n              `ra.sort.${\n                sort.field === field ? inverseOrder(sort.order) : \"ASC\"\n              }`,\n            )}\n          </DropdownMenuItem>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n};\n\nconst defaultIcon = <ArrowUpDown className=\"h-4 w-4\" />;\n\nconst inverseOrder = (sort: string) => (sort === \"ASC\" ? \"DESC\" : \"ASC\");\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst arePropsEqual = (prevProps: any, nextProps: any) =>\n  shallowEqual(prevProps.fields, nextProps.fields);\n\nexport interface SortButtonProps extends ButtonProps {\n  fields: string[];\n  icon?: React.ReactNode;\n  label?: string;\n  resource?: string;\n}\n\nexport const SortButton = memo(SortButtonComponent, arePropsEqual);\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/text-field.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { HTMLAttributes } from \"react\";\nimport { useFieldValue, useTranslate } from \"ra-core\";\nimport { FieldProps } from \"@/lib/field.type.ts\";\n\nexport const TextField = <\n  RecordType extends Record<string, any> = Record<string, any>,\n>({\n  defaultValue,\n  source,\n  record,\n  empty,\n  ...rest\n}: TextFieldProps<RecordType>) => {\n  const value = useFieldValue({ defaultValue, source, record });\n  const translate = useTranslate();\n\n  if (value == null) {\n    if (!empty) {\n      return null;\n    }\n\n    return (\n      <span {...rest}>\n        {typeof empty === \"string\" ? translate(empty, { _: empty }) : empty}\n      </span>\n    );\n  }\n\n  return (\n    <span {...rest}>\n      {typeof value !== \"string\" ? value.toString() : value}\n    </span>\n  );\n};\n\nexport interface TextFieldProps<\n  RecordType extends Record<string, any> = Record<string, any>,\n> extends FieldProps<RecordType>,\n    HTMLAttributes<HTMLSpanElement> {}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/text-input.tsx",
      "content": "import {\n  type InputProps,\n  useInput,\n  useResourceContext,\n  FieldTitle,\n} from \"ra-core\";\nimport {\n  FormControl,\n  FormError,\n  FormField,\n  FormLabel,\n} from \"@/components/admin/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { InputHelperText } from \"@/components/admin/input-helper-text\";\n\nexport type TextInputProps = InputProps & {\n  multiline?: boolean;\n} & React.ComponentProps<\"textarea\"> &\n  React.ComponentProps<\"input\">;\n\nexport const TextInput = (props: TextInputProps) => {\n  const resource = useResourceContext(props);\n  const {\n    label,\n    source,\n    multiline,\n    className,\n    validate: _validateProp,\n    format: _formatProp,\n    ...rest\n  } = props;\n  const { id, field, isRequired } = useInput(props);\n\n  return (\n    <FormField id={id} className={className} name={field.name}>\n      {label !== false && (\n        <FormLabel>\n          <FieldTitle\n            label={label}\n            source={source}\n            resource={resource}\n            isRequired={isRequired}\n          />\n        </FormLabel>\n      )}\n      <FormControl>\n        {multiline ? (\n          <Textarea {...rest} {...field} />\n        ) : (\n          <Input {...rest} {...field} />\n        )}\n      </FormControl>\n      <InputHelperText helperText={props.helperText} />\n      <FormError />\n    </FormField>\n  );\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/theme-mode-toggle.tsx",
      "content": "import { Check, Moon, Sun } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { cn } from \"@/lib/utils\";\nimport { useTheme } from \"@/components/admin/theme-provider\";\n\nexport function ThemeModeToggle() {\n  const { theme, setTheme } = useTheme();\n\n  return (\n    <DropdownMenu modal={false}>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"ghost\" size=\"icon\" className=\"hidden sm:inline-flex\">\n          <Sun className=\"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n          <Moon className=\"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n          <span className=\"sr-only\">Toggle theme</span>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        <DropdownMenuItem onClick={() => setTheme(\"light\")}>\n          Light\n          <Check className={cn(\"ml-auto\", theme !== \"light\" && \"hidden\")} />\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"dark\")}>\n          Dark\n          <Check className={cn(\"ml-auto\", theme !== \"dark\" && \"hidden\")} />\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"system\")}>\n          System\n          <Check className={cn(\"ml-auto\", theme !== \"system\" && \"hidden\")} />\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/theme-provider.tsx",
      "content": "import { createContext, useContext, useEffect } from \"react\";\nimport { useStore } from \"ra-core\";\n\ntype Theme = \"dark\" | \"light\" | \"system\";\n\ntype ThemeProviderProps = {\n  children: React.ReactNode;\n  defaultTheme?: Theme;\n  storageKey?: string;\n};\n\ntype ThemeProviderState = {\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n};\n\nconst initialState: ThemeProviderState = {\n  theme: \"system\",\n  setTheme: () => null,\n};\n\nconst ThemeProviderContext = createContext<ThemeProviderState>(initialState);\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = \"system\",\n  storageKey = \"theme\",\n  ...props\n}: ThemeProviderProps) {\n  const [theme, setTheme] = useStore<Theme>(storageKey, defaultTheme);\n\n  useEffect(() => {\n    const root = window.document.documentElement;\n\n    root.classList.remove(\"light\", \"dark\");\n\n    if (theme === \"system\") {\n      const systemTheme = window.matchMedia(\"(prefers-color-scheme: dark)\")\n        .matches\n        ? \"dark\"\n        : \"light\";\n\n      root.classList.add(systemTheme);\n      return;\n    }\n\n    root.classList.add(theme);\n  }, [theme]);\n\n  const value = {\n    theme,\n    setTheme,\n  };\n\n  return (\n    <ThemeProviderContext.Provider {...props} value={value}>\n      {children}\n    </ThemeProviderContext.Provider>\n  );\n}\n\nexport const useTheme = () => {\n  const context = useContext(ThemeProviderContext);\n\n  if (context === undefined)\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n\n  return context;\n};\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/toggle-filter-button.tsx",
      "content": "/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { useListContext, useTranslate } from \"ra-core\";\nimport matches from \"lodash/matches\";\nimport pickBy from \"lodash/pickBy\";\nimport { CircleX } from \"lucide-react\";\n\nexport const ToggleFilterButton = ({\n  label,\n  size = \"sm\",\n  value,\n  className,\n}: {\n  label: React.ReactElement | string;\n  value: any;\n  className?: string;\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\" | null | undefined;\n}) => {\n  const { filterValues, setFilters } = useListContext();\n  const translate = useTranslate();\n  const isSelected = getIsSelected(value, filterValues);\n  const handleClick = () => setFilters(toggleFilter(value, filterValues));\n  return (\n    <Button\n      variant={isSelected ? \"secondary\" : \"ghost\"}\n      onClick={handleClick}\n      className={cn(\n        \"cursor-pointer\",\n        \"flex flex-row items-center justify-between gap-2 px-2.5 w-full\",\n        className,\n      )}\n      size={size}\n    >\n      {typeof label === \"string\" ? translate(label, { _: label }) : label}\n      {isSelected && <CircleX className=\"opacity-50\" />}\n    </Button>\n  );\n};\n\nconst toggleFilter = (value: any, filters: any) => {\n  const isSelected = matches(\n    pickBy(value, (val) => typeof val !== \"undefined\"),\n  )(filters);\n\n  if (isSelected) {\n    const keysToRemove = Object.keys(value);\n    return Object.keys(filters).reduce(\n      (acc, key) =>\n        keysToRemove.includes(key) ? acc : { ...acc, [key]: filters[key] },\n      {},\n    );\n  }\n\n  return { ...filters, ...value };\n};\n\nconst getIsSelected = (value: any, filters: any) =>\n  matches(pickBy(value, (val) => typeof val !== \"undefined\"))(filters);\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/url-field.tsx",
      "content": "import { useFieldValue, useTranslate } from \"ra-core\";\nimport React, { AnchorHTMLAttributes } from \"react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { genericMemo } from \"@/lib/genericMemo\";\nimport { FieldProps } from \"@/lib/field.type.ts\";\n\nconst UrlFieldImpl = <\n  //eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RecordType extends Record<string, any> = Record<string, any>,\n>(\n  inProps: UrlFieldProps<RecordType>,\n) => {\n  const {\n    empty,\n    className,\n    defaultValue,\n    source,\n    record,\n    resource: _,\n    ...rest\n  } = inProps;\n  const value = useFieldValue({ defaultValue, source, record });\n  const translate = useTranslate();\n\n  if (value == null) {\n    if (!empty) {\n      return null;\n    }\n\n    return (\n      <span className={className} {...rest}>\n        {typeof empty === \"string\" ? translate(empty, { _: empty }) : empty}\n      </span>\n    );\n  }\n\n  return (\n    <a\n      className={cn(\"underline hover:no-underline\", className)}\n      href={value}\n      onClick={stopPropagation}\n      {...rest}\n    >\n      {value}\n    </a>\n  );\n};\nUrlFieldImpl.displayName = \"UrlFieldImpl\";\n\nexport const UrlField = genericMemo(UrlFieldImpl);\n\nexport interface UrlFieldProps<\n  //eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RecordType extends Record<string, any> = Record<string, any>,\n> extends FieldProps<RecordType>,\n    AnchorHTMLAttributes<HTMLAnchorElement> {}\n\n// useful to prevent click bubbling in a DataTable with rowClick\nconst stopPropagation = (e: React.MouseEvent<HTMLAnchorElement>) =>\n  e.stopPropagation();\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/user-menu.tsx",
      "content": "import { Children, useCallback, useState } from \"react\";\nimport { Translate, useAuthProvider, useGetIdentity, useLogout } from \"ra-core\";\nimport { LogOut } from \"lucide-react\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport { UserMenuContext } from \"@/hooks/user-menu-context.tsx\";\n\nexport type UserMenuProps = {\n  children?: React.ReactNode;\n};\n\nexport function UserMenu({ children }: UserMenuProps) {\n  const authProvider = useAuthProvider();\n  const { data: identity } = useGetIdentity();\n  const logout = useLogout();\n\n  const [open, setOpen] = useState(false);\n\n  const handleToggleOpen = useCallback(() => {\n    setOpen((prevOpen) => !prevOpen);\n  }, []);\n\n  const handleClose = useCallback(() => {\n    setOpen(false);\n  }, []);\n\n  if (!authProvider) return null;\n\n  return (\n    <UserMenuContext.Provider value={{ onClose: handleClose }}>\n      <DropdownMenu open={open} onOpenChange={handleToggleOpen}>\n        <DropdownMenuTrigger asChild>\n          <Button\n            variant=\"ghost\"\n            className=\"relative h-8 w-8 ml-2 rounded-full\"\n          >\n            <Avatar className=\"h-8 w-8\">\n              <AvatarImage src={identity?.avatar} role=\"presentation\" />\n              <AvatarFallback>{identity?.fullName?.charAt(0)}</AvatarFallback>\n            </Avatar>\n          </Button>\n        </DropdownMenuTrigger>\n        <DropdownMenuContent className=\"w-56\" align=\"end\" forceMount>\n          <DropdownMenuLabel className=\"font-normal\">\n            <div className=\"flex flex-col space-y-1\">\n              <p className=\"text-sm font-medium leading-none\">\n                {identity?.fullName}\n              </p>\n            </div>\n          </DropdownMenuLabel>\n          <DropdownMenuSeparator />\n          {children}\n          {Children.count(children) > 0 && <DropdownMenuSeparator />}\n          <DropdownMenuItem onClick={() => logout()} className=\"cursor-pointer\">\n            <LogOut />\n            <Translate i18nKey=\"ra.auth.logout\">Log out</Translate>\n          </DropdownMenuItem>\n        </DropdownMenuContent>\n      </DropdownMenu>\n    </UserMenuContext.Provider>\n  );\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/hooks/user-menu-context.tsx",
      "content": "import { createContext, useContext } from \"react\";\n\n/**\n * @deprecated Use UserMenuContextValue from `ra-core` once available.\n */\nexport type UserMenuContextValue = {\n  /**\n   * Closes the user menu\n   * @see UserMenu\n   */\n  onClose: () => void;\n};\n\n/**\n * @deprecated Use UserMenuContext from `ra-core` once available.\n */\nexport const UserMenuContext = createContext<UserMenuContextValue | undefined>(\n  undefined,\n);\n\n/**\n * @deprecated Use useUserMenu from `ra-core` once available.\n */\nexport const useUserMenu = () => useContext(UserMenuContext);\n",
      "type": "registry:hook"
    },
    {
      "path": "src/hooks/useSupportCreateSuggestion.tsx",
      "content": "import * as React from \"react\";\nimport {\n  ChangeEvent,\n  createContext,\n  isValidElement,\n  ReactElement,\n  useContext,\n  useRef,\n  useState,\n} from \"react\";\nimport { Identifier, OptionText, useTranslate } from \"ra-core\";\nimport set from \"lodash/set\";\n\n/**\n * This hook provides support for suggestion creation in inputs which have choices.\n *\n * @deprecated Use `useSupportCreateSuggestion` from \"ra-core\" when available.\n *\n * @param options The hook option\n * @param {ReactElement} options.create A react element which will be rendered when users choose to create a new choice. This component must call the `useCreateSuggestionContext` hook which provides `onCancel`, `onCreate` and `filter`. See the examples.\n * @param {React.ReactNode|string} options.createLabel Optional. The label for the choice item allowing users to create a new choice. Can be a translation key. Defaults to `ra.action.create`.\n * @param {React.ReactNode|string} options.createItemLabel Optional. The label for the choice item allowing users to create a new choice when they already entered a filter. Can be a translation key. The function and ttranslation will receive an `item` parameter. Providing this option will turn the create label when there is no filter to be a hint (i.e. a disabled item).\n * @param {any} options.createValue Optional. The value for the choice item allowing users to create a new choice. Defaults to `@@ra-create`.\n * @param {any} options.createHintValue Optional. The value for the (disabled) item hinting users on how to create a new choice. Defaults to `@@ra-create-hint`.\n * @param {String} options.filter Optional. The filter users may have already entered. Useful for autocomplete inputs for example.\n * @param {OnCreateHandler} options.onCreate Optional. A function which will be called when users choose to create a new choice, if the `create` option wasn't provided.\n * @param {Function} options.handleChange A function to pass to the input. Receives the same parameter as the original event handler and an additional newItem parameter if a new item was create.\n *\n * @returns {UseSupportCreateValue} An object with the following properties:\n * - getCreateItem: a function which will return the label of the choice for create a new choice.\n * - handleChange: a function which should be called when the input value changes. It will call the `onCreate` function if the value is the createValue.\n * - createElement: a React element to render after the input. It will be rendered when users choose to create a new choice. It renders null otherwise.\n * - getOptionDisabled: a function which should be passed to the input to disable the create choice when the filter is empty (to make it a hint).\n */\nexport const useSupportCreateSuggestion = <T = unknown,>(\n  options: SupportCreateSuggestionOptions<T>,\n): UseSupportCreateValue<T> => {\n  const {\n    create,\n    createLabel = \"ra.action.create\",\n    createItemLabel,\n    createValue = \"@@ra-create\",\n    createHintValue = \"@@ra-create-hint\",\n    optionText = \"name\",\n    filter,\n    handleChange,\n    onCreate,\n  } = options;\n\n  const translate = useTranslate();\n  const [renderOnCreate, setRenderOnCreate] = useState(false);\n  const filterRef = useRef(filter);\n\n  return {\n    createId: createValue,\n    createHintId: createHintValue,\n    getCreateItem: (filter?: string) => {\n      filterRef.current = filter;\n\n      return set(\n        {\n          id: createItemLabel && !filter ? createHintValue : createValue,\n        },\n        typeof optionText === \"string\" ? optionText : \"name\",\n        filter && createItemLabel\n          ? typeof createItemLabel === \"string\"\n            ? translate(createItemLabel, {\n                item: filter,\n                _: createItemLabel,\n              })\n            : createItemLabel(filter)\n          : typeof createLabel === \"string\"\n            ? translate(createLabel, { _: createLabel })\n            : createLabel,\n      );\n    },\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    handleChange: async (eventOrValue: MouseEvent | any) => {\n      const value = eventOrValue?.target?.value || eventOrValue;\n      const finalValue = Array.isArray(value) ? [...value].pop() : value;\n\n      if (finalValue?.id === createValue || finalValue === createValue) {\n        if (!isValidElement(create)) {\n          if (!onCreate) {\n            // this should never happen because the createValue is only added if a create function is provided\n            // @see AutocompleteInput:filterOptions\n            throw new Error(\n              \"To create a new option, you must pass an onCreate function or a create element.\",\n            );\n          }\n          const newSuggestion = await onCreate(filter);\n          if (newSuggestion) {\n            handleChange(newSuggestion);\n            return;\n          }\n        } else {\n          setRenderOnCreate(true);\n          return;\n        }\n      }\n      handleChange(eventOrValue);\n    },\n    createElement:\n      renderOnCreate && isValidElement(create) ? (\n        <CreateSuggestionContext.Provider\n          value={{\n            filter: filterRef.current,\n            onCancel: () => setRenderOnCreate(false),\n            onCreate: (item) => {\n              setRenderOnCreate(false);\n              handleChange(item as T);\n            },\n          }}\n        >\n          {create}\n        </CreateSuggestionContext.Provider>\n      ) : null,\n    getOptionDisabled: (option) =>\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (option as any)?.id === createHintValue || option === createHintValue,\n  };\n};\n\n/**\n * @deprecated Use `SupportCreateSuggestionOptions` from \"ra-core\" when available.\n */\nexport interface SupportCreateSuggestionOptions<T = unknown> {\n  create?: ReactElement;\n  createValue?: string;\n  createHintValue?: string;\n  createLabel?: React.ReactNode;\n  createItemLabel?: string | ((filter: string) => React.ReactNode);\n  filter?: string;\n  handleChange: (value: T) => void;\n  onCreate?: OnCreateHandler;\n  optionText?: OptionText;\n}\n\n/**\n * @deprecated Use `UseSupportCreateValue` from \"ra-core\" when available.\n */\nexport interface UseSupportCreateValue<T = unknown> {\n  createId: string;\n  createHintId: string;\n  getCreateItem: (filterValue?: string) => {\n    id: Identifier;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [key: string]: any;\n  };\n  handleChange: (eventOrValue: ChangeEvent | T) => Promise<void>;\n  createElement: ReactElement | null;\n  getOptionDisabled: (option: T) => boolean;\n}\n\n/**\n * @deprecated Use `CreateSuggestionContext` from \"ra-core\" when available.\n */\nconst CreateSuggestionContext = createContext<\n  CreateSuggestionContextValue | undefined\n>(undefined);\n\n/**\n * @deprecated Use `CreateSuggestionContextValue` from \"ra-core\" when available.\n */\ninterface CreateSuggestionContextValue<T = unknown> {\n  filter?: string;\n  onCreate: (choice: T) => void;\n  onCancel: () => void;\n}\n\n/**\n * @deprecated Use `useCreateSuggestionContext` from \"ra-core\" when available.\n */\nexport const useCreateSuggestionContext = () => {\n  const context = useContext(CreateSuggestionContext);\n  if (!context) {\n    throw new Error(\n      \"useCreateSuggestionContext must be used inside a CreateSuggestionContext.Provider\",\n    );\n  }\n  return context;\n};\n\n/**\n * @deprecated Use `OnCreateHandler` from \"ra-core\" when available.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type OnCreateHandler = (filter?: string) => any | Promise<any>;\n",
      "type": "registry:hook"
    },
    {
      "path": "src/components/admin/error.tsx",
      "content": "import type { FallbackProps } from \"react-error-boundary\";\n\nimport {\n  useDefaultTitle,\n  useResetErrorBoundaryOnLocationChange,\n  Translate,\n} from \"ra-core\";\nimport { CircleAlert, History } from \"lucide-react\";\nimport {\n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from \"@/components/ui/accordion\";\nimport { Button } from \"@/components/ui/button\";\nimport { HtmlHTMLAttributes } from \"react\";\nimport { ErrorInfo } from \"react\";\n\nexport const Error = (props: InternalErrorProps & {}) => {\n  const { error, errorInfo, resetErrorBoundary, ...rest } = props;\n\n  const title = useDefaultTitle();\n  useResetErrorBoundaryOnLocationChange(resetErrorBoundary);\n\n  return (\n    <>\n      {title && <span>{title}</span>}\n      <div className=\"flex flex-col items-center p-20 gap-5\" {...rest}>\n        <h1 className=\"flex items-center text-3xl mt-5 mb-5 gap-3\" role=\"alert\">\n          <CircleAlert className=\"w-2em h-2em\" />\n          <Translate i18nKey=\"ra.page.error\" />\n        </h1>\n        <div>\n          <Translate i18nKey=\"ra.message.error\" />\n        </div>\n        {process.env.NODE_ENV !== \"production\" && (\n          <>\n            <Accordion type=\"multiple\" className=\"mt-1 p-2 bg-secondary w-150\">\n              <AccordionItem value=\"error\">\n                <AccordionTrigger className=\"py-2\">\n                  <Translate i18nKey={error.message}>{error.message}</Translate>\n                </AccordionTrigger>\n                <AccordionContent className=\"whitespace-pre-wrap pt-1\">\n                  <p>{errorInfo?.componentStack}</p>\n                </AccordionContent>\n              </AccordionItem>\n            </Accordion>\n\n            <p className=\"text-center \">\n              Need help with this error? Try the following:\n            </p>\n            <div>\n              <ul className=\"list-disc\">\n                <li>\n                  Check the{\" \"}\n                  <a\n                    className=\"text-primary underline-offset-4 hover:underline\"\n                    href=\"https://marmelab.com/shadcn-admin-kit/docs\"\n                  >\n                    shadcn-admin-kit documentation\n                  </a>\n                </li>\n                <li>\n                  Search on{\" \"}\n                  <a\n                    className=\"text-primary underline-offset-4 hover:underline\"\n                    href=\"https://stackoverflow.com/questions/tagged/shadcn-admin-kit\"\n                  >\n                    StackOverflow\n                  </a>{\" \"}\n                  for community answers\n                </li>\n                <li>\n                  Get help from the core team via{\" \"}\n                  <a\n                    className=\"text-primary underline-offset-4 hover:underline\"\n                    href=\"https://marmelab.com/shadcn-admin-kit/\"\n                  >\n                    Shadcn Enterprise Edition\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </>\n        )}\n        <div className=\"mt-8\">\n          <Button onClick={goBack}>\n            <History />\n            <Translate i18nKey=\"ra.action.back\" />\n          </Button>\n        </div>\n      </div>\n    </>\n  );\n};\n\ninterface InternalErrorProps\n  extends Omit<HtmlHTMLAttributes<HTMLDivElement>, \"title\">,\n    FallbackProps {\n  className?: string;\n  errorInfo?: ErrorInfo;\n}\n\nexport interface ErrorProps extends Pick<FallbackProps, \"error\"> {\n  errorInfo?: ErrorInfo;\n}\n\nfunction goBack() {\n  window.history.go(-1);\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/components/admin/loading.tsx",
      "content": "import { Translate, useTimeout } from \"ra-core\";\nimport { Spinner } from \"./spinner\";\n\nexport const Loading = (props: LoadingProps) => {\n  const {\n    loadingPrimary = \"ra.page.loading\",\n    loadingSecondary = \"ra.message.loading\",\n    delay = 1000,\n    ...rest\n  } = props;\n  const oneSecondHasPassed = useTimeout(delay);\n  return oneSecondHasPassed ? (\n    <div\n      className={\"flex flex-col justify-center items-center h-full\"}\n      {...rest}\n    >\n      <div className={\"text-center font-sans color-muted pt-1 pb-1\"}>\n        <Spinner size=\"large\" className=\"width-9 height-9\" />\n        <h5 className=\"mt-3 text-2xl text-secondary-foreground\">\n          <Translate i18nKey={loadingPrimary}>{loadingPrimary}</Translate>\n        </h5>\n        <p className=\"text-primary\">\n          <Translate i18nKey={loadingSecondary}>{loadingSecondary}</Translate>\n        </p>\n      </div>\n    </div>\n  ) : null;\n};\n\nexport interface LoadingProps {\n  loadingPrimary?: string;\n  loadingSecondary?: string;\n  delay?: number;\n}\n",
      "type": "registry:component"
    },
    {
      "path": "src/lib/field.type.ts",
      "content": "import { BaseFieldProps } from \"ra-core\";\nimport { ReactNode } from \"react\";\n\nexport interface FieldProps<\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RecordType extends Record<string, any> = Record<string, any>,\n> extends Omit<BaseFieldProps<RecordType>, 'resource'> {\n  /**\n   * The component to display when the field value is empty. Defaults to empty string.\n   *\n   * @example\n   * const PostList = () => (\n   *     <List>\n   *         <DataTable>\n   *             <TextField source=\"title\" />\n   *             <TextField source=\"author\" empty=\"missing data\" />\n   *         </DataTable>\n   *     </List>\n   * );\n   */\n  empty?: ReactNode;\n}\n",
      "type": "registry:lib"
    },
    {
      "path": "src/lib/genericMemo.ts",
      "content": "import { FunctionComponent, memo } from \"react\";\n\n/**\n * A version of React.memo that preserves the original component type allowing it to accept generics.\n * See {@link https://stackoverflow.com/a/70890101}\n * @deprecated Use genericMemo from \"ra-core\" when available.\n */\nexport function genericMemo<T>(component: T): T {\n  const result = memo(component as FunctionComponent);\n\n  // We have to set the displayName on both the field implementation and the memoized version.\n  // On the implementation so that the memoized version can pick them up and users may reference the defaultProps in their components.\n  // On the memoized version so that components that inspect their children props may read them.\n  // @ts-expect-error: genericMemo does not have a displayName property\n  result.displayName = component.displayName?.replace(\"Impl\", \"\");\n  return result as unknown as T;\n}\n",
      "type": "registry:lib"
    },
    {
      "path": "src/lib/i18nProvider.ts",
      "content": "import defaultMessages from \"ra-language-english\";\nimport polyglotI18nProvider from \"ra-i18n-polyglot\";\n\nexport const i18nProvider = polyglotI18nProvider(\n\t() => defaultMessages,\n\t\"en\",\n\t[{ name: \"en\", value: \"English\" }],\n\t{ allowMissing: true }\n);\n",
      "type": "registry:lib"
    },
    {
      "path": "src/lib/sanitizeInputRestProps.ts",
      "content": "/* eslint-disable */\n/**\n * @deprecated Use ra-core `sanitizeInputRestProps` once available.\n */\nexport const sanitizeInputRestProps = ({\n  afterSubmit,\n  allowNull,\n  alwaysOn,\n  beforeSubmit,\n  component,\n  data,\n  defaultValue,\n  error,\n  format,\n  formatOnBlur,\n  initializeForm,\n  input,\n  isEqual,\n  isRequired,\n  label,\n  limitChoicesToValue,\n  locale,\n  meta,\n  multiple,\n  name,\n  options,\n  optionText,\n  optionValue,\n  parse,\n  record,\n  ref,\n  refetch,\n  render,\n  resource,\n  setFilter,\n  setPagination,\n  setSort,\n  shouldUnregister,\n  source,\n  submitError,\n  subscription,\n  textAlign,\n  translate,\n  translateChoice,\n  validate,\n  validateFields,\n  value,\n  ...rest\n}: any) => rest;\n",
      "type": "registry:lib"
    },
    {
      "path": "src/lib/utils.ts",
      "content": "import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n",
      "type": "registry:lib"
    },
    {
      "path": "src/components/ui/sidebar.tsx",
      "content": "import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { VariantProps, cva } from \"class-variance-authority\";\nimport { PanelLeftIcon } from \"lucide-react\";\n\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\";\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\nconst SIDEBAR_WIDTH = \"16rem\";\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\";\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  openMobile: boolean;\n  setOpenMobile: (open: boolean) => void;\n  isMobile: boolean;\n  toggleSidebar: () => void;\n};\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null);\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext);\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n  }\n\n  return context;\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean;\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n}) {\n  const isMobile = useIsMobile();\n  const [openMobile, setOpenMobile] = React.useState(false);\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen);\n  const open = openProp ?? _open;\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value;\n      if (setOpenProp) {\n        setOpenProp(openState);\n      } else {\n        _setOpen(openState);\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n    },\n    [setOpenProp, open]\n  );\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);\n  }, [isMobile, setOpen, setOpenMobile]);\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault();\n        toggleSidebar();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [toggleSidebar]);\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\";\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  );\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  );\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\";\n  variant?: \"sidebar\" | \"floating\" | \"inset\";\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    );\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]\"\n            : \"group-data-[collapsible=icon]:w-(--sidebar-width-icon)\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]\"\n            : \"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar();\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"size-7\", className)}\n      onClick={(event) => {\n        onClick?.(event);\n        toggleSidebar();\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  );\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar();\n\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\";\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  );\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean;\n  isActive?: boolean;\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>;\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\";\n  const { isMobile, state } = useSidebar();\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  );\n\n  if (!tooltip) {\n    return button;\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    };\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  );\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean;\n  showOnHover?: boolean;\n}) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean;\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, []);\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-(--skeleton-width) flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  );\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean;\n  size?: \"sm\" | \"md\";\n  isActive?: boolean;\n}) {\n  const Comp = asChild ? Slot : \"a\";\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n};\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/label.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/skeleton.tsx",
      "content": "import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/button.tsx",
      "content": "import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/command.tsx",
      "content": "import * as React from \"react\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { SearchIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\"\n\nfunction Command({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive>) {\n  return (\n    <CommandPrimitive\n      data-slot=\"command\"\n      className={cn(\n        \"bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandDialog({\n  title = \"Command Palette\",\n  description = \"Search for a command to run...\",\n  children,\n  ...props\n}: React.ComponentProps<typeof Dialog> & {\n  title?: string\n  description?: string\n}) {\n  return (\n    <Dialog {...props}>\n      <DialogHeader className=\"sr-only\">\n        <DialogTitle>{title}</DialogTitle>\n        <DialogDescription>{description}</DialogDescription>\n      </DialogHeader>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nfunction CommandInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Input>) {\n  return (\n    <div\n      data-slot=\"command-input-wrapper\"\n      className=\"flex h-9 items-center gap-2 border-b px-3\"\n    >\n      <SearchIcon className=\"size-4 shrink-0 opacity-50\" />\n      <CommandPrimitive.Input\n        data-slot=\"command-input\"\n        className={cn(\n          \"placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction CommandList({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.List>) {\n  return (\n    <CommandPrimitive.List\n      data-slot=\"command-list\"\n      className={cn(\n        \"max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandEmpty({\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Empty>) {\n  return (\n    <CommandPrimitive.Empty\n      data-slot=\"command-empty\"\n      className=\"py-6 text-center text-sm\"\n      {...props}\n    />\n  )\n}\n\nfunction CommandGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Group>) {\n  return (\n    <CommandPrimitive.Group\n      data-slot=\"command-group\"\n      className={cn(\n        \"text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Separator>) {\n  return (\n    <CommandPrimitive.Separator\n      data-slot=\"command-separator\"\n      className={cn(\"bg-border -mx-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CommandItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Item>) {\n  return (\n    <CommandPrimitive.Item\n      data-slot=\"command-item\"\n      className={cn(\n        \"data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"command-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/popover.tsx",
      "content": "import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Popover({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />\n}\n\nfunction PopoverTrigger({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />\n}\n\nfunction PopoverContent({\n  className,\n  align = \"center\",\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n  return (\n    <PopoverPrimitive.Portal>\n      <PopoverPrimitive.Content\n        data-slot=\"popover-content\"\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden\",\n          className\n        )}\n        {...props}\n      />\n    </PopoverPrimitive.Portal>\n  )\n}\n\nfunction PopoverAnchor({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />\n}\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/badge.tsx",
      "content": "import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n);\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\";\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  );\n}\n\nexport { Badge, badgeVariants };\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/switch.tsx",
      "content": "import * as React from \"react\"\nimport * as SwitchPrimitive from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Switch({\n  className,\n  ...props\n}: React.ComponentProps<typeof SwitchPrimitive.Root>) {\n  return (\n    <SwitchPrimitive.Root\n      data-slot=\"switch\"\n      className={cn(\n        \"peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <SwitchPrimitive.Thumb\n        data-slot=\"switch-thumb\"\n        className={cn(\n          \"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0\"\n        )}\n      />\n    </SwitchPrimitive.Root>\n  )\n}\n\nexport { Switch }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/separator.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator-root\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/breadcrumb.tsx",
      "content": "import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Breadcrumb({ ...props }: React.ComponentProps<\"nav\">) {\n  return <nav aria-label=\"breadcrumb\" data-slot=\"breadcrumb\" {...props} />\n}\n\nfunction BreadcrumbList({ className, ...props }: React.ComponentProps<\"ol\">) {\n  return (\n    <ol\n      data-slot=\"breadcrumb-list\"\n      className={cn(\n        \"text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"breadcrumb-item\"\n      className={cn(\"inline-flex items-center gap-1.5\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbLink({\n  asChild,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"breadcrumb-link\"\n      className={cn(\"hover:text-foreground transition-colors\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbPage({ className, ...props }: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"breadcrumb-page\"\n      role=\"link\"\n      aria-disabled=\"true\"\n      aria-current=\"page\"\n      className={cn(\"text-foreground font-normal\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction BreadcrumbSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"breadcrumb-separator\"\n      role=\"presentation\"\n      aria-hidden=\"true\"\n      className={cn(\"[&>svg]:size-3.5\", className)}\n      {...props}\n    >\n      {children ?? <ChevronRight />}\n    </li>\n  )\n}\n\nfunction BreadcrumbEllipsis({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"breadcrumb-ellipsis\"\n      role=\"presentation\"\n      aria-hidden=\"true\"\n      className={cn(\"flex size-9 items-center justify-center\", className)}\n      {...props}\n    >\n      <MoreHorizontal className=\"size-4\" />\n      <span className=\"sr-only\">More</span>\n    </span>\n  )\n}\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/drawer.tsx",
      "content": "import * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Drawer({\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) {\n  return <DrawerPrimitive.Root data-slot=\"drawer\" {...props} />\n}\n\nfunction DrawerTrigger({\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Trigger>) {\n  return <DrawerPrimitive.Trigger data-slot=\"drawer-trigger\" {...props} />\n}\n\nfunction DrawerPortal({\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Portal>) {\n  return <DrawerPrimitive.Portal data-slot=\"drawer-portal\" {...props} />\n}\n\nfunction DrawerClose({\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Close>) {\n  return <DrawerPrimitive.Close data-slot=\"drawer-close\" {...props} />\n}\n\nfunction DrawerOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Overlay>) {\n  return (\n    <DrawerPrimitive.Overlay\n      data-slot=\"drawer-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DrawerContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Content>) {\n  return (\n    <DrawerPortal data-slot=\"drawer-portal\">\n      <DrawerOverlay />\n      <DrawerPrimitive.Content\n        data-slot=\"drawer-content\"\n        className={cn(\n          \"group/drawer-content bg-background fixed z-50 flex h-auto flex-col\",\n          \"data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b\",\n          \"data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t\",\n          \"data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm\",\n          \"data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm\",\n          className\n        )}\n        {...props}\n      >\n        <div className=\"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block\" />\n        {children}\n      </DrawerPrimitive.Content>\n    </DrawerPortal>\n  )\n}\n\nfunction DrawerHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"drawer-header\"\n      className={cn(\n        \"flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DrawerFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"drawer-footer\"\n      className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DrawerTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Title>) {\n  return (\n    <DrawerPrimitive.Title\n      data-slot=\"drawer-title\"\n      className={cn(\"text-foreground font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DrawerDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Description>) {\n  return (\n    <DrawerPrimitive.Description\n      data-slot=\"drawer-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/hooks/use-mobile.ts",
      "content": "import * as React from \"react\";\n\nconst MOBILE_BREAKPOINT = 768;\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(\n    undefined\n  );\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    };\n    mql.addEventListener(\"change\", onChange);\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    return () => mql.removeEventListener(\"change\", onChange);\n  }, []);\n\n  return !!isMobile;\n}\n",
      "type": "registry:hook",
      "target": ""
    },
    {
      "path": "src/components/ui/card.tsx",
      "content": "import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/hooks/useBulkExport.tsx",
      "content": "import {\n  Exporter,\n  fetchRelatedRecords,\n  useDataProvider,\n  useListContext,\n  useNotify,\n  useResourceContext,\n} from \"ra-core\";\nimport { useCallback, useMemo } from \"react\";\n\n/**\n * This fill will be backported to 'ra-core' in the future.\n *\n * @deprecated Import from 'ra-core' instead.\n */\nexport function useBulkExport<\n  ResourceInformationsType extends Partial<{ resource: string }>\n>(props: UseBulkExportProps<ResourceInformationsType>) {\n  const { exporter: customExporter, meta } = props;\n\n  const resource = useResourceContext(props);\n  const { exporter: exporterFromContext, selectedIds } = useListContext();\n  const exporter = customExporter || exporterFromContext;\n  const dataProvider = useDataProvider();\n  const notify = useNotify();\n\n  const bulkExport = useCallback(() => {\n    if (exporter && resource) {\n      dataProvider\n        .getMany(resource, { ids: selectedIds, meta })\n        .then(({ data }) =>\n          exporter(\n            data,\n            fetchRelatedRecords(dataProvider),\n            dataProvider,\n            resource\n          )\n        )\n        .catch((error) => {\n          console.error(error);\n          notify(\"ra.notification.http_error\", {\n            type: \"error\",\n          });\n        });\n    }\n  }, [dataProvider, exporter, notify, resource, selectedIds, meta]);\n\n  return useMemo(() => {\n    return {\n      bulkExport,\n    };\n  }, [bulkExport]);\n}\n\nexport type ResourceInformation = Partial<{ resource: string }>;\n\nexport type UseBulkExportProps<T extends ResourceInformation> = T & {\n  exporter?: Exporter;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  meta?: any;\n};\n",
      "type": "registry:hook",
      "target": ""
    },
    {
      "path": "src/components/ui/input.tsx",
      "content": "import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/tooltip.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  )\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  )\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  )\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/alert.tsx",
      "content": "import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-card text-card-foreground\",\n        destructive:\n          \"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        \"col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        \"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/table.tsx",
      "content": "import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/checkbox.tsx",
      "content": "import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { CheckIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        \"peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/dropdown-menu.tsx",
      "content": "import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n}\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/pagination.tsx",
      "content": "import * as React from \"react\"\nimport {\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  MoreHorizontalIcon,\n} from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button, buttonVariants } from \"@/components/ui/button\"\n\nfunction Pagination({ className, ...props }: React.ComponentProps<\"nav\">) {\n  return (\n    <nav\n      role=\"navigation\"\n      aria-label=\"pagination\"\n      data-slot=\"pagination\"\n      className={cn(\"mx-auto flex w-full justify-center\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction PaginationContent({\n  className,\n  ...props\n}: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"pagination-content\"\n      className={cn(\"flex flex-row items-center gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction PaginationItem({ ...props }: React.ComponentProps<\"li\">) {\n  return <li data-slot=\"pagination-item\" {...props} />\n}\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<React.ComponentProps<typeof Button>, \"size\"> &\n  React.ComponentProps<\"a\">\n\nfunction PaginationLink({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) {\n  return (\n    <a\n      aria-current={isActive ? \"page\" : undefined}\n      data-slot=\"pagination-link\"\n      data-active={isActive}\n      className={cn(\n        buttonVariants({\n          variant: isActive ? \"outline\" : \"ghost\",\n          size,\n        }),\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction PaginationPrevious({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) {\n  return (\n    <PaginationLink\n      aria-label=\"Go to previous page\"\n      size=\"default\"\n      className={cn(\"gap-1 px-2.5 sm:pl-2.5\", className)}\n      {...props}\n    >\n      <ChevronLeftIcon />\n      <span className=\"hidden sm:block\">Previous</span>\n    </PaginationLink>\n  )\n}\n\nfunction PaginationNext({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) {\n  return (\n    <PaginationLink\n      aria-label=\"Go to next page\"\n      size=\"default\"\n      className={cn(\"gap-1 px-2.5 sm:pr-2.5\", className)}\n      {...props}\n    >\n      <span className=\"hidden sm:block\">Next</span>\n      <ChevronRightIcon />\n    </PaginationLink>\n  )\n}\n\nfunction PaginationEllipsis({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      aria-hidden\n      data-slot=\"pagination-ellipsis\"\n      className={cn(\"flex size-9 items-center justify-center\", className)}\n      {...props}\n    >\n      <MoreHorizontalIcon className=\"size-4\" />\n      <span className=\"sr-only\">More pages</span>\n    </span>\n  )\n}\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationLink,\n  PaginationItem,\n  PaginationPrevious,\n  PaginationNext,\n  PaginationEllipsis,\n}\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/select.tsx",
      "content": "import * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = \"default\",\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: \"sm\" | \"default\"\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"popper\",\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            \"p-1\",\n            position === \"popper\" &&\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/radio-group.tsx",
      "content": "import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { CircleIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction RadioGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Root>) {\n  return (\n    <RadioGroupPrimitive.Root\n      data-slot=\"radio-group\"\n      className={cn(\"grid gap-3\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction RadioGroupItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof RadioGroupPrimitive.Item>) {\n  return (\n    <RadioGroupPrimitive.Item\n      data-slot=\"radio-group-item\"\n      className={cn(\n        \"border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator\n        data-slot=\"radio-group-indicator\"\n        className=\"relative flex items-center justify-center\"\n      >\n        <CircleIcon className=\"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n}\n\nexport { RadioGroup, RadioGroupItem }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/dialog.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content>) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <DialogPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\n          <XIcon />\n          <span className=\"sr-only\">Close</span>\n        </DialogPrimitive.Close>\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/admin/confirm.tsx",
      "content": "import { AlertCircle, CheckCircle } from \"lucide-react\";\nimport { useTranslate } from \"ra-core\";\nimport * as React from \"react\";\nimport { type ComponentType, type MouseEventHandler, useCallback } from \"react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\n\nexport const Confirm = (props: ConfirmProps) => {\n  const {\n    className,\n    isOpen = false,\n    loading,\n    title,\n    content,\n    cancel = \"ra.action.cancel\",\n    confirm = \"ra.action.confirm\",\n    confirmColor = \"primary\",\n    ConfirmIcon = CheckCircle,\n    CancelIcon = AlertCircle,\n    onClose,\n    onConfirm,\n    translateOptions = {},\n    titleTranslateOptions = translateOptions,\n    contentTranslateOptions = translateOptions,\n    ...rest\n  } = props;\n\n  const translate = useTranslate();\n\n  const handleConfirm = useCallback(\n    (e: React.MouseEvent<HTMLButtonElement>) => {\n      e.stopPropagation();\n      onConfirm(e);\n    },\n    [onConfirm],\n  );\n\n  const handleClick = useCallback((e: React.MouseEvent<HTMLDivElement>) => {\n    e.stopPropagation();\n  }, []);\n\n  return (\n    <Dialog open={isOpen} onOpenChange={() => onClose()}>\n      <DialogContent className={className} onClick={handleClick} {...rest}>\n        <DialogHeader>\n          <DialogTitle>\n            {typeof title === \"string\"\n              ? translate(title, { _: title, ...titleTranslateOptions })\n              : title}\n          </DialogTitle>\n          {typeof content === \"string\" ? (\n            <DialogDescription>\n              {translate(content, {\n                _: content,\n                ...contentTranslateOptions,\n              })}\n            </DialogDescription>\n          ) : (\n            content\n          )}\n        </DialogHeader>\n        <DialogFooter>\n          <Button\n            variant=\"ghost\"\n            disabled={loading}\n            onClick={onClose}\n            className=\"gap-1\"\n          >\n            <CancelIcon className=\"h-5 w-5\" />\n            {translate(cancel, { _: cancel })}\n          </Button>\n          <Button\n            disabled={loading}\n            onClick={handleConfirm}\n            className=\"gap-1\"\n            variant={confirmColor === \"warning\" ? \"destructive\" : \"default\"}\n          >\n            <ConfirmIcon className=\"h-5 w-5\" />\n            {translate(confirm, { _: confirm })}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport interface ConfirmProps {\n  cancel?: string;\n  className?: string;\n  confirm?: string;\n  confirmColor?: \"primary\" | \"warning\";\n  ConfirmIcon?: ComponentType;\n  CancelIcon?: ComponentType;\n  content: React.ReactNode;\n  isOpen?: boolean;\n  loading?: boolean;\n  onClose: () => void;\n  onConfirm: MouseEventHandler;\n  title: React.ReactNode;\n  /**\n   * @deprecated use `titleTranslateOptions` and `contentTranslateOptions` instead\n   */\n  translateOptions?: object;\n  titleTranslateOptions?: object;\n  contentTranslateOptions?: object;\n}\n",
      "type": "registry:component",
      "target": ""
    },
    {
      "path": "src/components/admin/icon-button-with-tooltip.tsx",
      "content": "import { useTranslate } from \"ra-core\";\nimport * as React from \"react\";\nimport { MouseEvent } from \"react\";\n\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\n/**\n * A Button with a tooltip which ensures the tooltip is closed on click to avoid ghost tooltips\n * when the button position changes.\n */\nexport const IconButtonWithTooltip = ({\n  label,\n  onClick,\n  children,\n  disabled,\n  ...props\n}: IconButtonWithTooltipProps) => {\n  const translate = useTranslate();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  let translatedLabel = label;\n  if (typeof label === \"string\") {\n    translatedLabel = translate(label, { _: label });\n  }\n\n  const handleClick = (event: MouseEvent<HTMLButtonElement>) => {\n    handleClose();\n    onClick?.(event);\n  };\n\n  return (\n    <TooltipProvider>\n      <Tooltip open={open} onOpenChange={setOpen}>\n        <TooltipTrigger asChild>\n          <Button\n            type=\"button\"\n            variant=\"ghost\"\n            size=\"icon\"\n            aria-label={\n              typeof translatedLabel === \"string\" ? translatedLabel : undefined\n            }\n            onClick={handleClick}\n            disabled={disabled}\n            onMouseEnter={handleOpen}\n            onMouseLeave={handleClose}\n            {...props}\n          >\n            {children}\n          </Button>\n        </TooltipTrigger>\n        <TooltipContent>\n          <p>{translatedLabel}</p>\n        </TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  );\n};\n\nexport interface IconButtonWithTooltipProps\n  extends React.ComponentProps<\"button\"> {\n  label: React.ReactNode;\n  children: React.ReactNode;\n}\n",
      "type": "registry:component",
      "target": ""
    },
    {
      "path": "src/components/ui/textarea.tsx",
      "content": "import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/avatar.tsx",
      "content": "import * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-8 shrink-0 overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/ui/accordion.tsx",
      "content": "import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDownIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Accordion({\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Root>) {\n  return <AccordionPrimitive.Root data-slot=\"accordion\" {...props} />\n}\n\nfunction AccordionItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Item>) {\n  return (\n    <AccordionPrimitive.Item\n      data-slot=\"accordion-item\"\n      className={cn(\"border-b last:border-b-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AccordionTrigger({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Trigger>) {\n  return (\n    <AccordionPrimitive.Header className=\"flex\">\n      <AccordionPrimitive.Trigger\n        data-slot=\"accordion-trigger\"\n        className={cn(\n          \"focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <ChevronDownIcon className=\"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200\" />\n      </AccordionPrimitive.Trigger>\n    </AccordionPrimitive.Header>\n  )\n}\n\nfunction AccordionContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof AccordionPrimitive.Content>) {\n  return (\n    <AccordionPrimitive.Content\n      data-slot=\"accordion-content\"\n      className=\"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm\"\n      {...props}\n    >\n      <div className={cn(\"pt-0 pb-4\", className)}>{children}</div>\n    </AccordionPrimitive.Content>\n  )\n}\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n",
      "type": "registry:ui",
      "target": ""
    },
    {
      "path": "src/components/admin/spinner.tsx",
      "content": "import { cn } from \"@/lib/utils\";\nimport { VariantProps, cva } from \"class-variance-authority\";\nimport { Loader2 } from \"lucide-react\";\n\nconst spinnerVariants = cva(\"flex-col items-center justify-center\", {\n  variants: {\n    show: {\n      true: \"flex\",\n      false: \"hidden\",\n    },\n  },\n  defaultVariants: {\n    show: true,\n  },\n});\n\nconst loaderVariants = cva(\"animate-spin text-primary\", {\n  variants: {\n    size: {\n      small: \"size-6\",\n      medium: \"size-8\",\n      large: \"size-12\",\n    },\n  },\n  defaultVariants: {\n    size: \"medium\",\n  },\n});\n\ninterface SpinnerContentProps\n  extends VariantProps<typeof spinnerVariants>,\n    VariantProps<typeof loaderVariants> {\n  className?: string;\n}\n\nexport function Spinner({ size, show, className }: SpinnerContentProps) {\n  return (\n    <span className={spinnerVariants({ show })}>\n      <Loader2 className={cn(loaderVariants({ size }), className)} />\n    </span>\n  );\n}\n",
      "type": "registry:component",
      "target": ""
    },
    {
      "path": "src/components/ui/sheet.tsx",
      "content": "import * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />\n}\n\nfunction SheetTrigger({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />\n}\n\nfunction SheetClose({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />\n}\n\nfunction SheetPortal({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />\n}\n\nfunction SheetOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\n  return (\n    <SheetPrimitive.Overlay\n      data-slot=\"sheet-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SheetContent({\n  className,\n  children,\n  side = \"right\",\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\n  side?: \"top\" | \"right\" | \"bottom\" | \"left\"\n}) {\n  return (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content\n        data-slot=\"sheet-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n          side === \"right\" &&\n            \"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm\",\n          side === \"left\" &&\n            \"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm\",\n          side === \"top\" &&\n            \"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b\",\n          side === \"bottom\" &&\n            \"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\n          <XIcon className=\"size-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  )\n}\n\nfunction SheetHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sheet-header\"\n      className={cn(\"flex flex-col gap-1.5 p-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sheet-footer\"\n      className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\n  return (\n    <SheetPrimitive.Title\n      data-slot=\"sheet-title\"\n      className={cn(\"text-foreground font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\n  return (\n    <SheetPrimitive.Description\n      data-slot=\"sheet-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sheet,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n",
      "type": "registry:ui",
      "target": ""
    }
  ]
}